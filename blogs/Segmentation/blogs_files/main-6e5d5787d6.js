!function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("tween.js"),a=i(s),l=e("lodash.find"),u=i(l),c=e("lodash.assignin"),d=i(c),h=e("lodash.uniqueid"),f=i(h),p=e("lodash.random"),v=i(p),m=e("../utils/distanceTo"),g=i(m),b=e("../utils/parseColour"),y=i(b),_={start:{},finish:{},control:[],presetPoints:null,pointCount:0,animationDuration:0},w=function(){function e(t,n){var i=this,o=arguments.length<=2||void 0===arguments[2]?_:arguments[2];r(this,e),this.config=t,this.container=n,Object.keys(o).forEach(function(e){i[e]=o[e]}),this.setup()}return o(e,[{key:"setup",value:function(){this.points=[],this.tweens=[],this.presetPoints?this.setPoints():this.calculatePoints(),this.resetTweenState()}},{key:"resetTweenState",value:function(){this.drawnStartIndex=0,this.drawnFinishIndex=0}},{key:"getNextPoint",value:function(e,t,n,i){var r=(0,g["default"])(e,t,n.x,n.y),o={x:e-r.x/(i+1),y:t-r.y/(i+1)},s=this.container.points.filter(function(e){return(0,g["default"])(e.x,e.y,n.x,n.y).total<r.total&&!e.fixed}).map(function(e){return{id:e.id,distance:(0,g["default"])(o.x,o.y,e.x,e.y),fixed:e.fixed}}).sort(function(e,t){return e.distance.total>t.distance.total?1:-1});return!!s.length&&(0,u["default"])(this.container.points,function(e){return e.id===s[0].id})}},{key:"getTargetPoint",value:function(e){var t=this.container.points.filter(function(e){return!e.fixed}).map(function(t){return{id:t.id,distance:(0,g["default"])(e.x,e.y,t.x,t.y),fixed:t.fixed}}).sort(function(e,t){return e.distance.total>t.distance.total?1:-1});return!!t.length&&(0,u["default"])(this.container.points,function(e){return e.id===t[0].id})}},{key:"getActivePoints",value:function(){var e=[];if(this.config.GUIDE_INFLUENCE_persist&&(e=this.points.slice(this.drawnStartIndex,this.drawnFinishIndex)),this.activeTween){var t=this.points[this.activeTween.startIndex],n=this.points[this.activeTween.stopIndex],i=(0,g["default"])(t.x,t.y,n.x,n.y),r={x:t.x-i.x*this.activeTween.progress,y:t.y-i.y*this.activeTween.progress};e.push(r)}return e}},{key:"setPoints",value:function(){var e=this,t=[];this.presetPoints.forEach(function(n,i){var r=0===i||i===e.presetPoints.length-1;n.HIGHLIGHT=!0,n.TARGET=!0,t.push(n),n.setFixed(r)}),this.points=t}},{key:"calculatePoints",value:function(){for(var e=[(0,d["default"])(this.start,{id:(0,f["default"])()})],t=1,n=0,i=this.control.length+1;n<i;n++){for(var r=!this.control[n],o=r?this.finish:this.control[n],s=t,a=this.pointCount+t;s<a;s++){var l=this.getNextPoint(e[s-1].x,e[s-1].y,o,this.pointCount+t-s);l?(l.HIGHLIGHT=!0,l.setFixed(),e.push(l),t++):(s--,a--)}if(r)e.push((0,d["default"])(o,{id:(0,f["default"])()}));else{var u=this.getTargetPoint(o);u&&(u.HIGHLIGHT=!0,u.TARGET=!0,e.push(u),u.setFixed())}t++}this.points=e}},{key:"show",value:function(e){this.startAnimation("in",e)}},{key:"hide",value:function(e){this.startAnimation("out",e)}},{key:"startAnimation",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?"in":arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];this.tweens=[];var i=this.getTweenDurations();this.activeTween=null,this.points.forEach(function(r,o){o===e.points.length-2?e.tweens.push(e.getTween(o,t,i[o],n)):o<e.points.length-1&&e.tweens.push(e.getTween(o,t,i[o]))}),this.tweens.forEach(function(t,n){e.tweens[n+1]&&t.chain(e.tweens[n+1])}),this.tweens[0]&&this.tweens[0].start()}},{key:"getTween",value:function(e,t,n,i){var r=this,o=this,s={progress:0},l=new a["default"].Tween(s).to({progress:1},n).onUpdate(function(){o.activeTween={direction:t,startIndex:e,stopIndex:e+1,progress:this.progress}}).onStart(function(){"out"===t&&r.drawnStartIndex++}).onComplete(function(){r.activeTween=null,r.hasBeenRemoved||("in"===t&&r.drawnFinishIndex++,e===r.points.length-2&&("in"===t||"out"===t&&r.resetTweenState()),"function"==typeof i&&i())}).easing(a["default"].Easing.Linear.None);return l}},{key:"getTweenDurations",value:function(){var e=[],t=this.animationDuration/this.points.length*.7,n=this.animationDuration/this.points.length*.1,i=t*this.points.length;this.points.forEach(function(n){return e.push(t)});for(var r=0;i<=this.animationDuration;){var o=(0,v["default"])(n,6*n);e[r%e.length]+=o,i+=o,r++}return e}},{key:"getShade",value:function(e){var t=1-(e/(this.container.width/.3)).toFixed(1);return t=t>1?1:t}},{key:"drawConnections",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=(0,y["default"])(this.config.GUIDES_colour);this.container.ctx.beginPath(),this.container.ctx.lineWidth=e*this.config.GUIDES_maxWidth,this.container.ctx.strokeStyle="rgba("+i+", "+e+")",n.forEach(function(e){t.container.ctx.moveTo(e.x1,e.y1),t.container.ctx.lineTo(e.x2,e.y2)}),this.container.ctx.stroke()}},{key:"render",value:function(){var e=this;this.config.GUIDES_showControl&&(this.container.ctx.fillStyle="rgba(0, 255, 0, 0.9)",this.container.ctx.beginPath(),this.control.forEach(function(t){e.container.ctx.arc(t.x,t.y,10,0,2*Math.PI)}),this.container.ctx.fill(),this.container.ctx.fillStyle="rgba(0, 255, 0, 0.9)",this.container.ctx.beginPath(),this.container.ctx.arc(this.start.x,this.start.y,10,0,2*Math.PI),this.container.ctx.arc(this.finish.x,this.finish.y,10,0,2*Math.PI),this.container.ctx.fill());var t={};this.points.forEach(function(n,i){var r=e.points[i+1];if(r&&i>=e.drawnStartIndex&&i+1<=e.drawnFinishIndex){var o=(0,g["default"])(n.x,n.y,r.x,r.y),s=e.getShade(o.total);t[s]=t[s]||[],t[s].push({x1:n.x,y1:n.y,x2:r.x,y2:r.y})}});for(var n in t)this.drawConnections(n,t[n]);return this.activeTween&&this.renderActiveTween(),this}},{key:"renderActiveTween",value:function(){var e=this.points[this.activeTween.startIndex],t=this.points[this.activeTween.stopIndex],n=(0,g["default"])(e.x,e.y,t.x,t.y),i=void 0,r=void 0;"in"===this.activeTween.direction?(i=e,r={x:i.x-n.x*this.activeTween.progress,y:i.y-n.y*this.activeTween.progress}):(i=t,r={x:i.x+(n.x-n.x*this.activeTween.progress),y:i.y+(n.y-n.y*this.activeTween.progress)});var o=1.5,s={x1:i.x,y1:i.y,x2:r.x,y2:r.y};this.drawConnections(o,[s])}},{key:"update",value:function(){}},{key:"destroy",value:function(){this.points.forEach(function(e){e.HIGHLIGHT=e.TARGET=!1,"function"==typeof e.unsetFixed&&e.unsetFixed()}),this.points=[]}}]),e}();n["default"]=w},{"../utils/distanceTo":5,"../utils/parseColour":7,"lodash.assignin":42,"lodash.find":44,"lodash.random":50,"lodash.uniqueid":57,"tween.js":327}],2:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("tween.js"),a=i(s),l=e("lodash.uniqueid"),u=i(l),c=e("lodash.random"),d=i(c),h=e("../utils/parseColour"),f=i(h),p=e("../utils/distanceTo"),v=i(p),m=5,g=10,b=.8,y=1.2,_=function(){function e(t,n,i,o,s,a,l){r(this,e),this.config=t,this.id=(0,u["default"])(),this.container=n,this.canvas=i,this.ctx=o,this.reset(s,a)}return o(e,[{key:"distanceTo",value:function(e){var t=e.x-this.x,n=e.y-this.y,i=Math.sqrt(Math.pow(t,2)+Math.pow(n,2));return{x:t,y:n,total:i}}},{key:"reset",value:function(e,t,n,i){this.fixed=!1,this.x=e||Math.random()*this.container.width,this.y=t||Math.random()*this.container.width,this.vx=n||Math.random()*this.config.POINTS_maxVelocity-this.config.POINTS_maxVelocity/2,this.vy=i||Math.random()*this.config.POINTS_maxVelocity-this.config.POINTS_maxVelocity/2,this.r=(0,d["default"])(m,g),this.d=2*this.r,this.attraction={x:0,y:0},this.offsetInfluence=(0,d["default"])(b,y)}},{key:"update",value:function(){if(this.config.POINTS_animate&&!this.permaFixed&&!this.isTweening){if(this.config.INTERACTION_useAttraction&&this.updateAttraction(),this.fixed)return this.updateWhenFixed();this.x+=this.vx+this.attraction.x,this.y+=this.vy+this.attraction.y;var e=this.config.CONTAINER_oversize/100*this.canvas.width,t=this.config.CONTAINER_oversize/100*this.canvas.height;this.x-e>this.canvas.width-this.r||this.x+e<this.r?this.reset(this.x,this.y,this.vx*-1,this.vy):(this.y-t>this.canvas.height-this.r||this.y+t<this.r)&&this.reset(this.x,this.y,this.vx,this.vy*-1),this.yOffset&&this.y+this.yOffset}}},{key:"updateWhenFixed",value:function(){var e=this.currentYOffset||0,t=this.yOffset||0;this.x+=(this.vx+this.attraction.x)*this.config.GUIDES_fixedVelocity,this.y+=(this.vy+this.attraction.y)*this.config.GUIDES_fixedVelocity,this.x>this.fixedConfig.x+this.fixedConfig.roamAmount||this.x<this.fixedConfig.x-this.fixedConfig.roamAmount?this.vx*=-1:(this.y-e>this.fixedConfig.y+this.fixedConfig.roamAmount||this.y-e<this.fixedConfig.y-this.fixedConfig.roamAmount)&&(this.vy*=-1),this.y+=(t-e)*this.offsetInfluence,this.currentYOffset=t}},{key:"updateAttraction",value:function(){var e=(0,v["default"])(this.x,this.y,this.container.marker.pos.x,this.container.marker.pos.y),t=(this.container.width+this.container.height)/2*.1;if(e.total<=t){var n=Math.max(Math.abs(this.container.pointer.delta.x),Math.abs(this.container.pointer.delta.y));n=n>10?10:n;var i=n/10,r=this.attraction.x-=1*(e.x/t)*.1*i,o=this.attraction.y-=1*(e.y/t)*.1*i;this.attraction={x:r,y:o}}this.attraction.x*=.98,this.attraction.y*=.98}},{key:"render",value:function(){if(this.config.POINTS_circlePoints){var e=(0,f["default"])(this.config.POINTS_circleStroke),t=this.fixed?"255, 0, 0":(0,f["default"])(this.config.POINTS_circleFill);this.ctx.strokeStyle="rgba("+e+", 0.5)",this.TARGET?this.ctx.fillStyle="rgba(0, 0, 255, 0.9)":this.HIGHLIGHT?this.ctx.fillStyle="rgba(255, 0, 0, 0.9)":this.ctx.fillStyle="rgba("+t+", 0.9)",this.ctx.lineWidth=.5,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI),this.ctx.fill(),this.ctx.stroke()}return this}},{key:"tweenToPoint",value:function(e,t,n){this.isTweening=!0;var i=this,r={x:this.x,y:this.y},o=(0,d["default"])(300,500),s=(0,d["default"])(0,150),l={progress:0},u=new a["default"].Tween(l).to({progress:1},o).delay(s).onUpdate(function(){i.x=r.x+(e-r.x)*this.progress,i.y=r.y+(t-r.y)*this.progress}).onComplete(function(){i.isTweening=!1,n&&"function"==typeof n&&n()}).easing(a["default"].Easing.Back.Out);u.start()}},{key:"setFixed",value:function(e){var t=(this.canvas.width+this.canvas.height)/2*this.config.GUIDES_fixedRoam,n=e?0:Math.random()*t+t/2;this.fixed=!0,this.fixedConfig={x:this.x,y:this.y,roamAmount:n}}},{key:"setYOffset",value:function(e){this.yOffset=e}},{key:"unsetFixed",value:function(){this.fixed=!1,this.fixedConfig=null}}]),e}();n["default"]=_},{"../utils/distanceTo":5,"../utils/parseColour":7,"lodash.random":50,"lodash.uniqueid":57,"tween.js":327}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s={deepmind:{high:{POINTS_animate:!0,POINTS_count:13,POINTS_maxVelocity:.3,POINTS_circlePoints:!1,POINTS_circleFill:[39,93,158],POINTS_circleStroke:[255,255,255],POINTS_distribution:"random",CONNECTIONS_reach:55,CONNECTIONS_maxPerPoint:20,CONNECTIONS_colourOne:"#a3d1f0",CONNECTIONS_colourTwo:"#7eafeb",CONNECTIONS_colourThree:"#104870",CONNECTIONS_useColourMap:!1,CONNECTIONS_strength:.5,CONNECTIONS_strengthAlpha:.75,CONNECTIONS_maxWidth:1,CONNECTIONS_render:!0,CONTAINER_colour:[39,93,158],CONTAINER_gradientColour:[55,160,236],CONTAINER_refreshRate:56.68428587026408,CONTAINER_oversize:3.5292080567408406,GUIDES_count:4,GUIDES_pointCount:2,GUIDES_fixedRoam:.2,GUIDES_fixedVelocity:.2,GUIDES_colour:[0,179.99999999999991,255],GUIDES_tweenTime:1200,GUIDES_maxWidth:1,GUIDES_combinedStart:!0,GUIDES_combinedFinish:!0,GUIDES_showControl:!1,GUIDE_INFLUENCE_reach:.2,GUIDE_INFLUENCE_strengthBoost:.2,GUIDE_INFLUENCE_minStrength:.6,GUIDE_INFLUENCE_colourBleed:!0,GUIDE_INFLUENCE_persist:!1,INTERACTION_reach:.1,INTERACTION_strengthBoost:1,INTERACTION_deltaThreshold:10,INTERACTION_useAttraction:!1,INTERACTION_showMarker:!1},medium:{POINTS_count:8,CONNECTIONS_reach:40,CONNECTIONS_maxPerPoint:10,GUIDES_count:3},low:{POINTS_animate:!1,POINTS_count:2,CONNECTIONS_reach:10,CONNECTIONS_maxPerPoint:10,GUIDES_count:2}},applied:{high:{POINTS_animate:!0,POINTS_count:8,POINTS_maxVelocity:.6,POINTS_circlePoints:!1,POINTS_circleFill:[39,93,158],POINTS_circleStroke:[255,255,255],POINTS_distribution:"random",CONNECTIONS_reach:50,CONNECTIONS_maxPerPoint:20,CONNECTIONS_colourOne:"#10cbd4",CONNECTIONS_colourTwo:"#23d9e1",CONNECTIONS_colourThree:"#5fb9be",CONNECTIONS_useColourMap:!1,CONNECTIONS_strength:.30000000000000004,CONNECTIONS_strengthAlpha:.4,CONNECTIONS_maxWidth:1,CONNECTIONS_render:!0,CONTAINER_colour:"#00737a",CONTAINER_gradientColour:"#009ba3",CONTAINER_refreshRate:35.939159761734324,CONTAINER_oversize:3.5292080567408406,GUIDES_count:3,GUIDES_pointCount:1,GUIDES_fixedRoam:1,GUIDES_fixedVelocity:1,GUIDES_colour:"#0cabb2",GUIDES_tweenTime:1200,GUIDES_maxWidth:1,GUIDES_combinedStart:!0,GUIDES_combinedFinish:!0,GUIDES_showControl:!1,GUIDE_INFLUENCE_reach:.2,GUIDE_INFLUENCE_strengthBoost:.2,GUIDE_INFLUENCE_minStrength:.6000000000000001,GUIDE_INFLUENCE_colourBleed:!0,GUIDE_INFLUENCE_persist:!1,INTERACTION_reach:.15000000000000002,INTERACTION_strengthBoost:1,INTERACTION_deltaThreshold:10,INTERACTION_useAttraction:!1,INTERACTION_showMarker:!1},medium:{POINTS_count:6,CONNECTIONS_reach:40,CONNECTIONS_maxPerPoint:15,GUIDES_count:2},low:{POINTS_count:5,CONNECTIONS_reach:30,CONNECTIONS_maxPerPoint:15,GUIDES_count:2}},research:{high:{POINTS_animate:!0,POINTS_count:8,POINTS_maxVelocity:.6,POINTS_circlePoints:!1,POINTS_circleFill:[39,93,158],POINTS_circleStroke:[255,255,255],POINTS_distribution:"random",CONNECTIONS_reach:50,CONNECTIONS_maxPerPoint:20,CONNECTIONS_colourOne:"#afa8d7",CONNECTIONS_colourTwo:"#9187c8",CONNECTIONS_colourThree:"#afa8d4",CONNECTIONS_useColourMap:!1,CONNECTIONS_strength:.3,CONNECTIONS_strengthAlpha:.4,CONNECTIONS_maxWidth:1,CONNECTIONS_render:!0,CONTAINER_colour:"#5346A6",CONTAINER_gradientColour:"#978edf",CONTAINER_refreshRate:35.939159761734324,CONTAINER_oversize:3.5292080567408406,GUIDES_count:3,GUIDES_pointCount:1,GUIDES_fixedRoam:1,GUIDES_fixedVelocity:1,GUIDES_colour:"#b0aad2",GUIDES_tweenTime:1200,GUIDES_maxWidth:1,GUIDES_combinedStart:!0,GUIDES_combinedFinish:!0,GUIDES_showControl:!1,GUIDE_INFLUENCE_reach:.2,GUIDE_INFLUENCE_strengthBoost:.2,GUIDE_INFLUENCE_minStrength:.6000000000000001,GUIDE_INFLUENCE_colourBleed:!0,GUIDE_INFLUENCE_persist:!1,INTERACTION_reach:.15000000000000002,INTERACTION_strengthBoost:1,INTERACTION_deltaThreshold:10,INTERACTION_useAttraction:!1,INTERACTION_showMarker:!1},medium:{POINTS_count:6,CONNECTIONS_reach:40,CONNECTIONS_maxPerPoint:15,GUIDES_count:2},low:{POINTS_count:5,CONNECTIONS_reach:30,CONNECTIONS_maxPerPoint:15,GUIDES_count:2}},"ethics-society":{high:{POINTS_animate:!0,POINTS_count:8,POINTS_maxVelocity:.6,POINTS_circlePoints:!1,POINTS_circleFill:[39,93,158],POINTS_circleStroke:[255,255,255],POINTS_distribution:"random",CONNECTIONS_reach:50,CONNECTIONS_maxPerPoint:20,CONNECTIONS_colourOne:"#C44280",CONNECTIONS_colourTwo:"#8C305C",CONNECTIONS_colourThree:"#632140",CONNECTIONS_useColourMap:!1,CONNECTIONS_strength:.3,CONNECTIONS_strengthAlpha:.7,CONNECTIONS_maxWidth:1,CONNECTIONS_render:!0,CONTAINER_colour:"#8C305C",CONTAINER_gradientColour:"#632140",CONTAINER_refreshRate:35.68428587026408,CONTAINER_oversize:3.5292080567408406,GUIDES_count:3,GUIDES_pointCount:1,GUIDES_fixedRoam:1,GUIDES_fixedVelocity:1,GUIDES_colour:"#C44280",GUIDES_tweenTime:1200,GUIDES_maxWidth:1,GUIDES_combinedStart:!0,GUIDES_combinedFinish:!0,GUIDES_showControl:!1,GUIDE_INFLUENCE_reach:.2,GUIDE_INFLUENCE_strengthBoost:.2,GUIDE_INFLUENCE_minStrength:0,GUIDE_INFLUENCE_colourBleed:!0,GUIDE_INFLUENCE_persist:!1,INTERACTION_reach:.15,INTERACTION_strengthBoost:1,INTERACTION_deltaThreshold:10,INTERACTION_useAttraction:!1,INTERACTION_showMarker:!1},medium:{POINTS_count:6,CONNECTIONS_reach:40,CONNECTIONS_maxPerPoint:15,GUIDES_count:2},low:{POINTS_count:5,CONNECTIONS_reach:30,CONNECTIONS_maxPerPoint:15,GUIDES_count:2}}};for(var a in s)for(var l in s[a])"high"!==l&&(s[a][l]=(0,o["default"])({},s[a].high,s[a].medium));n["default"]=s},{"lodash.assignin":42}],4:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("tween.js"),a=i(s),l=e("chroma-js"),u=i(l),c=e("lodash.random"),d=i(c),h=e("lodash.debounce"),f=i(h),p=e("lodash.find"),v=i(p),m=e("lodash.findindex"),g=i(m),b=e("lodash.sortby"),y=i(b),_=e("./Point"),w=i(_),E=e("./Guide"),I=i(E),T=e("../utils/poissonDiscSampler"),S=i(T),C=e("../utils/parseColour"),x=i(C),A=e("../utils/distanceTo"),O=i(A),N={parentNode:document.body,initialWidth:null,initialHeight:null,startPoint:!1,finishPoint:!1,controlPoints:!1,autoplay:!0,disableGuides:!1,autoResetPoints:!0,autoPlayGuides:!0,guideHideDelay:2e3,isInteractive:!0,isInteractiveMilestones:!1,interactiveMilestonesPointCallback:null,interactiveMilestonesConfig:null,isDebug:!1},M=function(){function e(t){var n=this,i=arguments.length<=1||void 0===arguments[1]?null:arguments[1],o=arguments.length<=2||void 0===arguments[2]?null:arguments[2];r(this,e),this._bindClassMethods(),this.config=t,Object.keys(N).forEach(function(e){n[e]=t.hasOwnProperty(e)?t[e]:N[e]}),this.isPaused=!this.autoplay,o&&(this.Stats=o),i&&(this.GUI=i,this.GUI.registerResetCallback(this.reset)),this.isDebug&&(this.gradient=document.querySelector(".gradient")),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.resolution=window.devicePixelRatio&&window.devicePixelRatio>1?1.5:1,this.config.compositing&&(this.ctx.globalCompositeOperation=this.config.compositing),this.init()}return o(e,[{key:"_bindClassMethods",value:function(){this.resize=this.resize.bind(this),this.reset=this.reset.bind(this),this.update=this.update.bind(this),this.onPointerMove=this.onPointerMove.bind(this)}},{key:"reset",value:function(){this.minLineVisibleDistance=Math.min(this.width,this.height)*(this.config.CONNECTIONS_reach/100),this.startPoint=this.finishPoint=null,this.guides&&!this.isInteractiveMilestones&&this.stopGuidesAnimation(),this.setupPoints(),this.setupGuides(),this.config.isInteractiveMilestones&&!this.points.filter(function(e){return e.IM_POINT}).length&&this.setupInteractiveMilestones(),this.isDebug&&(clearTimeout(this.playGuidesAnimationTimer),clearTimeout(this.guideAnimationTimer),this.playGuidesAnimationTimer=setTimeout(this.playGuidesAnimation.bind(this),1e3))}},{key:"init",value:function(){this.points=[],this.guides=[],this.resize(this.config.initialWidth,this.config.initialHeight),this.setupMarker(),this.parentNode.appendChild(this.canvas),this.bindEvents(),this.update()}},{key:"setupPoints",value:function(){var e=this,t=[{x:0,y:0}],n=this.width+this.config.CONTAINER_oversize/100*this.width*this.resolution,i=this.height+this.config.CONTAINER_oversize/100*this.height*this.resolution,r=(n+i)/2/this.config.POINTS_count;if(0!==n&&0!==i)for(var o=(0,S["default"])(n,i,r),s=void 0;s=o();)t.push(s);if("random"===this.config.POINTS_distribution){for(var a=[],l=0;l<t.length;l++)a.push({x:Math.random()*n,y:Math.random()*i});t=a}this.points=this.points.filter(function(e){return e.IM_POINT||e.IM_ITEM_POINT}),t.forEach(function(t){e.points.push(new w["default"](e.config,e,e.canvas,e.ctx,t.x,t.y))})}},{key:"setupGuides",value:function(){if(this.guides=this.guides.filter(function(e){return e.IM_GUIDE}),!this.config.disableGuides&&!this.config.isInteractiveMilestones){var e=void 0,t=void 0;this.config.GUIDES_combinedStart&&(e=this.startPoint||{x:10,y:this.height*(0,d["default"])(.1,.9)},this.startPoint=e),this.config.GUIDES_combinedFinish&&(t=this.finishPoint||{x:this.width-10,y:this.height*(0,d["default"])(.1,.9)},this.finishPoint=t);for(var n=this.controlPoints||[{x:this.width*(0,d["default"])(.2,.8),y:this.height*(0,d["default"])(.1,.9)}],i=0;i<this.config.GUIDES_count;i++)this.config.GUIDES_combinedStart||(e={x:10,y:this.height*(0,d["default"])(.1,.9)}),this.config.GUIDES_combinedFinish||(t={x:this.width-10,y:this.height*(0,d["default"])(.1,.9)}),this.guides.push(new I["default"](this.config,this,{start:e,finish:t,control:n,pointCount:this.config.GUIDES_pointCount,animationDuration:this.config.GUIDES_tweenTime}));return this}}},{key:"removeGuide",value:function(e){var t=this.guides.indexOf(e);this.guides.splice(t,1)}},{key:"playGuidesAnimation",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.stopGuidesAnimation(),this.guides&&this.guides.length||this.setupGuides(),this.animating=!0;var n=this.guides.length,i=0,r=0;this.guides.forEach(function(o){o.show(function(){i++,i===n&&"function"==typeof t.onShowComplete&&t.onShowComplete(),e.guideAnimationTimer=setTimeout(function(){o.hide(function(){r++,o.destroy(),e.removeGuide(o),r===n&&(e.autoPlayGuides?e.guideAnimationTimer=setTimeout(function(){e.animating=!1,e.autoResetPoints&&(e.startPoint=e.finishPoint=null),e.playGuidesAnimation()},3e3):e.animating=!1,"function"==typeof t.onHideComplete&&t.onHideComplete())})},e.guideHideDelay)})})}},{key:"stopGuidesAnimation",value:function(){clearTimeout(this.guideAnimationTimer),clearTimeout(this.playGuidesAnimationTimer),this.guides.forEach(function(e){e.hasBeenRemoved=!0,e.tweens.forEach(function(e){return a["default"].remove(e)}),e.destroy()}),this.guides=[]}},{key:"getActiveGuidePoints",value:function(){var e=[];return this.guides.forEach(function(t){e=e.concat(t.getActivePoints())}),e}},{key:"setupMarker",value:function(){this.pointer={pos:null,last:null,delta:{x:0,y:0}},this.marker={pos:{x:0,y:0}},this.marker.pos.x=this.width/2,this.marker.pos.y=this.height/2,this.config.INTERACTION_showMarker&&this.renderMarker()}},{key:"update",value:function(){this.Stats&&this.Stats.get().begin(),this.isPaused||(a["default"].update(),this.render()),this.Stats&&this.Stats.get().end(),this.animationCallback=window.requestAnimationFrame(this.update)}},{key:"render",value:function(){if("transparent"!==this.config.CONTAINER_colour){var e=(0,x["default"])(this.config.CONTAINER_colour);this.ctx.fillStyle="rgba("+e+", "+this.config.CONTAINER_refreshRate/100+")",this.ctx.fillRect(0,0,this.width,this.height)}if(this.config.clearOnRender&&this.ctx.clearRect(0,0,this.width,this.height),this.config.CONNECTIONS_render){for(var t=this.getActiveGuidePoints(),n={},i=0;i<this.points.length-1;i++)for(var r=this.points[i],o=0,s=i+1;s<this.points.length;s++){var a=this.points[s],l=r.distanceTo(a).total;if(l<=this.minLineVisibleDistance&&o<this.config.CONNECTIONS_maxPerPoint&&!r.IM_ITEM_POINT&&!a.IM_ITEM_POINT){o++;var u={x:(r.x+a.x)/2,y:(r.y+a.y)/2},c=this.getPointProximityStrength(u,t),d=this.getMarkerProximityStrength(u),h=Math.min(c+d,1),f=((1-l/this.minLineVisibleDistance)*h).toFixed(1),p={x1:r.x,y1:r.y,x2:a.x,y2:a.y};this.config.GUIDE_INFLUENCE_colourBleed&&(p.guidePoint=!!(c-this.config.GUIDE_INFLUENCE_minStrength)),n[f]=n[f]||[],n[f].push(p)}}this.renderConnections(n),this.isInteractiveMilestones&&this.renderMilestoneItemConnections()}this.isInteractiveMilestones&&this.updateInteractiveMilestonePoints(),this.guides.forEach(function(e){return e.render().update()}),this.points.forEach(function(e){return e.render().update()}),this.updateMarker(),this.config.INTERACTION_showMarker&&this.renderMarker(),this.isDebug&&this.renderGradient()}},{key:"getPointProximityStrength",value:function(e,t){var n=this,i=this.width*this.config.GUIDE_INFLUENCE_reach,r=0;return t.forEach(function(t){var o=(0,O["default"])(e.x,e.y,t.x,t.y);if(o.total<=i){var s=n.config.GUIDE_INFLUENCE_strengthBoost-o.total/i*n.config.GUIDE_INFLUENCE_strengthBoost;r+=s}}),r=r+=this.config.GUIDE_INFLUENCE_minStrength}},{key:"getMarkerProximityStrength",value:function(e){var t=(0,O["default"])(e.x,e.y,this.marker.pos.x,this.marker.pos.y),n=0;t.total<this.width*this.config.INTERACTION_reach&&(n+=this.config.INTERACTION_strengthBoost-t.total/(this.width*this.config.INTERACTION_reach)*this.config.INTERACTION_strengthBoost);var i=Math.max(Math.abs(this.pointer.delta.x),Math.abs(this.pointer.delta.y));i=i>this.config.INTERACTION_deltaThreshold?this.config.INTERACTION_deltaThreshold:i;var r=i/this.config.INTERACTION_deltaThreshold;return n*r}},{key:"updateMarker",value:function(){if(this.pointer.pos){var e=this.pointer.pos.x-this.marker.pos.x,t=this.pointer.pos.y-this.marker.pos.y;return this.marker.pos.x+=.1*e,this.marker.pos.y+=.1*t,this.pointer.delta.x*=.98,this.pointer.delta.y*=.98,this}}},{key:"renderMarker",value:function(){this.ctx.fillStyle="#ff0000",this.ctx.beginPath(),this.ctx.arc(this.marker.pos.x,this.marker.pos.y,10,0,2*Math.PI),this.ctx.fill()}},{key:"renderConnections",value:function(e){var t=this,n=void 0,i=void 0,r=void 0,o=void 0;this.config.CONNECTIONS_useColourMap?n=u["default"].scale([this.config.CONNECTIONS_colourThree,this.config.CONNECTIONS_colourTwo,this.config.CONNECTIONS_colourOne]).domain([0,.4,1]).mode("hsl"):(i=(0,x["default"])(this.config.CONNECTIONS_colourOne),r=(0,x["default"])(this.config.CONNECTIONS_colourTwo),o=(0,x["default"])(this.config.CONNECTIONS_colourThree));for(var s in e){var a=void 0;if("0.0"!==s){a=this.config.CONNECTIONS_useColourMap?n(parseFloat(s,10)).rgb().join(","):s>=.4?i:s>=.3?r:o;var l=this.config.CONNECTIONS_strength-s*this.config.CONNECTIONS_strength,c=l-l*this.config.CONNECTIONS_strengthAlpha,d=s*this.config.CONNECTIONS_strength+c;d=Math.min(d,1);var h=void 0;if(this.config.GUIDE_INFLUENCE_colourBleed){h=e[s].filter(function(e){return!e.guidePoint});var f=e[s].filter(function(e){return e.guidePoint}),p=(1-this.config.GUIDE_INFLUENCE_minStrength)*d,v=u["default"].mix("rgb("+a+")",this.config.GUIDES_colour,p,"lab").rgb().join(",");this.ctx.beginPath(),this.ctx.lineWidth=s*this.config.CONNECTIONS_maxWidth,this.ctx.strokeStyle="rgba("+v+", "+d+")",f.forEach(function(e){t.ctx.moveTo(e.x1,e.y1),t.ctx.lineTo(e.x2,e.y2)}),this.ctx.stroke()}else h=e[s];this.ctx.beginPath(),this.ctx.lineWidth=s*this.config.CONNECTIONS_maxWidth,this.ctx.strokeStyle="rgba("+a+", "+d+")",h.forEach(function(e){t.ctx.moveTo(e.x1,e.y1),t.ctx.lineTo(e.x2,e.y2)}),this.ctx.stroke()}}}},{key:"renderMilestoneItemConnections",value:function(){var e=this.points.filter(function(e){return e.IM_ITEM_POINT});if(e.length){var t=(0,v["default"])(this.points,function(t){return t.m_id===e[0].parent_m_id});this.ctx.lineWidth=1;for(var n=0;n<e.length;n++){var i=e[n],r=this.config.interactiveMilestonesConfig.connectionAlphas[i.alphaSetting],o=r.max*r.tweened;this.ctx.beginPath(),this.ctx.strokeStyle="rgba(255, 255, 255, "+o+")",i.connectedToParent&&(this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(t.x,t.y));for(var s=0,a=n+1;a<e.length;a++){var l=e[a];s<3&&(this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(l.x,l.y),s++)}this.ctx.stroke()}}}},{key:"bindEvents",value:function(){if(this.isInteractive){var e="ontouchstart"in window?"touchmove":"mousemove";this.canvas.addEventListener(e,this.onPointerMove,!1)}this.isDebug&&(window.addEventListener("keyup",this.onKeyUp.bind(this),!1),window.addEventListener("resize",(0,f["default"])(this.resize,300)))}},{key:"unbindEvents",value:function(){if(this.isInteractive){var e="ontouchstart"in window?"touchmove":"mousemove";this.canvas.removeEventListener(e,this.onPointerMove,!1)}this.isDebug&&(window.removeEventListener("keyup",this.onKeyUp.bind(this),!1),window.removeEventListener("resize",(0,f["default"])(this.resize,300)))}},{key:"onKeyUp",value:function(e){83===e.keyCode&&(this.isPaused=!this.isPaused),72===e.keyCode&&this.GUI&&this.toggleGUIVisibility(),84===e.keyCode&&this.toggleUIVisibility()}},{key:"onPointerMove",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];if(e&&("ontouchstart"in window?(t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY)),t*=this.resolution,n*=this.resolution,this.pointer.pos&&(this.pointer.last={x:this.pointer.pos.x,y:this.pointer.pos.y}),this.pointer.pos={x:t,y:n},this.pointer.last){var i=this.pointer.pos.x-this.pointer.last.x,r=this.pointer.pos.y-this.pointer.last.y;Math.max(Math.abs(i),Math.abs(r))>Math.max(Math.abs(this.pointer.delta.x),Math.abs(this.pointer.delta.y))&&(this.pointer.delta={x:this.pointer.pos.x-this.pointer.last.x,y:this.pointer.pos.y-this.pointer.last.y})}else this.pointer.delta={x:0,y:0}}},{key:"toggleGUIVisibility",value:function(){var e="block"===this.GUI.get().domElement.style.display?"none":"block";this.GUI.get().domElement.style.display=this.Stats.get().domElement.style.display=e}},{key:"toggleUIVisibility",value:function(){var e=document.documentElement.classList.contains("hide-ui")?"remove":"add";document.documentElement.classList[e]("hide-ui")}},{key:"renderGradient",value:function(){var e=(0,x["default"])(this.config.CONTAINER_gradientColour);this.gradient.style.background="linear-gradient(to right, rgba("+e+",0) 0%, rgba("+e+",0) 7%, rgba("+e+",1) 100%)"}},{key:"destroy",value:function(){window.cancelAnimationFrame(this.animationCallback),this.stopGuidesAnimation(),this.pause(),this.unbindEvents(),this.points=null,this.guides=null}},{key:"resize",value:function(e,t){e="number"==typeof e?e:this.parentNode.clientWidth,t="number"==typeof t?t:this.parentNode.clientHeight,this.width=e*this.resolution,this.height=t*this.resolution,this.canvas.width=this.width,this.canvas.height=this.height,this.reset()}},{key:"play",value:function(){return this.isPaused=!1,this}},{key:"pause",value:function(){return this.isPaused=!0,this}},{key:"setPointer",value:function(e,t){this.onPointerMove(null,e,t)}},{key:"setupInteractiveMilestones",value:function(){var e=this,t=[];this.config.interactiveMilestonesConfig.milestones.forEach(function(n){var i=new w["default"](e.config,e,e.canvas,e.ctx,n.position.x,n.position.y);i.IM_POINT=!0,i.m_id=n.m_id,t.push(i)});var n={x:0,y:this.height*(0,d["default"])(.46,.54)},i={x:this.width,y:this.height*(0,d["default"])(.46,.54)},r=new w["default"](this.config,this,this.canvas,this.ctx,0,0,(!0)),o=new w["default"](this.config,this,this.canvas,this.ctx,0,0,(!0));r.x=n.x,r.y=n.y,o.x=i.x,o.y=i.y,r.m_id="start",o.m_id="finish",r.IM_POINT=o.IM_POINT=!0,t.unshift(r),t.push(o),this.points=this.points.concat(t);var s=new I["default"](this.config,this,{start:n,finish:i,presetPoints:t,animationDuration:1e3});s.IM_GUIDE=!0,this.guides.push(s)}},{key:"showInteractiveMilestones",value:function(e){this.guides[0].show(e)}},{key:"showInteractiveMilestoneYear",value:function(e,t){this.addInteractiveMilestoneItems(e),this.animateInteractiveMilestoneItemAlpha(1,t)}},{key:"hideInteractiveMilestoneYear",value:function(e,t){var n=this;this.animateInteractiveMilestoneItemAlpha(0,function(){
n.removeInteractiveMilestoneItems(e),t&&"function"==typeof t&&t()})}},{key:"updateInteractiveMilestones",value:function(e){var t=this;e.forEach(function(e){var n=(0,v["default"])(t.points,function(t){return t.m_id===e.m_id});n.reset(e.position.x,e.position.y+n.currentYOffset||0),n.setFixed()});var n=(0,v["default"])(this.points,function(e){return"start"===e.m_id}),i=(0,v["default"])(this.points,function(e){return"finish"===e.m_id});n.x=0,n.y=this.height*(0,d["default"])(.46,.54)+n.currentYOffset||0,i.x=this.width,i.y=this.height*(0,d["default"])(.46,.54)+i.currentYOffset||0}},{key:"animateInteractiveMilestonesToOffset",value:function(e,t,n){var i=this.height*e,r=this.points.filter(function(e){return e.IM_POINT}),o=void 0,s=void 0;t&&(o=(0,g["default"])(r,function(e){return e.m_id===t}),s=(0,d["default"])(600,800));var l=[];r.forEach(function(e,t){var u=(0,d["default"])(600,1e3);if(o){var c=Math.abs(o-(0,g["default"])(r,function(t){return t.m_id===e.m_id}));u=s+(0,d["default"])(100*c,200*c)}var h={progress:e.currentYOffset||0},f=new a["default"].Tween(h).to({progress:i},u).onUpdate(function(){e.setYOffset(this.progress)}).easing(a["default"].Easing.Back.InOut);o&&t===o&&f.onComplete(n),l.push({point:e,duration:u,tween:f})}),l=(0,y["default"])(l,"duration").reverse(),l.forEach(function(e,t){o||0!==t||e.tween.onComplete(n),e.tween.start()})}},{key:"animateInteractiveMilestoneItemAlpha",value:function(e,t){var n=this.config.interactiveMilestonesConfig;n.connectionAlphas||(n.connectionAlphas=[{max:1,tweened:0},{max:.9,tweened:0},{max:.8,tweened:0},{max:.6,tweened:0},{max:.4,tweened:0}]);var i=0,r=void 0,o=(0,d["default"])(200,400),s=(0,d["default"])(10,220);n.connectionAlphas.forEach(function(t,l){var u={alpha:n.connectionAlphas[l].tweened},c=o+s;c>i&&(r=l,i=c);var d=void 0;!function(t,i){d=new a["default"].Tween(u).to({alpha:e},o).delay(s).onUpdate(function(){n.connectionAlphas[i].tweened=this.alpha}).easing(a["default"].Easing.Quintic.Out)}(t,l),n.connectionAlphas[l].tween=d,n.connectionAlphas[l].tweenDuration=c}),n.connectionAlphas.forEach(function(e,n){n===r&&e.tween.onComplete(function(){t&&"function"==typeof t&&t()}),e.tween.start()})}},{key:"addInteractiveMilestoneItems",value:function(e){var t=this,n=(0,v["default"])(this.interactiveMilestonesConfig.milestones,function(t){return t.m_id===e}),i=(0,v["default"])(this.points,function(t){return t.m_id===e}),r=[];n.items.forEach(function(n,o){var s=t._getMilestoneitemPosition(i.x,i.y,r),a=s.x,l=s.y,u=new w["default"](t.config,t,t.canvas,t.ctx,i.x,i.y);u.IM_ITEM_POINT=!0,u.m_id=n,u.parent_m_id=e,u.alphaSetting=o%5,u.destinationPoint={x:a,y:l},u.tweenToPoint(a,l,function(){u.setFixed()}),r.push(u)}),r=r.map(function(e){return e.distanceToParent=(0,O["default"])(e.x,e.y,i.x,i.y).total,e}),r=(0,y["default"])(r,"distanceToParent"),r.forEach(function(e,t){(t<2||t<Math.ceil(r.length/3))&&(e.connectedToParent=!0)}),this.points=this.points.concat(r)}},{key:"updateInteractiveMilestoneItems",value:function(){}},{key:"removeInteractiveMilestoneItems",value:function(e){var t=this,n=[];this.points.forEach(function(t,i){t.parent_m_id===e&&n.push(i)}),n.reverse(),n.forEach(function(e){t.points.splice(e,1)})}},{key:"updateInteractiveMilestonePoints",value:function(){var e=this.points.filter(function(e){return e.IM_POINT}),t=this.points.filter(function(e){return e.IM_ITEM_POINT}),n={years:e,items:t};this.interactiveMilestonesPointCallback(n)}},{key:"_getMilestoneitemPosition",value:function(e,t,n){var i=this._getMilestoneitemPositionOptions(e,t,5);i=i.map(function(e){var t={item:null,distance:9999};return n.forEach(function(n){var i=(0,O["default"])(e.x,e.y,n.destinationPoint.x,n.destinationPoint.y).total;i<t.distance&&(t.item=n,t.distance=i)}),e.closestDistance=t.distance,e});var r=(0,y["default"])(i,"closestDistance").reverse()[0],o=r.x,s=r.y;return{x:o,y:s}}},{key:"_getMilestoneitemPositionOptions",value:function(e,t,n){for(var i=[],r=0;r<n;r++)i.push({x:e+(0,d["default"])(-200,200),y:t+(0,d["default"])(.1*this.height,.6*this.height)});return i}}]),e}();n["default"]=M},{"../utils/distanceTo":5,"../utils/parseColour":7,"../utils/poissonDiscSampler":8,"./Guide":1,"./Point":2,"chroma-js":25,"lodash.debounce":43,"lodash.find":44,"lodash.findindex":45,"lodash.random":50,"lodash.sortby":53,"tween.js":327}],5:[function(e,t,n){"use strict";function i(e,t,n,i){var r=e-n,o=t-i,s=Math.sqrt(Math.pow(r,2)+Math.pow(o,2));return{x:r,y:o,total:s}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],6:[function(e,t,n){"use strict";function i(e){e=e.replace(o,function(e,t,n,i){return t+t+n+n+i+i});var t=r.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}Object.defineProperty(n,"__esModule",{value:!0});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,o=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;n["default"]=i},{}],7:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if("string"==typeof e){var t=(0,s["default"])(e),n=t.r,i=t.g,r=t.b;return[n,i,r].join(",")}return e.map(function(e){return Math.round(e)}).join(",")}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=e("./hexToRgb"),s=i(o)},{"./hexToRgb":6}],8:[function(e,t,n){"use strict";function i(e,t,n){function i(e,t){var n=e/l|0,i=t/l|0,r=Math.max(n-2,0),o=Math.max(i-2,0),a=Math.min(n+3,u),h=Math.min(i+3,c);for(i=o;i<h;++i){var f=i*u;for(n=r;n<a;++n)if(p=d[f+n]){var p,v=p.x-e,m=p.y-t;if(v*v+m*m<s)return!1}}return!0}function r(e,t){var n={x:e,y:t,cx:e,cy:t};return h.push(n),d[u*(t/l|0)+(e/l|0)]=n,++p,++f,n}var o=30,s=n*n,a=3*s,l=n*Math.SQRT1_2,u=Math.ceil(e/l),c=Math.ceil(t/l),d=new Array(u*c),h=[],f=0,p=0;return function(){if(!p)return r(Math.random()*e,Math.random()*t);for(;f;){for(var n=Math.random()*f|0,l=h[n],u=0;u<o;++u){var c=2*Math.PI*Math.random(),d=Math.sqrt(Math.random()*a+s),v=l.x+d*Math.cos(c),m=l.y+d*Math.sin(c);if(0<=v&&v<e&&0<=m&&m<t&&i(v,m))return r(v,m)}h[n]=h[--f],h.length=f}}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],9:[function(e,t,n){var i=e("lodash/assign"),r=function(e){var t,n=this,r=[].slice.call(arguments);t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},i(t,n);var o=function(){this.constructor=t};return o.prototype=n.prototype,t.prototype=new o,e&&(r.unshift(t.prototype),i.apply(null,r)),t.__super__=n.prototype,t};t.exports=r},{"lodash/assign":237}],10:[function(e,t,n){function i(e){if(!e)throw new ReferenceError("Collection view missing required parameters: collection, el");if(!e.collection)throw new ReferenceError("Collection view requires a collection");if(!e.el&&!this.insertSelf)throw new ReferenceError("Collection view requires an el");r(this,s(e,h)),this.views=[],this.listenTo(this.collection,"add",this._addViewForModel),this.listenTo(this.collection,"remove",this._removeViewForModel),this.listenTo(this.collection,"sort",this._rerenderAll),this.listenTo(this.collection,"refresh reset",this._reset)}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-collection-view"]=window.ampersand["ampersand-collection-view"]||[],window.ampersand["ampersand-collection-view"].push("2.0.1"));var r=e("lodash/assign"),o=e("lodash/invokeMap"),s=e("lodash/pick"),a=e("lodash/find"),l=e("lodash/difference"),u=e("lodash/bind"),c=e("ampersand-events"),d=e("ampersand-class-extend"),h=["collection","el","viewOptions","view","emptyView","filter","reverse","parent"];r(i.prototype,c,{render:function(){return this._renderAll(),this},remove:function(){o(this.views,"remove"),this.stopListening()},_getViewByModel:function(e){return a(this.views,function(t){return e===t.model})},_createViewForModel:function(e,t){var n={model:e,collection:this.collection,parent:this},i=new this.view(r(n,this.viewOptions));return this.views.push(i),i.renderedByParentView=!0,i.render(t),i},_getOrCreateByModel:function(e,t){return this._getViewByModel(e)||this._createViewForModel(e,t)},_addViewForModel:function(e,t,n){var i=!this.filter||this.filter(e);if(i){this.renderedEmptyView&&(this.renderedEmptyView.remove(),delete this.renderedEmptyView);var r=this._getOrCreateByModel(e,{containerEl:this.el});n&&n.rerender?this._insertView(r):this._insertViewAtIndex(r)}},_insertViewAtIndex:function(e){if(!e.insertSelf){var t,n,i=this.collection.indexOf(e.model);t=this.reverse?this.collection.at(i-1):this.collection.at(i+1),n=this._getViewByModel(t),n?this.el.insertBefore(e.el,n&&n.el):this.el.appendChild(e.el)}},_insertView:function(e){e.insertSelf||(this.reverse&&this.el.firstChild?this.el.insertBefore(e.el,this.el.firstChild):this.el.appendChild(e.el))},_removeViewForModel:function(e){var t=this._getViewByModel(e);if(t){var n=this.views.indexOf(t);n!==-1&&(t=this.views.splice(n,1)[0],this._removeView(t),0===this.views.length&&this._renderEmptyView())}},_removeView:function(e){e.animateRemove?e.animateRemove():e.remove()},_renderAll:function(){this.collection.each(u(this._addViewForModel,this)),0===this.views.length&&this._renderEmptyView()},_rerenderAll:function(e,t){t=t||{},this.collection.each(u(function(e){this._addViewForModel(e,this,r(t,{rerender:!0}))},this))},_renderEmptyView:function(){if(this.emptyView&&!this.renderedEmptyView){var e=this.renderedEmptyView=new this.emptyView({parent:this});this.el.appendChild(e.render().el)}},_reset:function(){var e=this.collection.map(u(this._getOrCreateByModel,this)),t=l(this.views,e);t.forEach(this._removeView,this),this.views=e,this._rerenderAll(),0===this.views.length&&this._renderEmptyView()}}),i.extend=d,t.exports=i},{"ampersand-class-extend":9,"ampersand-events":14,"lodash/assign":237,"lodash/bind":240,"lodash/difference":244,"lodash/find":247,"lodash/invokeMap":257,"lodash/pick":282}],11:[function(e,t,n){function i(e,t){if(t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),t.parent&&(this.parent=t.parent),!this.mainIndex){var n=this.model&&this.model.prototype&&this.model.prototype.idAttribute;this.mainIndex=n||"id"}this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,l({silent:!0},t))}var r=e("ampersand-events"),o=e("ampersand-class-extend"),s=e("lodash/isArray"),a=e("lodash/bind"),l=e("lodash/assign"),u=[].slice;l(i.prototype,r,{initialize:function(){},isModel:function(e){return this.model&&e instanceof this.model},add:function(e,t){return this.set(e,l({merge:!1,add:!0,remove:!1},t))},parse:function(e,t){return e},serialize:function(){return this.map(function(e){if(e.serialize)return e.serialize();var t={};return l(t,e),delete t.collection,t})},toJSON:function(){return this.serialize()},set:function(e,t){t=l({add:!0,remove:!0,merge:!0},t),t.parse&&(e=this.parse(e,t));var n=!s(e);e=n?e?[e]:[]:e.slice();var i,r,o,a,u,c,d,h=t.at,f=this.comparator&&null==h&&t.sort!==!1,p="string"==typeof this.comparator?this.comparator:null,v=[],m=[],g={},b=t.add,y=t.merge,_=t.remove,w=!(f||!b||!_)&&[],E=this.model&&this.model.prototype||Object.prototype;for(c=0,d=e.length;c<d;c++){if(o=e[c]||{},this.isModel(o)?i=r=o:E.generateId?i=E.generateId(o):(i=o[this.mainIndex],void 0===i&&this._isDerivedIndex(E)&&(i=E._derived[this.mainIndex].fn.call(o))),a=this.get(i))_&&(g[a.cid||a[this.mainIndex]]=!0),y&&(o=o===r?r.attributes:o,t.parse&&(o=a.parse(o,t)),a.set?(a.set(o,t),f&&!u&&a.hasChanged(p)&&(u=!0)):l(a,o)),e[c]=a;else if(b){if(r=e[c]=this._prepareModel(o,t),!r)continue;v.push(r),this._addReference(r,t)}r=a||r,r&&(w&&(r.isNew&&r.isNew()||!r[this.mainIndex]||!g[r.cid||r[this.mainIndex]])&&w.push(r),g[r[this.mainIndex]]=!0)}if(_){for(c=0,d=this.length;c<d;c++)r=this.models[c],g[r.cid||r[this.mainIndex]]||m.push(r);m.length&&this.remove(m,t)}if(v.length||w&&w.length)if(f&&(u=!0),null!=h)for(c=0,d=v.length;c<d;c++)this.models.splice(h+c,0,v[c]);else{var I=w||v;for(c=0,d=I.length;c<d;c++)this.models.push(I[c])}if(u&&this.sort({silent:!0}),!t.silent){for(c=0,d=v.length;c<d;c++)r=v[c],r.trigger?r.trigger("add",r,this,t):this.trigger("add",r,this,t);(u||w&&w.length)&&this.trigger("sort",this,t)}return n?e[0]:e},get:function(e,t){if(null!=e){var n=this._indexes[t||this.mainIndex];return n&&(n[e]||n[e[this.mainIndex]])||this._indexes.cid[e]||this._indexes.cid[e.cid]}},at:function(e){return this.models[e]},remove:function(e,t){var n,i,r,o,a=!s(e);for(e=a?[e]:u.call(e),t||(t={}),n=0,i=e.length;n<i;n++)r=e[n]=this.get(e[n]),r&&(this._deIndex(r),o=this.models.indexOf(r),this.models.splice(o,1),t.silent||(t.index=o,r.trigger?r.trigger("remove",r,this,t):this.trigger("remove",r,this,t)),this._removeReference(r,t));return a?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;n<i;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,l({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},sort:function(e){var t=this;if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),"string"==typeof this.comparator?this.models.sort(function(e,n){return e.get?(e=e.get(t.comparator),n=n.get(t.comparator)):(e=e[t.comparator],n=n[t.comparator]),e>n||void 0===e?1:e<n||void 0===n?-1:0}):1===this.comparator.length?this.models.sort(function(e,n){return e=t.comparator(e),n=t.comparator(n),e>n||void 0===e?1:e<n||void 0===n?-1:0}):this.models.sort(a(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},_reset:function(){var e=u.call(this.indexes||[]),t=0;e.push(this.mainIndex),e.push("cid");var n=e.length;for(this.models=[],this._indexes={};t<n;t++)this._indexes[e[t]]={}},_prepareModel:function(e,t){if(!this.model)return e;if(this.isModel(e))return e.collection||(e.collection=this),e;t=t?l({},t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_deIndex:function(e,t,n){var i;if(void 0!==t){if(void 0===this._indexes[t])throw new Error("Given attribute is not an index");return void delete this._indexes[t][n]}for(var r in this._indexes)i=e.hasOwnProperty(r)?e[r]:e.get&&e.get(r),delete this._indexes[r][i]},_index:function(e,t){var n;if(void 0!==t){if(void 0===this._indexes[t])throw new Error("Given attribute is not an index");return n=e[t]||e.get&&e.get(t),void(n&&(this._indexes[t][n]=e))}for(var i in this._indexes)n=e.hasOwnProperty(i)?e[i]:e.get&&e.get(i),null!=n&&(this._indexes[i][n]=e)},_isDerivedIndex:function(e){return!(!e||"object"!=typeof e._derived)&&Object.keys(e._derived).indexOf(this.mainIndex)>=0},_addReference:function(e,t){this._index(e),e.collection||(e.collection=this),e.on&&e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,this._deIndex(e),e.off&&e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){var r=e.split(":")[0],o=e.split(":")[1];("add"!==r&&"remove"!==r||n===this)&&("destroy"===r&&this.remove(t,i),t&&"change"===r&&o&&this._indexes[o]&&(this._deIndex(t,o,t.previousAttributes()[o]),this._index(t,o)),this.trigger.apply(this,arguments))}}),Object.defineProperties(i.prototype,{length:{get:function(){return this.models.length}},isCollection:{get:function(){return!0}}});var c=["indexOf","lastIndexOf","every","some","forEach","map","filter","reduce","reduceRight"];c.forEach(function(e){i.prototype[e]=function(){return this.models[e].apply(this.models,arguments)}}),i.prototype.each=i.prototype.forEach,i.extend=o,t.exports=i},{"ampersand-class-extend":9,"ampersand-events":14,"lodash/assign":237,"lodash/bind":240,"lodash/isArray":259}],12:[function(e,t,n){function i(e,t){if(""===t)return[e];var n=[];return h(e,t)&&n.push(e),n.concat(p.call(e.querySelectorAll(t)))}function r(e,t){for(var n in t)d.setAttribute(e,n,t[n])}function o(e,t){for(var n in t)d.removeAttribute(e,n)}function s(e){return Array.isArray(e)?e:[e]}function a(e,t,n){var r=e.cases[n];for(var o in e.cases){var s=e.cases[o];n!==o&&s!==r&&i(t,s).forEach(function(e){d.hide(e)})}i(t,r).forEach(function(e){d.show(e)})}function l(e){return"string"==typeof e.selector?e.selector:e.hook?'[data-hook~="'+e.hook+'"]':""}function u(e,t){var n,u=e.type||"text",c="function"==typeof u,h=l(e),p=e.yes,v=e.no,m=!(!p&&!v);if(c)return function(e,r){i(e,h).forEach(function(e){u.call(t,e,r,n)}),n=r};if("text"===u)return function(e,t){i(e,h).forEach(function(e){d.text(e,t)})};if("class"===u)return function(e,t){i(e,h).forEach(function(e){d.switchClass(e,n,t)}),n=t};if("attribute"===u){if(!e.name)throw Error('attribute bindings must have a "name"');return function(t,r){var o=s(e.name);i(t,h).forEach(function(e){o.forEach(function(t){d.setAttribute(e,t,r)})}),n=r}}if("value"===u)return function(e,t){i(e,h).forEach(function(e){t||0===t||(t=""),document.activeElement!==e&&(e.value=t)}),n=t};if("booleanClass"===u)return m?(p=s(p||""),v=s(v||""),function(e,t){var n=t?v:p,r=t?p:v;i(e,h).forEach(function(e){n.forEach(function(t){d.removeClass(e,t)}),r.forEach(function(t){d.addClass(e,t)})})}):function(t,n,r){var o=s(e.name||r),a=e.invert||!1;n=a?!n:n,i(t,h).forEach(function(e){o.forEach(function(t){d[n?"addClass":"removeClass"](e,t)})})};if("booleanAttribute"===u)return m?(p=s(p||""),v=s(v||""),function(e,t){var n=t?v:p,r=t?p:v;i(e,h).forEach(function(e){n.forEach(function(t){t&&d.removeAttribute(e,t)}),r.forEach(function(t){t&&d.addAttribute(e,t)})})}):function(t,n,r){var o=s(e.name||r),a=e.invert||!1;n=a?!n:n,i(t,h).forEach(function(e){o.forEach(function(t){d[n?"addAttribute":"removeAttribute"](e,t)})})};if("toggle"===u){var g=e.mode||"display",b=e.invert||!1;return m?function(e,t){i(e,p).forEach(function(e){d[t?"show":"hide"](e,g)}),i(e,v).forEach(function(e){d[t?"hide":"show"](e,g)})}:function(e,t){t=b?!t:t,i(e,h).forEach(function(e){d[t?"show":"hide"](e,g)})}}if("switch"===u){if(!e.cases)throw Error('switch bindings must have "cases"');return f(a,e)}if("innerHTML"===u)return function(e,t){i(e,h).forEach(function(e){d.html(e,t)})};if("switchClass"===u){if(!e.cases)throw Error('switchClass bindings must have "cases"');return function(t,n,r){var o=s(e.name||r);for(var a in e.cases)i(t,e.cases[a]).forEach(function(e){o.forEach(function(t){d[n===a?"addClass":"removeClass"](e,t)})})}}if("switchAttribute"===u){if(!e.cases)throw Error('switchAttribute bindings must have "cases"');return function(t,s,a){i(t,h).forEach(function(t){if(n&&o(t,n),s in e.cases){var i=e.cases[s];"string"==typeof i&&(i={},i[e.name||a]=e.cases[s]),r(t,i),n=i}})}}throw new Error("no such binding type: "+u)}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-dom-bindings"]=window.ampersand["ampersand-dom-bindings"]||[],window.ampersand["ampersand-dom-bindings"].push("3.8.0"));var c=e("key-tree-store"),d=e("ampersand-dom"),h=e("matches-selector"),f=e("lodash.partial"),p=Array.prototype.slice;t.exports=function(e,t){var n,i,r=new c;for(n in e)i=e[n],"string"==typeof i?r.add(n,u({type:"text",selector:i})):i.forEach?i.forEach(function(e){r.add(n,u(e,t))}):r.add(n,u(i,t));return r}},{"ampersand-dom":13,"key-tree-store":36,"lodash.partial":49,"matches-selector":295}],13:[function(e,t,n){function i(e){return e||0===e?e:""}function r(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function o(e,t){var n=e[t];return t in e&&(n===!0||n===!1)}function s(e){return"true"===c.getAttribute(e,"data-anddom-hidden")}function a(e,t){c.setAttribute(e,"data-anddom-"+t,e.style[t])}function l(e,t){e.style[t]=c.getAttribute(e,"data-anddom-"+t)||"",c.removeAttribute(e,"data-anddom-hidden")}function u(e,t){c.setAttribute(e,"data-anddom-hidden","true"),e.style[t]="visibility"===t?"hidden":"none"}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-dom"]=window.ampersand["ampersand-dom"]||[],window.ampersand["ampersand-dom"].push("1.5.0"));var c=t.exports={text:function(e,t){e.textContent=i(t)},addClass:function(e,t){t=i(t),t&&(Array.isArray(t)?t.forEach(function(t){c.addClass(e,t)}):e.classList?e.classList.add(t):r(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t))},removeClass:function(e,t){Array.isArray(t)?t.forEach(function(t){c.removeClass(e,t)}):e.classList?(t=i(t),t&&e.classList.remove(t)):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},hasClass:r,switchClass:function(e,t,n){t&&this.removeClass(e,t),this.addClass(e,n)},addAttribute:function(e,t){e.setAttribute(t,""),o(e,t)&&(e[t]=!0)},removeAttribute:function(e,t){e.removeAttribute(t),o(e,t)&&(e[t]=!1)},setAttribute:function(e,t,n){e.setAttribute(t,i(n))},getAttribute:function(e,t){return e.getAttribute(t)},hasAttribute:function(e,t){return e.hasAttribute(t)},hide:function(e,t){t||(t="display"),s(e)||(a(e,t),u(e,t))},show:function(e,t){t||(t="display"),l(e,t)},toggle:function(e,t){s(e)?c.show(e,t):c.hide(e,t)},html:function(e,t){e.innerHTML=t}}},{}],14:[function(e,t,n){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-events"]=window.ampersand["ampersand-events"]||[],window.ampersand["ampersand-events"].push("2.0.2"));var i=e("lodash/once"),r=e("lodash/keys"),o=e("lodash/isEmpty"),s=e("lodash/assign"),a=e("lodash/forEach"),l=Array.prototype.slice,u=e("./libs/utils"),c={on:function(e,t,n){if(!u.eventsApi(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!u.eventsApi(this,"once",e,[t,n])||!t)return this;var r=this,o=i(function(){r.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,n)},off:function(e,t,n){var i,o,s,a,l,c,d,h;if(!this._events||!u.eventsApi(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(a=e?[e]:r(this._events),l=0,c=a.length;l<c;l++)if(e=a[l],s=this._events[e]){if(this._events[e]=i=[],t||n)for(d=0,h=s.length;d<h;d++)o=s[d],(t&&t!==o.callback&&t!==o.callback._callback||n&&n!==o.context)&&i.push(o);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=l.call(arguments,1);if(!u.eventsApi(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&u.triggerEvents(n,t),i&&u.triggerEvents(i,arguments),this},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);var s=this;return a(i,function(e,i){e.off(t,n,s),(r||o(e._events))&&delete s._listeningTo[i]}),this},createEmitter:function(e){return s(e||{},c)},listenTo:u.createListenMethod("on"),listenToOnce:u.createListenMethod("once"),listenToAndRun:function(e,t,n){return this.listenTo.apply(this,arguments),n||"object"!=typeof t||(n=this),n.apply(this),this}};c.bind=c.on,c.unbind=c.off,c.removeListener=c.off,c.removeAllListeners=c.off,c.emit=c.trigger,t.exports=c},{"./libs/utils":15,"lodash/assign":237,"lodash/forEach":250,"lodash/isEmpty":264,"lodash/keys":274,"lodash/once":281}],15:[function(e,t,n){var i=e("lodash/uniqueId"),r=/\s+/;n.triggerEvents=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},n.eventsApi=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)e[t].apply(e,[o,n[o]].concat(i));return!1}if(r.test(n)){for(var s=n.split(r),a=0,l=s.length;a<l;a++)e[t].apply(e,[s[a]].concat(i));return!1}return!0},n.createListenMethod=function(e){return function(t,n,r){if(!t)throw new Error("Trying to listenTo event: '"+n+"' but the target object is undefined");var o=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=i("l"));if(o[s]=t,r||"object"!=typeof n||(r=this),"function"!=typeof t[e])throw new Error("Trying to listenTo event: '"+n+"' on object: "+t.toString()+" but it does not have an 'on' method so is unbindable");return t[e](n,r,this),this}}},{"lodash/uniqueId":292}],16:[function(e,t,n){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-model"]=window.ampersand["ampersand-model"]||[],window.ampersand["ampersand-model"].push("8.0.0"));var i=e("ampersand-state"),r=e("ampersand-sync"),o=e("lodash/assign"),s=e("lodash/isObject"),a=e("lodash/clone"),l=e("lodash/result"),u=function(){throw new Error('A "url" property or function must be specified')},c=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}},d=i.extend({save:function(e,t,n){var i,r;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=o({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;void 0===n.parse&&(n.parse=!0);var a=this,l=n.success;n.success=function(e){var t=a.parse(e,n);return n.wait&&(t=o(i||{},t)),!(s(t)&&!a.set(t,n))&&(l&&l(a,e,n),void a.trigger("sync",a,e,n))},c(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),n.wait&&"patch"!==r&&(n.attrs=o(a.serialize(),i));var u=this.sync(r,this,n);return n.xhr=u,u},fetch:function(e){e=e?a(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;e.success=function(i){return!!t.set(t.parse(i,e),e)&&(n&&n(t,i,e),void t.trigger("sync",t,i,e))},c(this,e);var i=this.sync("read",this,e);return e.xhr=i,i},destroy:function(e){e=e?a(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;c(this,e);var r=this.sync("delete",this,e);return e.xhr=r,e.wait||i(),r},sync:function(){return r.apply(this,arguments)},url:function(){var e=l(this,"urlRoot")||l(this.collection,"url")||u();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.getId())}});t.exports=d},{"ampersand-state":19,"ampersand-sync":20,"lodash/assign":237,"lodash/clone":241,"lodash/isObject":268,"lodash/result":284}],17:[function(e,t,n){var i=e("ampersand-events"),r=e("lodash/assign"),o=e("lodash/bind"),s=function(){this.handlers=[],this.checkUrl=o(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},a=/^[#\/]|\s+$/g,l=/^\/+|\/+$/g,u=/#.*$/;s.started=!1,r(s.prototype,i,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.location.search},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=decodeURI(this.location.pathname+this.location.search),t=this.root.slice(0,-1);return e.indexOf(t)||(e=e.slice(t.length)),e.slice(1)},getFragment:function(e){return null==e&&(e=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(a,"")},start:function(e){if(s.started)throw new Error("Backbone.history has already been started");s.started=!0,this.options=r({root:"/",pushState:!0},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment();var t=window.addEventListener;if(this.root=("/"+this.root+"/").replace(l,"/"),this._hasPushState?t("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange?t("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.location.replace(this.root+"#"+this.getPath()),!0;this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this.options.silent)return this.loadUrl()},started:function(){return s.started},stop:function(){var e=window.removeEventListener;this._hasPushState?e("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&e("hashchange",this.checkUrl,!1),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),s.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},urlChanged:function(){var e=this.getFragment();return e!==this.fragment},checkUrl:function(e){this.urlChanged()&&this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),this.handlers.some(function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!s.started)return!1;t=r({trigger:!0},t);var n=this.root+(e=this.getFragment(e||""));if(e=decodeURI(e.replace(u,"")),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace)}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.exports=new s},{"ampersand-events":14,"lodash/assign":237,"lodash/bind":240}],18:[function(e,t,n){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-router"]=window.ampersand["ampersand-router"]||[],window.ampersand["ampersand-router"].push("4.0.0"));var i=e("ampersand-class-extend"),r=e("ampersand-events"),o=e("lodash/assign"),s=e("lodash/isRegExp"),a=e("lodash/isFunction"),l=e("lodash/result"),u=e("./ampersand-history"),c=t.exports=function(e){e||(e={}),this.history=e.history||u,e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},d=/\((.*?)\)/g,h=/(\(\?)?:\w+/g,f=/\*\w+/g,p=/[\-{}\[\]+?.,\\\^$|#\s]/g;o(c.prototype,r,{initialize:function(){},route:function(e,t,n){s(e)||(e=this._routeToRegExp(e)),a(t)&&(n=t,t=""),n||(n=this[t]);var i=this;return this.history.route(e,function(r){var o=i._extractParameters(e,r);i.execute(n,o,t)!==!1&&(i.trigger.apply(i,["route:"+t].concat(o)),i.trigger("route",t,o),i.history.trigger("route",i,t,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,t){return this.history.navigate(e,t),this},reload:function(){return this.history.loadUrl(this.history.fragment),this},redirectTo:function(e){this.navigate(e,{replace:!0})},_bindRoutes:function(){if(this.routes){this.routes=l(this,"routes");for(var e,t=Object.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(p,"\\$&").replace(d,"(?:$1)?").replace(h,function(e,t){return t?e:"([^/?]+)"}).replace(f,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return n.map(function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}}),c.extend=i},{"./ampersand-history":17,"ampersand-class-extend":9,"ampersand-events":14,"lodash/assign":237,"lodash/isFunction":266,"lodash/isRegExp":270,"lodash/result":284}],19:[function(e,t,n){"use strict";function i(e,t){t||(t={}),this.cid||(this.cid=a("state")),this._events={},this._values={},this._eventBubblingHandlerCache={},this._definition=Object.create(this._definition),t.parse&&(e=this.parse(e,t)),this.parent=t.parent,this.collection=t.collection,this._keyTree=new T,this._initCollections(),this._initChildren(),this._cache={},this._previousAttributes={},e&&this.set(e,l({silent:!0,initial:!0},t)),this._changed={},this._derived&&this._initDerived(),t.init!==!1&&this.initialize.apply(this,arguments)}function r(e,t,n,i){var r,o,s=e._definition[t]={};if(p(n))r=e._ensureValidType(n),r&&(s.type=r);else{if(Array.isArray(n)&&(o=n,n={type:o[0],required:o[1],"default":o[2]}),r=e._ensureValidType(n.type),r&&(s.type=r),n.required&&(s.required=!0),n["default"]&&"object"==typeof n["default"])throw new TypeError("The default value for "+t+" cannot be an object/array, must be a value or a function which returns a value/object/array");
s["default"]=n["default"],s.allowNull=!!n.allowNull&&n.allowNull,n.setOnce&&(s.setOnce=!0),s.required&&void 0===s["default"]&&!s.setOnce&&(s["default"]=e._getDefaultForType(r)),s.test=n.test,s.values=n.values}return i&&(s.session=!0),r||(r=p(n)?n:n.type),Object.defineProperty(e,t,{set:function(e){this.set(t,e)},get:function(){if(!this._values)throw Error('You may be trying to `extend` a state object with "'+t+'" which has been defined in `props` on the object being extended');var e=this._values[t],n=this._dataTypes[s.type];if("undefined"!=typeof e)return n&&n.get&&(e=n.get(e)),e;var i=_(s,"default");if(this._values[t]=i,"undefined"!=typeof i){var r=this._getOnChangeForType(s.type);r(i,e,t)}return i}}),s}function o(e,t,n){var i=e._derived[t]={fn:g(n)?n:n.fn,cache:n.cache!==!1,depList:n.deps||[]};i.depList.forEach(function(n){e._deps[n]=E(e._deps[n]||[],[t])}),Object.defineProperty(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError("`"+t+"` is a derived property, it can't be set directly.")}})}function s(e){var t,n=this;t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},l(t,n);var i=function(){this.constructor=t};if(i.prototype=n.prototype,t.prototype=new i,t.prototype._derived=l({},n.prototype._derived),t.prototype._deps=l({},n.prototype._deps),t.prototype._definition=l({},n.prototype._definition),t.prototype._collections=l({},n.prototype._collections),t.prototype._children=l({},n.prototype._children),t.prototype._dataTypes=l({},n.prototype._dataTypes||A),e)for(var s=["dataTypes","props","session","derived","collections","children"],a=0;a<arguments.length;a++){var u=arguments[a];u.dataTypes&&h(u.dataTypes,function(e,n){t.prototype._dataTypes[n]=e}),u.props&&h(u.props,function(e,n){r(t.prototype,n,e)}),u.session&&h(u.session,function(e,n){r(t.prototype,n,e,!0)}),u.derived&&h(u.derived,function(e,n){o(t.prototype,n,e)}),u.collections&&h(u.collections,function(e,n){t.prototype._collections[n]=e}),u.children&&h(u.children,function(e,n){t.prototype._children[n]=e}),l(t.prototype,c(u,s))}return t.__super__=n.prototype,t}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-state"]=window.ampersand["ampersand-state"]||[],window.ampersand["ampersand-state"].push("5.0.2"));var a=e("lodash/uniqueId"),l=e("lodash/assign"),u=function(e){return l({},e)},c=e("lodash/omit"),d=e("lodash/escape"),h=e("lodash/forOwn"),f=e("lodash/includes"),p=e("lodash/isString"),v=e("lodash/isObject"),m=e("lodash/isDate"),g=e("lodash/isFunction"),b=e("lodash/isEqual"),y=e("lodash/has"),_=e("lodash/result"),w=e("lodash/bind"),E=e("lodash/union"),I=e("ampersand-events"),T=e("key-tree-store"),S=e("array-next"),C=/^change:/,x=function(){};l(i.prototype,I,{extraProperties:"ignore",idAttribute:"id",namespaceAttribute:"namespace",typeAttribute:"modelType",initialize:function(){return this},getId:function(){return this[this.idAttribute]},getNamespace:function(){return this[this.namespaceAttribute]},getType:function(){return this[this.typeAttribute]},isNew:function(){return null==this.getId()},escape:function(e){return d(this.get(e))},isValid:function(e){return this._validate({},l(e||{},{validate:!0}))},parse:function(e,t){return e},serialize:function(e){var t=l({props:!0},e),n=this.getAttributes(t,!0);return h(this._children,w(function(e,t){n[t]=this[t].serialize()},this)),h(this._collections,w(function(e,t){n[t]=this[t].serialize()},this)),n},set:function(e,t,n){var i,r,o,s,a,l,u,c,d,h,p,m,g,b,y,w,E,I=this,T=this.extraProperties;if(v(e)||null===e?(d=e,n=t):(d={},d[e]=t),n=n||{},!this._validate(d,n))return!1;m=n.unset,p=n.silent,b=n.initial,i=this._changing,this._changing=!0,r=[],b?this._previousAttributes={}:i||(this._previousAttributes=this.attributes,this._changed={});for(var S=0,C=Object.keys(d),x=C.length;S<x;S++){if(c=C[S],s=d[c],o=typeof s,g=this._values[c],a=this._definition[c],!a){if(this._children[c]||this._collections[c]){v(s)||(s={}),this[c].set(s,n);continue}if("ignore"===T)continue;if("reject"===T)throw new TypeError('No "'+c+'" property defined on '+(this.type||"this")+' model and extraProperties not set to "ignore" or "allow"');if("allow"===T)a=this._createPropertyDefinition(c,"any");else if(T)throw new TypeError('Invalid value for extraProperties: "'+T+'"')}if(w=this._getCompareForType(a.type),E=this._getOnChangeForType(a.type),h=this._dataTypes[a.type],h&&h.set&&(l=h.set(s),s=l.val,o=l.type),a.test&&(u=a.test.call(this,s,o)))throw new TypeError("Property '"+c+"' failed validation with error: "+u);if(void 0===s&&a.required)throw new TypeError("Required property '"+c+"' must be of type "+a.type+". Tried to set "+s);if(null===s&&a.required&&!a.allowNull)throw new TypeError("Property '"+c+"' must be of type "+a.type+" (cannot be null). Tried to set "+s);if(a.type&&"any"!==a.type&&a.type!==o&&null!==s&&void 0!==s)throw new TypeError("Property '"+c+"' must be of type "+a.type+". Tried to set "+s);if(a.values&&!f(a.values,s)){var A=_(a,"default");if(m&&void 0!==A)s=A;else if(!m||m&&void 0!==s)throw new TypeError("Property '"+c+"' must be one of values: "+a.values.join(", ")+". Tried to set "+s)}if(y=b||!w(g,s,c),a.setOnce&&void 0!==g&&y)throw new TypeError("Property '"+c+"' can only be set once.");y?(E(s,g,c),b||(this._changed[c]=s,this._previousAttributes[c]=g,m&&delete this._values[c],p||r.push({prev:g,val:s,key:c})),m||(this._values[c]=s)):delete this._changed[c]}if(r.length&&(this._pending=!0),r.forEach(function(e){I.trigger("change:"+e.key,I,e.val,n)}),i)return this;for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},get:function(e){return this[e]},toggle:function(e){var t=this._definition[e];if("boolean"===t.type)this[e]=!this[e];else{if(!t||!t.values)throw new TypeError("Can only toggle properties that are type `boolean` or have `values` array.");this[e]=S(t.values,this[e])}return this},previousAttributes:function(){return u(this._previousAttributes)},hasChanged:function(e){return null==e?!!Object.keys(this._changed).length:y(this._derived,e)?this._derived[e].depList.some(function(e){return this.hasChanged(e)},this):y(this._changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&u(this._changed);var t,n,i,r=!1,o=this._changing?this._previousAttributes:this.attributes;for(var s in e)n=this._definition[s],n&&(i=this._getCompareForType(n.type),i(o[s],t=e[s])||((r||(r={}))[s]=t));return r},toJSON:function(){return this.serialize()},unset:function(e,t){var n=this;e=Array.isArray(e)?e:[e],e.forEach(function(e){var i=n._definition[e];if(i){var r;return i.required?(r=_(i,"default"),n.set(e,r,t)):n.set(e,r,l({},t,{unset:!0}))}})},clear:function(e){var t=this;return Object.keys(this.attributes).forEach(function(n){t.unset(n,e)}),this},previous:function(e){return null!=e&&Object.keys(this._previousAttributes).length?this._previousAttributes[e]:null},_getDefaultForType:function(e){var t=this._dataTypes[e];return t&&t["default"]},_getCompareForType:function(e){var t=this._dataTypes[e];return t&&t.compare?w(t.compare,this):b},_getOnChangeForType:function(e){var t=this._dataTypes[e];return t&&t.onChange?w(t.onChange,this):x},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=l({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,l(t||{},{validationError:n})),!1)},_createPropertyDefinition:function(e,t,n){return r(this,e,t,n)},_ensureValidType:function(e){return f(["string","number","boolean","array","object","date","state","any"].concat(Object.keys(this._dataTypes)),e)?e:void 0},getAttributes:function(e,t){e=l({session:!1,props:!1,derived:!1},e||{});var n,i,r={};for(var o in this._definition)i=this._definition[o],(e.session&&i.session||e.props&&!i.session)&&(n=t?this._values[o]:this[o],t&&n&&g(n.serialize)&&(n=n.serialize()),"undefined"==typeof n&&(n=_(i,"default")),"undefined"!=typeof n&&(r[o]=n));if(e.derived)for(var s in this._derived)r[s]=this[s];return r},_initDerived:function(){var e=this;h(this._derived,function(t,n){var i=e._derived[n];i.deps=i.depList;var r=function(t){t=t||{};var r=i.fn.call(e);e._cache[n]===r&&i.cache||(i.cache&&(e._previousAttributes[n]=e._cache[n]),e._cache[n]=r,e.trigger("change:"+n,e,e._cache[n]))};i.deps.forEach(function(t){e._keyTree.add(t,r)})}),this.on("all",function(t){C.test(t)&&e._keyTree.get(t.split(":")[1]).forEach(function(e){e()})},this)},_getDerivedProperty:function(e,t){return this._derived[e].cache?(!t&&this._cache.hasOwnProperty(e)||(this._cache[e]=this._derived[e].fn.apply(this)),this._cache[e]):this._derived[e].fn.apply(this)},_initCollections:function(){var e;if(this._collections)for(e in this._collections)this._safeSet(e,new this._collections[e](null,{parent:this}))},_initChildren:function(){var e;if(this._children)for(e in this._children)this._safeSet(e,new this._children[e]({},{parent:this})),this.listenTo(this[e],"all",this._getCachedEventBubblingHandler(e))},_getCachedEventBubblingHandler:function(e){return this._eventBubblingHandlerCache[e]||(this._eventBubblingHandlerCache[e]=w(function(t,n,i){C.test(t)?this.trigger("change:"+e+"."+t.split(":")[1],n,i):"change"===t&&this.trigger("change",this)},this)),this._eventBubblingHandlerCache[e]},_verifyRequired:function(){var e=this.attributes;for(var t in this._definition)if(this._definition[t].required&&"undefined"==typeof e[t])return!1;return!0},_safeSet:function(e,t){if(e in this)throw new Error("Encountered namespace collision while setting instance property `"+e+"`");return this[e]=t,this}}),Object.defineProperties(i.prototype,{attributes:{get:function(){return this.getAttributes({props:!0,session:!0})}},all:{get:function(){return this.getAttributes({session:!0,props:!0,derived:!0})}},isState:{get:function(){return!0},set:function(){}}});var A={string:{"default":function(){return""}},date:{set:function(e){var t;if(null==e)t="object";else if(m(e))t="date",e=e.valueOf();else{var n=null,i=new Date(e).valueOf();isNaN(i)&&(i=new Date(parseInt(e,10)).valueOf(),isNaN(i)&&(n=!0)),e=i,t="date",n&&(t=typeof e)}return{val:e,type:t}},get:function(e){return null==e?e:new Date(e)},"default":function(){return new Date}},array:{set:function(e){return{val:e,type:Array.isArray(e)?"array":typeof e}},"default":function(){return[]}},object:{set:function(e){var t=typeof e;return"object"!==t&&void 0===e&&(e=null,t="object"),{val:e,type:t}},"default":function(){return{}}},state:{set:function(e){var t=e instanceof i||e&&e.isState;return t?{val:e,type:"state"}:{val:e,type:typeof e}},compare:function(e,t){return e===t},onChange:function(e,t,n){t&&this.stopListening(t,"all",this._getCachedEventBubblingHandler(n)),null!=e&&this.listenTo(e,"all",this._getCachedEventBubblingHandler(n))}}};i.extend=s,t.exports=i},{"ampersand-events":14,"array-next":23,"key-tree-store":36,"lodash/assign":237,"lodash/bind":240,"lodash/escape":246,"lodash/forOwn":251,"lodash/has":253,"lodash/includes":256,"lodash/isDate":263,"lodash/isEqual":265,"lodash/isFunction":266,"lodash/isObject":268,"lodash/isString":271,"lodash/omit":280,"lodash/result":284,"lodash/union":291,"lodash/uniqueId":292}],20:[function(e,t,n){var i=e("xhr");t.exports=e("./core")(i)},{"./core":21,xhr:329}],21:[function(e,t,n){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-sync"]=window.ampersand["ampersand-sync"]||[],window.ampersand["ampersand-sync"].push("5.0.0"));var i=e("lodash/result"),r=e("lodash/defaults"),o=e("lodash/includes"),s=e("lodash/assign"),a=e("qs"),l=e("media-type");t.exports=function(e){var t=function(){throw new Error('A "url" property or function must be specified')},n={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};return function(u,c,d){var h=s({},d),f=n[u],p={};r(h||(h={}),{emulateHTTP:!1,emulateJSON:!1,xhrImplementation:e});var v,m={type:f},g=i(c,"ajaxConfig")||{};if(g.headers)for(v in g.headers)p[v.toLowerCase()]=g.headers[v];if(h.headers){for(v in h.headers)p[v.toLowerCase()]=h.headers[v];delete h.headers}if(s(m,g),m.headers=p,h.url||(h.url=i(c,"url")||t()),null!=h.data||!c||"create"!==u&&"update"!==u&&"patch"!==u||(m.json=h.attrs||c.toJSON(h)),h.data&&"GET"===f&&(h.url+=o(h.url,"?")?"&":"?",h.url+=a.stringify(h.data),delete h.data),h.emulateJSON&&(m.headers["content-type"]="application/x-www-form-urlencoded",m.body=m.json?{model:m.json}:{},delete m.json),!h.emulateHTTP||"PUT"!==f&&"DELETE"!==f&&"PATCH"!==f||(m.type="POST",h.emulateJSON&&(m.body._method=f),m.headers["x-http-method-override"]=f),h.emulateJSON&&(m.body=a.stringify(m.body)),g.xhrFields){var b=g.beforeSend;m.beforeSend=function(e){if(s(e,g.xhrFields),b)return b.apply(this,arguments)},m.xhrFields=g.xhrFields}m.method=m.type;var y=s(m,h),_=h.xhrImplementation(y,function(e,t,n){if(e||t.statusCode>=400){if(h.error){try{n=JSON.parse(n)}catch(i){}var r=e?e.message:n||"HTTP"+t.statusCode;h.error(t,"error",r)}}else{var o=l.fromString(m.headers.accept),s=o.isValid()&&"application"===o.type&&("json"===o.subtype||"json"===o.suffix);if("string"==typeof n&&(!m.headers.accept||s))try{n=JSON.parse(n)}catch(e){return h.error&&h.error(t,"error",e.message),void(h.always&&h.always(e,t,n))}h.success&&h.success(n,"success",t)}h.always&&h.always(e,t,n)});return c&&c.trigger("request",c,_,d,y),_.ajaxSettings=y,_}}},{"lodash/assign":237,"lodash/defaults":243,"lodash/includes":256,"lodash/result":284,"media-type":296,qs:320}],22:[function(e,t,n){function i(e){this.cid=a("view"),e||(e={});var t=e.parent;delete e.parent,_.call(this,e,{init:!1,parent:t}),this.on("change:el",this._handleElementChange,this),this._upsertBindings(),this.template=e.template||this.template,this._cache.rendered=!1,this.initialize.apply(this,arguments),this.autoRender&&this.template&&this.render()}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-view"]=window.ampersand["ampersand-view"]||[],window.ampersand["ampersand-view"].push("10.0.1"));var r=e("ampersand-state"),o=e("ampersand-collection-view"),s=e("domify"),a=e("lodash/uniqueId"),l=(e("lodash/pick"),e("lodash/assign")),u=e("lodash/forEach"),c=e("lodash/result"),d=e("lodash/last"),h=e("lodash/isString"),f=e("lodash/bind"),p=e("lodash/flatten"),v=e("lodash/invokeMap"),m=e("events-mixin"),g=e("matches-selector"),b=e("ampersand-dom-bindings"),y=e("lodash/get"),_=r.extend({dataTypes:{element:{set:function(e){return{val:e,type:e instanceof Element?"element":typeof e}},compare:function(e,t){return e===t}},collection:{set:function(e){return{val:e,type:e&&e.isCollection?"collection":typeof e}},compare:function(e,t){return e===t}}},props:{model:"state",el:"element",collection:"collection"},session:{_rendered:["boolean",!0,!1]},derived:{hasData:{deps:["model"],fn:function(){return!!this.model}},rendered:{deps:["_rendered"],fn:function(){return this._rendered?(this.trigger("render",this),!0):(this.trigger("remove",this),!1)}}}});i.prototype=Object.create(_.prototype);var w="Query cannot be performed as this.el is not defined. Ensure that the view has been rendered.";l(i.prototype,{query:function(e){if(!this.el)throw new Error(w);return e?"string"==typeof e?g(this.el,e)?this.el:this.el.querySelector(e)||void 0:e:this.el},queryAll:function(e){if(!this.el)throw new Error(w);if(!e)return[this.el];var t=[];return g(this.el,e)&&t.push(this.el),t.concat(Array.prototype.slice.call(this.el.querySelectorAll(e)))},queryByHook:function(e){return this.query('[data-hook~="'+e+'"]')},queryAllByHook:function(e){return this.queryAll('[data-hook~="'+e+'"]')},initialize:function(){},_render:function(){return this._upsertBindings(),this.renderWithTemplate(this),this._rendered=!0,this},_remove:function(){return this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this._rendered=!1,this._downsertBindings(),this},_handleElementChange:function(e,t){return this.eventManager&&this.eventManager.unbind(),this.eventManager=m(this.el,this),this.delegateEvents(),this._applyBindingsForKey(),this},delegateEvents:function(e){if(!e&&!(e=c(this,"events")))return this;this.undelegateEvents();for(var t in e)this.eventManager.bind(t,e[t]);return this},undelegateEvents:function(){return this.eventManager.unbind(),this},registerSubview:function(e){return this._subviews=this._subviews||[],this._subviews.push(e),e.parent||(e.parent=this),e},renderSubview:function(e,t){return"string"==typeof t&&(t=this.query(t)),t||(t=this.el),this.registerSubview(e),t.appendChild(e.render().el),e},_applyBindingsForKey:function(e){if(this.el){var t,n=this._parsedBindings.getGrouped(e);for(t in n)n[t].forEach(function(e){e(this.el,y(this,t),d(t.split(".")))},this)}},_initializeBindings:function(){this.bindings&&this.on("all",function(e){"change:"===e.slice(0,7)&&this._applyBindingsForKey(e.split(":")[1])},this)},_initializeSubviews:function(){if(this.subviews)for(var e in this.subviews)this._parseSubview(this.subviews[e],e)},_parseSubview:function(e,t){function n(){var e,r;this.el&&(e=this.query(i.selector))&&(i.waitFor&&!y(this,i.waitFor)||(r=this[t]=i.prepareView.call(this,e),r.el?(r.render(),this.registerSubview(r)):this.renderSubview(r,e),this.off("change",n)))}e.container&&(e.selector=e.container);var i=this._parseSubviewOpts(e);this.on("change",n,this)},_parseSubviewOpts:function(e){var t=this,n={selector:e.selector||'[data-hook="'+e.hook+'"]',waitFor:e.waitFor||"",prepareView:e.prepareView||function(){return new e.constructor({parent:t})}};return n},renderWithTemplate:function(e,t){var n=t||this.template;if(!n)throw new Error("Template string or function needed.");var i=h(n)?n:n.call(this,e||this);h(i)&&(i=s(i));var r=this.el&&this.el.parentNode;if(r&&r.replaceChild(i,this.el),"#document-fragment"===i.nodeName)throw new Error("Views can only have one root element, including comment nodes.");return this.el=i,this},cacheElements:function(e){for(var t in e)this[t]=this.query(e[t]);return this},listenToAndRun:function(e,t,n){var i=f(n,this);this.listenTo(e,t,i),i()},animateRemove:function(){this.remove()},renderCollection:function(e,t,n,i){var r="string"==typeof n?this.query(n):n,s=l({collection:e,el:r||this.el,view:t,parent:this,viewOptions:{parent:this}},i),a=new o(s);return a.render(),this.registerSubview(a)},_setRender:function(e){Object.defineProperty(e,"render",{get:function(){return this._render},set:function(e){this._render=function(){return e.apply(this,arguments),this._rendered=!0,this}}})},_setRemove:function(e){Object.defineProperty(e,"remove",{get:function(){return this._remove},set:function(e){this._remove=function(){return e.apply(this,arguments),this._rendered=!1,this}}})},_downsertBindings:function(){var e=this._parsedBindings;this.bindingsSet&&(this._subviews&&v(p(this._subviews),"remove"),this.stopListening(),u(e,function(t,n){u(t,function(t,i){delete e[n][i]}),delete e[n]}),this.bindingsSet=!1)},_upsertBindings:function(e){e=e||this,this.bindingsSet||(this._parsedBindings=b(this.bindings,this),this._initializeBindings(),e.el&&!this.autoRender&&this._handleElementChange(),this._initializeSubviews(),this.bindingsSet=!0)}}),i.prototype._setRender(i.prototype),i.prototype._setRemove(i.prototype),i.extend=_.extend,t.exports=i},{"ampersand-collection-view":10,"ampersand-dom-bindings":12,"ampersand-state":19,domify:30,"events-mixin":31,"lodash/assign":237,"lodash/bind":240,"lodash/flatten":249,"lodash/forEach":250,"lodash/get":252,"lodash/invokeMap":257,"lodash/isString":271,"lodash/last":276,"lodash/pick":282,"lodash/result":284,"lodash/uniqueId":292,"matches-selector":295}],23:[function(e,t,n){t.exports=function(e,t){var n=e.length,i=e.indexOf(t)+1;return i>n-1&&(i=0),e[i]}},{}],24:[function(e,t,n){function i(e){if(u===setTimeout)return setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(c===clearTimeout)return clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){p&&h&&(p=!1,h.length?f=h.concat(f):v=-1,f.length&&s())}function s(){if(!p){var e=i(o);p=!0;for(var t=f.length;t;){for(h=f,f=[];++v<t;)h&&h[v].run();v=-1,t=f.length}h=null,p=!1,r(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var u,c,d=t.exports={};!function(){try{u=setTimeout}catch(e){u=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(e){c=function(){throw new Error("clearTimeout is not defined")}}}();var h,f=[],p=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new a(e,t)),1!==f.length||p||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],25:[function(e,t,n){(function(){var e,i,r,o,s,a,l,u,c,d,h,f,p,v,m,g,b,y,_,w,E,I,T,S,C,x,A,O,N,M,P,k,R,L,D,j,B,V,H,F,U,G,z,q,W,Y,X,K,$,Q,J,Z,ee,te,ne,ie,re,oe,se,ae,le,ue,ce,de,he,fe,pe,ve,ge,be,ye,_e,we,Ee,Ie,Te,Se,Ce,xe,Ae,Oe,Ne,Me,Pe=[].slice;xe=function(){var e,t,n,i,r;for(e={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),i=0,t=r.length;i<t;i++)n=r[i],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),K=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Ae=function(e){return e.length>=3?[].slice.call(e):e[0]},E=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},o=Math.PI,Ee=Math.round,S=Math.cos,N=Math.floor,re=Math.pow,$=Math.log,Te=Math.sin,Se=Math.sqrt,v=Math.atan2,Z=Math.max,p=Math.abs,l=2*o,s=o/3,i=o/180,a=180/o,w=function(){return arguments[0]instanceof e?arguments[0]:function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,arguments,function(){})},w["default"]=w,f=[],"undefined"!=typeof t&&null!==t&&null!=t.exports&&(t.exports=w),"function"==typeof define&&define.amd?define([],function(){return w}):(we="undefined"!=typeof n&&null!==n?n:this,we.chroma=w),w.version="1.3.4",h={},c=[],d=!1,e=function(){function e(){var e,t,n,i,r,o,s,a,l;for(o=this,t=[],a=0,i=arguments.length;a<i;a++)e=arguments[a],null!=e&&t.push(e);if(t.length>1&&(s=t[t.length-1]),null!=h[s])o._rgb=E(h[s](Ae(t.slice(0,-1))));else{for(d||(c=c.sort(function(e,t){return t.p-e.p}),d=!0),l=0,r=c.length;l<r&&(n=c[l],!(s=n.test.apply(n,t)));l++);s&&(o._rgb=E(h[s].apply(h,t)))}null==o._rgb,null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e.prototype.clone=function(){return w(me._rgb)},e}(),w._input=h,w.brewer=y={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;t=[];for(e in y)t.push(y[e.toLowerCase()]=y[e]);return t}(),Oe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},w.colors=T=Oe,z=function(){var e,t,n,i,o,s,a,l,u;return t=Ae(arguments),o=t[0],e=t[1],n=t[2],l=(o+16)/116,a=isNaN(e)?l:l+e/500,u=isNaN(n)?l:l-n/200,l=r.Yn*q(l),a=r.Xn*q(a),u=r.Zn*q(u),s=Me(3.2404542*a-1.5371385*l-.4985314*u),i=Me(-.969266*a+1.8760108*l+.041556*u),n=Me(.0556434*a-.2040259*l+1.0572252*u),[s,i,n,t.length>3?t[3]:1]},Me=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},q=function(e){return e>r.t1?e*e*e:r.t2*(e-r.t0)},r={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},he=function(){var e,t,n,i,r,o,s,a;return i=Ae(arguments),n=i[0],t=i[1],e=i[2],r=be(n,t,e),o=r[0],s=r[1],a=r[2],[116*s-16,500*(o-s),200*(s-a)]},ye=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Ne=function(e){return e>r.t3?re(e,1/3):e/r.t2+r.t0},be=function(){var e,t,n,i,o,s,a;return i=Ae(arguments),n=i[0],t=i[1],e=i[2],n=ye(n),t=ye(t),e=ye(e),o=Ne((.4124564*n+.3575761*t+.1804375*e)/r.Xn),s=Ne((.2126729*n+.7151522*t+.072175*e)/r.Yn),a=Ne((.0193339*n+.119192*t+.9503041*e)/r.Zn),[o,s,a]},w.lab=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["lab"]),function(){})},h.lab=z,e.prototype.lab=function(){return he(this._rgb)},m=function(e){var t,n,i,r,o,s,a,l,u,c,d;return e=function(){var t,n,i;for(i=[],n=0,t=e.length;n<t;n++)r=e[n],i.push(w(r));return i}(),2===e.length?(u=function(){var t,n,i;for(i=[],n=0,t=e.length;n<t;n++)r=e[n],i.push(r.lab());return i}(),o=u[0],s=u[1],t=function(e){var t,n;return n=function(){var n,i;for(i=[],t=n=0;n<=2;t=++n)i.push(o[t]+e*(s[t]-o[t]));return i}(),w.lab.apply(w,n)}):3===e.length?(c=function(){var t,n,i;for(i=[],n=0,t=e.length;n<t;n++)r=e[n],i.push(r.lab());return i}(),o=c[0],s=c[1],a=c[2],t=function(e){var t,n;return n=function(){var n,i;for(i=[],t=n=0;n<=2;t=++n)i.push((1-e)*(1-e)*o[t]+2*(1-e)*e*s[t]+e*e*a[t]);return i}(),w.lab.apply(w,n)}):4===e.length?(d=function(){
var t,n,i;for(i=[],n=0,t=e.length;n<t;n++)r=e[n],i.push(r.lab());return i}(),o=d[0],s=d[1],a=d[2],l=d[3],t=function(e){var t,n;return n=function(){var n,i;for(i=[],t=n=0;n<=2;t=++n)i.push((1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*s[t]+3*(1-e)*e*e*a[t]+e*e*e*l[t]);return i}(),w.lab.apply(w,n)}):5===e.length&&(n=m(e.slice(0,3)),i=m(e.slice(2,5)),t=function(e){return e<.5?n(2*e):i(2*(e-.5))}),t},w.bezier=function(e){var t;return t=m(e),t.scale=function(){return w.scale(t)},t},w.cubehelix=function(e,t,n,i,r){var o,s,a;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==i&&(i=1),null==r&&(r=[0,1]),o=0,"array"===xe(r)?s=r[1]-r[0]:(s=0,r=[r,r]),a=function(a){var u,c,d,h,f,p,v,m,g;return u=l*((e+120)/360+t*a),v=re(r[0]+s*a,i),p=0!==o?n[0]+a*o:n,c=p*v*(1-v)/2,h=S(u),g=Te(u),m=v+c*(-.14861*h+1.78277*g),f=v+c*(-.29227*h-.90649*g),d=v+c*(1.97294*h),w(E([255*m,255*f,255*d]))},a.start=function(t){return null==t?e:(e=t,a)},a.rotations=function(e){return null==e?t:(t=e,a)},a.gamma=function(e){return null==e?i:(i=e,a)},a.hue=function(e){return null==e?n:(n=e,"array"===xe(n)?(o=n[1]-n[0],0===o&&(n=n[1])):o=0,a)},a.lightness=function(e){return null==e?r:("array"===xe(e)?(r=e,s=e[1]-e[0]):(r=[e,e],s=0),a)},a.scale=function(){return w.scale(a)},a.hue(n),a},w.random=function(){var t,n,i,r;for(n="0123456789abcdef",t="#",i=r=0;r<6;i=++r)t+=n.charAt(N(16*Math.random()));return new e(t)},f=[],j=function(e,t,n,i){var r,o,s,a;for(null==n&&(n=.5),null==i&&(i="rgb"),"object"!==xe(e)&&(e=w(e)),"object"!==xe(t)&&(t=w(t)),s=0,o=f.length;s<o;s++)if(r=f[s],i===r[0]){a=r[1](e,t,n,i);break}if(null==a)throw"color mode "+i+" is not supported";return a.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},w.interpolate=j,e.prototype.interpolate=function(e,t,n){return j(this,e,t,n)},w.mix=j,e.prototype.mix=e.prototype.interpolate,h.rgb=function(){var e,t,n,i;t=Ae(arguments),n=[];for(e in t)i=t[e],n.push(i);return n},w.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["rgb"]),function(){})},e.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},e.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},c.push({p:3,test:function(e){var t;return t=Ae(arguments),"array"===xe(t)&&3===t.length?"rgb":4===t.length&&"number"===xe(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),h.lrgb=h.rgb,H=function(t,n,i,r){var o,s;return o=t._rgb,s=n._rgb,new e(Se(re(o[0],2)*(1-i)+re(s[0],2)*i),Se(re(o[1],2)*(1-i)+re(s[1],2)*i),Se(re(o[2],2)*(1-i)+re(s[2],2)*i),r)},u=function(t){var n,i,r,o,s,a;for(i=1/t.length,a=[0,0,0,0],o=0,r=t.length;o<r;o++)n=t[o],s=n._rgb,a[0]+=re(s[0],2)*i,a[1]+=re(s[1],2)*i,a[2]+=re(s[2],2)*i,a[3]+=s[3]*i;return a[0]=Se(a[0]),a[1]=Se(a[1]),a[2]=Se(a[2]),new e(a)},f.push(["lrgb",H]),w.average=function(e,t){var n,i,r,s,a,l,c,d,h,f,p,m,g;if(null==t&&(t="rgb"),h=e.length,e=e.map(function(e){return w(e)}),c=e.splice(0,1)[0],"lrgb"===t)return u(e);m=c.get(t),s=[],a=0,l=0;for(d in m)m[d]=m[d]||0,s.push(isNaN(m[d])?0:1),"h"!==t.charAt(d)||isNaN(m[d])||(n=m[d]/180*o,a+=S(n),l+=Te(n));for(i=c.alpha(),p=0,f=e.length;p<f;p++){r=e[p],g=r.get(t),i+=r.alpha();for(d in m)isNaN(g[d])||(m[d]+=g[d],s[d]+=1,"h"===t.charAt(d)&&(n=m[d]/180*o,a+=S(n),l+=Te(n)))}for(d in m)if(m[d]=m[d]/s[d],"h"===t.charAt(d)){for(n=v(l/s[d],a/s[d])/o*180;n<0;)n+=360;for(;n>=360;)n-=360;m[d]=n}return w(m,t).alpha(i/h)},P=function(e){var t,n,i,r,o,s;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),s=parseInt(e,16),r=s>>16,i=s>>8&255,n=255&s,[r,i,n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),s=parseInt(e,16),r=s>>24&255,i=s>>16&255,n=s>>8&255,t=Ee((255&s)/255*100)/100,[r,i,n,t];if(null!=h.css&&(o=h.css(e)))return o;throw"unknown color: "+e},le=function(e,t){var n,i,r,o,s,a,l;return null==t&&(t="rgb"),s=e[0],r=e[1],i=e[2],n=e[3],s=Math.round(s),r=Math.round(r),i=Math.round(i),l=s<<16|r<<8|i,a="000000"+l.toString(16),a=a.substr(a.length-6),o="0"+Ee(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return a+o;case"argb":return o+a;default:return a}}()},h.hex=function(e){return P(e)},w.hex=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["hex"]),function(){})},e.prototype.hex=function(e){return null==e&&(e="rgb"),le(this._rgb,e)},c.push({p:4,test:function(e){if(1===arguments.length&&"string"===xe(e))return"hex"}}),L=function(){var e,t,n,i,r,o,s,a,l,u,c,d,h,f;if(e=Ae(arguments),r=e[0],c=e[1],s=e[2],0===c)l=i=t=255*s;else{for(f=[0,0,0],n=[0,0,0],h=s<.5?s*(1+c):s+c-s*c,d=2*s-h,r/=360,f[0]=r+1/3,f[1]=r,f[2]=r-1/3,o=a=0;a<=2;o=++a)f[o]<0&&(f[o]+=1),f[o]>1&&(f[o]-=1),6*f[o]<1?n[o]=d+6*(h-d)*f[o]:2*f[o]<1?n[o]=h:3*f[o]<2?n[o]=d+(h-d)*(2/3-f[o])*6:n[o]=d;u=[Ee(255*n[0]),Ee(255*n[1]),Ee(255*n[2])],l=u[0],i=u[1],t=u[2]}return e.length>3?[l,i,t,e[3]]:[l,i,t]},ce=function(e,t,n){var i,r,o,s,a;return void 0!==e&&e.length>=3&&(s=e,e=s[0],t=s[1],n=s[2]),e/=255,t/=255,n/=255,o=Math.min(e,t,n),Z=Math.max(e,t,n),r=(Z+o)/2,Z===o?(a=0,i=Number.NaN):a=r<.5?(Z-o)/(Z+o):(Z-o)/(2-Z-o),e===Z?i=(t-n)/(Z-o):t===Z?i=2+(n-e)/(Z-o):n===Z&&(i=4+(e-t)/(Z-o)),i*=60,i<0&&(i+=360),[i,a,r]},w.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["hsl"]),function(){})},h.hsl=L,e.prototype.hsl=function(){return ce(this._rgb)},D=function(){var e,t,n,i,r,o,s,a,l,u,c,d,h,f,p,v,m,g;if(e=Ae(arguments),r=e[0],v=e[1],g=e[2],g*=255,0===v)l=i=t=g;else switch(360===r&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60,o=N(r),n=r-o,s=g*(1-v),a=g*(1-v*n),m=g*(1-v*(1-n)),o){case 0:u=[g,m,s],l=u[0],i=u[1],t=u[2];break;case 1:c=[a,g,s],l=c[0],i=c[1],t=c[2];break;case 2:d=[s,g,m],l=d[0],i=d[1],t=d[2];break;case 3:h=[s,a,g],l=h[0],i=h[1],t=h[2];break;case 4:f=[m,s,g],l=f[0],i=f[1],t=f[2];break;case 5:p=[g,s,a],l=p[0],i=p[1],t=p[2]}return[l,i,t,e.length>3?e[3]:1]},de=function(){var e,t,n,i,r,o,s,a,l;return s=Ae(arguments),o=s[0],n=s[1],e=s[2],r=Math.min(o,n,e),Z=Math.max(o,n,e),t=Z-r,l=Z/255,0===Z?(i=Number.NaN,a=0):(a=t/Z,o===Z&&(i=(n-e)/t),n===Z&&(i=2+(e-o)/t),e===Z&&(i=4+(o-n)/t),i*=60,i<0&&(i+=360)),[i,a,l]},w.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["hsv"]),function(){})},h.hsv=D,e.prototype.hsv=function(){return de(this._rgb)},ne=function(e){var t,n,i;return"number"===xe(e)&&e>=0&&e<=16777215?(i=e>>16,n=e>>8&255,t=255&e,[i,n,t,1]):[0,0,0,1]},ve=function(){var e,t,n,i;return i=Ae(arguments),n=i[0],t=i[1],e=i[2],(n<<16)+(t<<8)+e},w.num=function(t){return new e(t,"num")},e.prototype.num=function(e){return null==e&&(e="rgb"),ve(this._rgb,e)},h.num=ne,c.push({p:1,test:function(e){if(1===arguments.length&&"number"===xe(e)&&e>=0&&e<=16777215)return"num"}}),M=function(){var e,t,n,i,r,o,s,a,l,u,c,d,h,f,p,v,m,g,b,y;if(n=Ae(arguments),a=n[0],r=n[1],t=n[2],r/=100,s=s/100*255,e=255*r,0===r)d=s=i=t;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),a/=60,l=N(a),o=a-l,u=t*(1-r),c=u+e*(1-o),b=u+e*o,y=u+e,l){case 0:h=[y,b,u],d=h[0],s=h[1],i=h[2];break;case 1:f=[c,y,u],d=f[0],s=f[1],i=f[2];break;case 2:p=[u,y,b],d=p[0],s=p[1],i=p[2];break;case 3:v=[u,c,y],d=v[0],s=v[1],i=v[2];break;case 4:m=[b,u,y],d=m[0],s=m[1],i=m[2];break;case 5:g=[y,u,c],d=g[0],s=g[1],i=g[2]}return[d,s,i,n.length>3?n[3]:1]},ae=function(){var e,t,n,i,r,o,s,a,l;return l=Ae(arguments),a=l[0],r=l[1],t=l[2],s=Math.min(a,r,t),Z=Math.max(a,r,t),i=Z-s,n=100*i/255,e=s/(255-i)*100,0===i?o=Number.NaN:(a===Z&&(o=(r-t)/i),r===Z&&(o=2+(t-a)/i),t===Z&&(o=4+(a-r)/i),o*=60,o<0&&(o+=360)),[o,n,e]},w.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["hcg"]),function(){})},h.hcg=M,e.prototype.hcg=function(){return ae(this._rgb)},C=function(e){var t,n,i,r,o,s,a,l;if(e=e.toLowerCase(),null!=w.colors&&w.colors[e])return P(w.colors[e]);if(o=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(a=o.slice(1,4),r=s=0;s<=2;r=++s)a[r]=+a[r];a[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(a=o.slice(1,5),r=l=0;l<=3;r=++l)a[r]=+a[r];else if(o=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(a=o.slice(1,4),r=t=0;t<=2;r=++t)a[r]=Ee(2.55*a[r]);a[3]=1}else if(o=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(a=o.slice(1,5),r=n=0;n<=2;r=++n)a[r]=Ee(2.55*a[r]);a[3]=+a[3]}else(o=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(i=o.slice(1,4),i[1]*=.01,i[2]*=.01,a=L(i),a[3]=1):(o=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(i=o.slice(1,4),i[1]*=.01,i[2]*=.01,a=L(i),a[3]=+o[4]);return a},se=function(e){var t;return t=e[3]<1?"rgba":"rgb","rgb"===t?t+"("+e.slice(0,3).map(Ee).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(Ee).join(",")+","+e[3]+")":void 0},_e=function(e){return Ee(100*e)/100},R=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=_e(e[0]||0),e[1]=_e(100*e[1])+"%",e[2]=_e(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},h.css=function(e){return C(e)},w.css=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["css"]),function(){})},e.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?se(this._rgb):"hsl"===e.slice(0,3)?R(this.hsl(),this.alpha()):void 0},h.named=function(e){return P(Oe[e])},c.push({p:5,test:function(e){if(1===arguments.length&&null!=Oe[e])return"named"}}),e.prototype.name=function(e){var t,n;arguments.length&&(Oe[e]&&(this._rgb=P(Oe[e])),this._rgb[3]=1),t=this.hex();for(n in Oe)if(t===Oe[n])return n;return t},W=function(){var e,t,n,r;return r=Ae(arguments),n=r[0],e=r[1],t=r[2],t*=i,[n,S(t)*e,Te(t)*e]},Y=function(){var e,t,n,i,r,o,s,a,l,u,c;return n=Ae(arguments),a=n[0],r=n[1],s=n[2],u=W(a,r,s),e=u[0],t=u[1],i=u[2],c=z(e,t,i),l=c[0],o=c[1],i=c[2],[l,o,i,n.length>3?n[3]:1]},G=function(){var e,t,n,i,r,o;return o=Ae(arguments),r=o[0],e=o[1],t=o[2],n=Se(e*e+t*t),i=(v(t,e)*a+360)%360,0===Ee(1e4*n)&&(i=Number.NaN),[r,n,i]},fe=function(){var e,t,n,i,r,o,s;return o=Ae(arguments),r=o[0],n=o[1],t=o[2],s=he(r,n,t),i=s[0],e=s[1],t=s[2],G(i,e,t)},w.lch=function(){var t;return t=Ae(arguments),new e(t,"lch")},w.hcl=function(){var t;return t=Ae(arguments),new e(t,"hcl")},h.lch=Y,h.hcl=function(){var e,t,n,i;return i=Ae(arguments),t=i[0],e=i[1],n=i[2],Y([n,e,t])},e.prototype.lch=function(){return fe(this._rgb)},e.prototype.hcl=function(){return fe(this._rgb).reverse()},oe=function(e){var t,n,i,r,o,s,a,l,u;return null==e&&(e="rgb"),l=Ae(arguments),a=l[0],r=l[1],t=l[2],a/=255,r/=255,t/=255,o=1-Math.max(a,Math.max(r,t)),i=o<1?1/(1-o):0,n=(1-a-o)*i,s=(1-r-o)*i,u=(1-t-o)*i,[n,s,u,o]},I=function(){var e,t,n,i,r,o,s,a,l;return t=Ae(arguments),i=t[0],s=t[1],l=t[2],o=t[3],e=t.length>4?t[4]:1,1===o?[0,0,0,e]:(a=i>=1?0:255*(1-i)*(1-o),r=s>=1?0:255*(1-s)*(1-o),n=l>=1?0:255*(1-l)*(1-o),[a,r,n,e])},h.cmyk=function(){return I(Ae(arguments))},w.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["cmyk"]),function(){})},e.prototype.cmyk=function(){return oe(this._rgb)},h.gl=function(){var e,t,n,i,r;for(i=function(){var e,n;e=Ae(arguments),n=[];for(t in e)r=e[t],n.push(r);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)i[e]*=255;return i},w.gl=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["gl"]),function(){})},e.prototype.gl=function(){var e;return e=this._rgb,[e[0]/255,e[1]/255,e[2]/255,e[3]]},pe=function(e,t,n){var i;return i=Ae(arguments),e=i[0],t=i[1],n=i[2],e=Q(e),t=Q(t),n=Q(n),.2126*e+.7152*t+.0722*n},Q=function(e){return e/=255,e<=.03928?e/12.92:re((e+.055)/1.055,2.4)},U=function(t,n,i,r){var o,s;return o=t._rgb,s=n._rgb,new e(o[0]+i*(s[0]-o[0]),o[1]+i*(s[1]-o[1]),o[2]+i*(s[2]-o[2]),r)},f.push(["rgb",U]),e.prototype.luminance=function(e,t){var n,i,r,o;return null==t&&(t="rgb"),arguments.length?(0===e?this._rgb=[0,0,0,this._rgb[3]]:1===e?this._rgb=[255,255,255,this._rgb[3]]:(i=1e-7,r=20,o=function(n,s){var a,l;return l=n.interpolate(s,.5,t),a=l.luminance(),Math.abs(e-a)<i||!r--?l:a>e?o(n,l):o(l,s)},n=pe(this._rgb),this._rgb=(n>e?o(w("black"),this):o(this,w("white"))).rgba()),this):pe(this._rgb)},Ce=function(e){var t,n,i,r;return r=e/100,r<66?(i=255,n=-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*$(n),t=r<20?0:-254.76935184120902+.8274096064007395*(t=r-10)+115.67994401066147*$(t)):(i=351.97690566805693+.114206453784165*(i=r-55)-40.25366309332127*$(i),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*$(n),t=255),[i,n,t]},ge=function(){var e,t,n,i,r,o,s,a,l;for(s=Ae(arguments),o=s[0],n=s[1],e=s[2],r=1e3,i=4e4,t=.4;i-r>t;)l=.5*(i+r),a=Ce(l),a[2]/a[0]>=e/o?i=l:r=l;return Ee(l)},w.temperature=w.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["temperature"]),function(){})},h.temperature=h.kelvin=h.K=Ce,e.prototype.temperature=function(){return ge(this._rgb)},e.prototype.kelvin=e.prototype.temperature,w.contrast=function(t,n){var i,r,o,s;return"string"!==(o=xe(t))&&"number"!==o||(t=new e(t)),"string"!==(s=xe(n))&&"number"!==s||(n=new e(n)),i=t.luminance(),r=n.luminance(),i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)},w.distance=function(t,n,i){var r,o,s,a,l,u,c;null==i&&(i="lab"),"string"!==(l=xe(t))&&"number"!==l||(t=new e(t)),"string"!==(u=xe(n))&&"number"!==u||(n=new e(n)),s=t.get(i),a=n.get(i),c=0;for(o in s)r=(s[o]||0)-(a[o]||0),c+=r*r;return Math.sqrt(c)},w.deltaE=function(t,n,i,r){var s,a,l,u,c,d,h,f,m,g,b,y,_,w,E,I,T,C,x,A,O,N,M,P,k,R,L;for(null==i&&(i=1),null==r&&(r=1),"string"!==(T=xe(t))&&"number"!==T||(t=new e(t)),"string"!==(C=xe(n))&&"number"!==C||(n=new e(n)),x=t.lab(),s=x[0],l=x[1],c=x[2],A=n.lab(),a=A[0],u=A[1],d=A[2],h=Se(l*l+c*c),f=Se(u*u+d*d),M=s<16?.511:.040975*s/(1+.01765*s),O=.0638*h/(1+.0131*h)+.638,I=h<1e-6?0:180*v(c,l)/o;I<0;)I+=360;for(;I>=360;)I-=360;return P=I>=164&&I<=345?.56+p(.2*S(o*(I+168)/180)):.36+p(.4*S(o*(I+35)/180)),m=h*h*h*h,E=Se(m/(m+1900)),N=O*(E*P+1-E),w=s-a,_=h-f,b=l-u,y=c-d,g=b*b+y*y-_*_,k=w/(i*M),R=_/(r*O),L=N,Se(k*k+R*R+g/(L*L))},e.prototype.get=function(e){var t,n,i,r,o,s;return i=this,o=e.split("."),r=o[0],t=o[1],s=i[r](),t?(n=r.indexOf(t),n>-1?s[n]:void 0):s},e.prototype.set=function(e,t){var n,i,r,o,s,a;if(r=this,s=e.split("."),o=s[0],n=s[1],n){if(a=r[o](),i=o.indexOf(n),i>-1)if("string"===xe(t))switch(t.charAt(0)){case"+":a[i]+=+t;break;case"-":a[i]+=+t;break;case"*":a[i]*=+t.substr(1);break;case"/":a[i]/=+t.substr(1);break;default:a[i]=+t}else a[i]=t}else a=t;return w(a,o).alpha(r.alpha())},e.prototype.clipped=function(){return this._rgb._clipped||!1},e.prototype.alpha=function(e){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},e.prototype.darken=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lab(),t[0]-=r.Kn*e,w.lab(t).alpha(n.alpha())},e.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},e.prototype.darker=e.prototype.darken,e.prototype.brighter=e.prototype.brighten,e.prototype.saturate=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lch(),t[1]+=e*r.Kn,t[1]<0&&(t[1]=0),w.lch(t).alpha(n.alpha())},e.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},e.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),w(t[0]*e,t[1]*e,t[2]*e,e)},g=function(e,t,n){if(!g[n])throw"unknown blend mode "+n;return g[n](e,t)},b=function(e){return function(t,n){var i,r;return i=w(n).rgb(),r=w(t).rgb(),w(e(i,r),"rgb")}},O=function(e){return function(t,n){var i,r,o;for(o=[],i=r=0;r<=3;i=++r)o[i]=e(t[i],n[i]);return o}},te=function(e,t){return e},ee=function(e,t){return e*t/255},x=function(e,t){return e>t?t:e},X=function(e,t){return e>t?e:t},Ie=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ie=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},_=function(e,t){return 255*(1-(1-t/255)/(e/255))},A=function(e,t){return 255===e?255:(e=255*(t/255)/(1-e/255),e>255?255:e)},g.normal=b(O(te)),g.multiply=b(O(ee)),g.screen=b(O(Ie)),g.overlay=b(O(ie)),g.darken=b(O(x)),g.lighten=b(O(X)),g.dodge=b(O(A)),g.burn=b(O(_)),w.blend=g,w.analyze=function(e){var t,n,i,r;for(i={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)r=e[n],null==r||isNaN(r)||(i.values.push(r),i.sum+=r,r<i.min&&(i.min=r),r>i.max&&(i.max=r),i.count+=1);return i.domain=[i.min,i.max],i.limits=function(e,t){return w.limits(i,e,t)},i},w.scale=function(e,t){var n,i,r,o,s,a,l,u,c,d,h,f,p,v,m,g,b,y,_,E,I,T;return c="rgb",d=w("#ccc"),v=0,a=!1,s=[0,1],p=[],f=[0,0],n=!1,r=[],h=!1,u=0,l=1,o=!1,i={},m=!0,I=function(e){var t,n,i,o,s,a;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===xe(e)&&null!=w.brewer&&(e=w.brewer[e]||w.brewer[e.toLowerCase()]||e),"array"===xe(e)){for(e=e.slice(0),t=i=0,o=e.length-1;0<=o?i<=o:i>=o;t=0<=o?++i:--i)n=e[t],"string"===xe(n)&&(e[t]=w(n));for(p.length=0,t=a=0,s=e.length-1;0<=s?a<=s:a>=s;t=0<=s?++a:--a)p.push(t/(e.length-1))}return E(),r=e},y=function(e){var t,i;if(null!=n){for(i=n.length-1,t=0;t<i&&e>=n[t];)t++;return t-1}return 0},T=function(e){return e},g=function(e){var t,i,r,o,s;return s=e,n.length>2&&(o=n.length-1,t=y(e),r=n[0]+(n[1]-n[0])*(0+.5*v),i=n[o-1]+(n[o]-n[o-1])*(1-.5*v),s=u+(n[t]+.5*(n[t+1]-n[t])-r)/(i-r)*(l-u)),s},_=function(e,t){var o,s,a,h,v,g,b,_;if(null==t&&(t=!1),isNaN(e))return d;if(t?_=e:n&&n.length>2?(o=y(e),_=o/(n.length-2),_=f[0]+_*(1-f[0]-f[1])):l!==u?(_=(e-u)/(l-u),_=f[0]+_*(1-f[0]-f[1]),_=Math.min(1,Math.max(0,_))):_=1,t||(_=T(_)),h=Math.floor(1e4*_),m&&i[h])s=i[h];else{if("array"===xe(r))for(a=v=0,b=p.length-1;0<=b?v<=b:v>=b;a=0<=b?++v:--v){if(g=p[a],_<=g){s=r[a];break}if(_>=g&&a===p.length-1){s=r[a];break}if(_>g&&_<p[a+1]){_=(_-g)/(p[a+1]-g),s=w.interpolate(r[a],r[a+1],_,c);break}}else"function"===xe(r)&&(s=r(_));m&&(i[h]=s)}return s},E=function(){return i={}},I(e),b=function(e){var t;return t=w(_(e)),h&&t[h]?t[h]():t},b.classes=function(e){var t;return null!=e?("array"===xe(e)?(n=e,s=[e[0],e[e.length-1]]):(t=w.analyze(s),n=0===e?[t.min,t.max]:w.limits(t,"e",e)),b):n},b.domain=function(e){var t,n,i,o,a,c,d;if(!arguments.length)return s;if(u=e[0],l=e[e.length-1],p=[],i=r.length,e.length===i&&u!==l)for(a=0,o=e.length;a<o;a++)n=e[a],p.push((n-u)/(l-u));else for(t=d=0,c=i-1;0<=c?d<=c:d>=c;t=0<=c?++d:--d)p.push(t/(i-1));return s=[u,l],b},b.mode=function(e){return arguments.length?(c=e,E(),b):c},b.range=function(e,t){return I(e,t),b},b.out=function(e){return h=e,b},b.spread=function(e){return arguments.length?(v=e,b):v},b.correctLightness=function(e){return null==e&&(e=!0),o=e,E(),T=o?function(e){var t,n,i,r,o,s,a,l,u;for(t=_(0,!0).lab()[0],n=_(1,!0).lab()[0],a=t>n,i=_(e,!0).lab()[0],o=t+(n-t)*e,r=i-o,l=0,u=1,s=20;Math.abs(r)>.01&&s-- >0;)!function(){return a&&(r*=-1),r<0?(l=e,e+=.5*(u-e)):(u=e,e+=.5*(l-e)),i=_(e,!0).lab()[0],r=i-o}();return e}:function(e){return e},b},b.padding=function(e){return null!=e?("number"===xe(e)&&(e=[e,e]),f=e,b):f},b.colors=function(t,i){var o,a,l,u,c,d,h,f;if(arguments.length<2&&(i="hex"),c=[],0===arguments.length)c=r.slice(0);else if(1===t)c=[b(.5)];else if(t>1)a=s[0],o=s[1]-a,c=function(){d=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)d.push(e);return d}.apply(this).map(function(e){return b(a+e/(t-1)*o)});else{if(e=[],h=[],n&&n.length>2)for(l=f=1,u=n.length;1<=u?f<u:f>u;l=1<=u?++f:--f)h.push(.5*(n[l-1]+n[l]));else h=s;c=h.map(function(e){return b(e)})}return w[i]&&(c=c.map(function(e){return e[i]()})),c},b.cache=function(e){return null!=e?m=e:m},b},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(e,t,n){var i,r,o,s,a,l,u;if(a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),i=function(e){null==e||isNaN(e)||(a.values.push(e),a.sum+=e,e<a.min&&(a.min=e),e>a.max&&(a.max=e),a.count+=1)},u=function(e,r){if(n(e,r))return i(null!=t&&"function"===xe(t)?t(e):null!=t&&"string"===xe(t)||"number"===xe(t)?e[t]:e)},"array"===xe(e))for(s=0,o=e.length;s<o;s++)l=e[s],u(l);else for(r in e)l=e[r],u(l,r);return a.domain=[a.min,a.max],a.limits=function(e,t){return w.limits(a,e,t)},a},w.limits=function(e,t,n){var i,r,o,s,a,l,u,c,d,h,f,v,m,g,b,y,_,E,I,T,S,C,x,A,O,M,P,k,R,L,D,j,B,V,H,F,U,G,z,q,W,Y,X,K,Q,J,ee,te,ne,ie,oe,se,ae,le,ue,ce;if(null==t&&(t="equal"),null==n&&(n=7),"array"===xe(e)&&(e=w.analyze(e)),O=e.min,Z=e.max,oe=e.sum,ue=e.values.sort(function(e,t){return e-t}),1===n)return[O,Z];if(x=[],"c"===t.substr(0,1)&&(x.push(O),x.push(Z)),"e"===t.substr(0,1)){for(x.push(O),T=D=1,H=n-1;1<=H?D<=H:D>=H;T=1<=H?++D:--D)x.push(O+T/n*(Z-O));x.push(Z)}else if("l"===t.substr(0,1)){if(O<=0)throw"Logarithmic scales are only possible for values > 0";for(M=Math.LOG10E*$(O),A=Math.LOG10E*$(Z),x.push(O),T=ce=1,F=n-1;1<=F?ce<=F:ce>=F;T=1<=F?++ce:--ce)x.push(re(10,M+T/n*(A-M)));x.push(Z)}else if("q"===t.substr(0,1)){for(x.push(O),T=i=1,Y=n-1;1<=Y?i<=Y:i>=Y;T=1<=Y?++i:--i)j=(ue.length-1)*T/n,B=N(j),B===j?x.push(ue[B]):(V=j-B,x.push(ue[B]*(1-V)+ue[B+1]*V));x.push(Z)}else if("k"===t.substr(0,1)){for(k=ue.length,g=new Array(k),E=new Array(n),ie=!0,R=0,y=null,y=[],y.push(O),T=r=1,X=n-1;1<=X?r<=X:r>=X;T=1<=X?++r:--r)y.push(O+T/n*(Z-O));for(y.push(Z);ie;){for(S=o=0,K=n-1;0<=K?o<=K:o>=K;S=0<=K?++o:--o)E[S]=0;for(T=s=0,Q=k-1;0<=Q?s<=Q:s>=Q;T=0<=Q?++s:--s){for(le=ue[T],P=Number.MAX_VALUE,S=a=0,J=n-1;0<=J?a<=J:a>=J;S=0<=J?++a:--a)I=p(y[S]-le),I<P&&(P=I,b=S);E[b]++,g[T]=b}for(L=new Array(n),S=l=0,ee=n-1;0<=ee?l<=ee:l>=ee;S=0<=ee?++l:--l)L[S]=null;for(T=u=0,te=k-1;0<=te?u<=te:u>=te;T=0<=te?++u:--u)_=g[T],null===L[_]?L[_]=ue[T]:L[_]+=ue[T];for(S=c=0,ne=n-1;0<=ne?c<=ne:c>=ne;S=0<=ne?++c:--c)L[S]*=1/E[S];for(ie=!1,S=d=0,U=n-1;0<=U?d<=U:d>=U;S=0<=U?++d:--d)if(L[S]!==y[T]){ie=!0;break}y=L,R++,R>200&&(ie=!1)}for(C={},S=h=0,G=n-1;0<=G?h<=G:h>=G;S=0<=G?++h:--h)C[S]=[];for(T=f=0,z=k-1;0<=z?f<=z:f>=z;T=0<=z?++f:--f)_=g[T],C[_].push(ue[T]);for(se=[],S=v=0,q=n-1;0<=q?v<=q:v>=q;S=0<=q?++v:--v)se.push(C[S][0]),se.push(C[S][C[S].length-1]);for(se=se.sort(function(e,t){return e-t}),x.push(se[0]),T=m=1,W=se.length-1;m<=W;T=m+=2)ae=se[T],isNaN(ae)||x.indexOf(ae)!==-1||x.push(ae)}return x},k=function(e,t,n){var i,r,o,a;return i=Ae(arguments),e=i[0],t=i[1],n=i[2],isNaN(e)&&(e=0),e/=360,e<1/3?(r=(1-t)/3,a=(1+t*S(l*e)/S(s-l*e))/3,o=1-(r+a)):e<2/3?(e-=1/3,a=(1-t)/3,o=(1+t*S(l*e)/S(s-l*e))/3,r=1-(a+o)):(e-=2/3,o=(1-t)/3,r=(1+t*S(l*e)/S(s-l*e))/3,a=1-(o+r)),a=K(n*a*3),o=K(n*o*3),r=K(n*r*3),[255*a,255*o,255*r,i.length>3?i[3]:1]},ue=function(){var e,t,n,i,r,o,s,a;return s=Ae(arguments),o=s[0],t=s[1],e=s[2],l=2*Math.PI,o/=255,t/=255,e/=255,r=Math.min(o,t,e),i=(o+t+e)/3,a=1-r/i,0===a?n=0:(n=(o-t+(o-e))/2,n/=Math.sqrt((o-t)*(o-t)+(o-e)*(t-e)),n=Math.acos(n),e>t&&(n=l-n),n/=l),[360*n,a,i]},w.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return Object(r)===r?r:i}(e,Pe.call(arguments).concat(["hsi"]),function(){})},h.hsi=k,e.prototype.hsi=function(){return ue(this._rgb)},B=function(e,t,n,i){var r,o,s,a,l,u,c,d,h,f,p,v,m;return"hsl"===i?(v=e.hsl(),m=t.hsl()):"hsv"===i?(v=e.hsv(),m=t.hsv()):"hcg"===i?(v=e.hcg(),m=t.hcg()):"hsi"===i?(v=e.hsi(),m=t.hsi()):"lch"!==i&&"hcl"!==i||(i="hcl",v=e.hcl(),m=t.hcl()),"h"===i.substr(0,1)&&(s=v[0],f=v[1],u=v[2],a=m[0],p=m[1],c=m[2]),isNaN(s)||isNaN(a)?isNaN(s)?isNaN(a)?o=Number.NaN:(o=a,1!==u&&0!==u||"hsv"===i||(h=p)):(o=s,1!==c&&0!==c||"hsv"===i||(h=f)):(r=a>s&&a-s>180?a-(s+360):a<s&&s-a>180?a+360-s:a-s,o=s+n*r),null==h&&(h=f+n*(p-f)),l=u+n*(c-u),d=w[i](o,h,l)},f=f.concat(function(){var e,t,n,i;for(n=["hsv","hsl","hsi","hcl","lch","hcg"],i=[],t=0,e=n.length;t<e;t++)J=n[t],i.push([J,B]);return i}()),F=function(e,t,n,i){var r,o;return r=e.num(),o=t.num(),w.num(r+(o-r)*n,"num")},f.push(["num",F]),V=function(t,n,i,r){var o,s,a;return s=t.lab(),a=n.lab(),o=new e(s[0]+i*(a[0]-s[0]),s[1]+i*(a[1]-s[1]),s[2]+i*(a[2]-s[2]),r)},f.push(["lab",V])}).call(this)},{}],26:[function(e,t,n){var i=e("matches-selector");t.exports=function(e,t,n){for(var r=n?e:e.parentNode;r&&r!==document;){if(i(r,t))return r;r=r.parentNode}}},{"matches-selector":27}],27:[function(e,t,n){function i(e,t){if(o)return o.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;++i)if(n[i]==e)return!0;return!1}var r=Element.prototype,o=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;t.exports=i},{}],28:[function(e,t,n){var i=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==i?"on":"";n.bind=function(e,t,n,r){return e[i](o+t,n,r||!1),n},n.unbind=function(e,t,n,i){return e[r](o+t,n,i||!1),n}},{}],29:[function(e,t,n){var i=e("closest"),r=e("component-event"),o=["focus","blur"];n.bind=function(e,t,n,s,a){return o.indexOf(n)!==-1&&(a=!0),r.bind(e,n,function(n){var r=n.target||n.srcElement;n.delegateTarget=i(r,t,!0,e),n.delegateTarget&&s.call(e,n)},a)},n.unbind=function(e,t,n,i){o.indexOf(t)!==-1&&(i=!0),r.unbind(e,t,n,i)}},{closest:26,"component-event":28}],30:[function(e,t,n){function i(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){var r=t.createElement("html");return r.innerHTML=e,r.removeChild(r.lastChild)}var o=s[i]||s._default,a=o[0],l=o[1],u=o[2],r=t.createElement("div");for(r.innerHTML=l+e+u;a--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var c=t.createDocumentFragment();r.firstChild;)c.appendChild(r.removeChild(r.firstChild));return c}t.exports=i;var r,o=!1;"undefined"!=typeof document&&(r=document.createElement("div"),r.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!r.getElementsByTagName("link").length,r=void 0);var s={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};s.td=s.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],s.option=s.optgroup=[1,'<select multiple="multiple">',"</select>"],s.thead=s.tbody=s.colgroup=s.caption=s.tfoot=[1,"<table>","</table>"],s.polyline=s.ellipse=s.polygon=s.circle=s.text=s.line=s.path=s.rect=s.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],31:[function(e,t,n){function i(e,t){if(!(this instanceof i))return new i(e,t);if(!e)throw new Error("element required");if(!t)throw new Error("object required");this.el=e,this.obj=t,this._events={}}function r(e){var t=e.split(/ +/);return{name:t.shift(),selector:t.join(" ")}}var o=e("component-event"),s=e("delegate-events"),a=["focus","blur"];t.exports=i,i.prototype.sub=function(e,t,n){this._events[e]=this._events[e]||{},this._events[e][t]=n},i.prototype.bind=function(e,t){var n=function(e,t){function n(){var e=[].slice.call(arguments).concat(c);if("function"==typeof t)return void t.apply(l,e);if(!l[t])throw new Error(t+" method is not defined");l[t].apply(l,e)}var i=r(e),a=this.el,l=this.obj,u=i.name,t=t||"on"+u,c=[].slice.call(arguments,2);return i.selector?n=s.bind(a,i.selector,u,n):o.bind(a,u,n),this.sub(u,t,n),n};if("string"==typeof e)n.apply(this,arguments);else for(var i in e)e.hasOwnProperty(i)&&n.call(this,i,e[i])},i.prototype.unbind=function(e,t){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(e);var n=this._events[e],i=a.indexOf(e)!==-1;if(n){var r=n[t];r&&o.unbind(this.el,e,r,i)}},i.prototype.unbindAll=function(){for(var e in this._events)this.unbindAllOf(e)},i.prototype.unbindAllOf=function(e){var t=this._events[e];if(t)for(var n in t)this.unbind(e,n)}},{"component-event":28,"delegate-events":29}],32:[function(e,t,n){function i(e,t,n){if(!a(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===l.call(e)?r(e,t,n):"string"==typeof e?o(e,t,n):s(e,t,n)}function r(e,t,n){for(var i=0,r=e.length;i<r;i++)u.call(e,i)&&t.call(n,e[i],i,e)}function o(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e.charAt(i),i,e)}function s(e,t,n){for(var i in e)u.call(e,i)&&t.call(n,e[i],i,e)}var a=e("is-function");t.exports=i;var l=Object.prototype.toString,u=Object.prototype.hasOwnProperty},{"is-function":35}],33:[function(e,t,n){!function(e){"use strict";function i(){console.log.apply(console,arguments)}function r(e,t){var n,i,r,o;for(this.list=e,this.options=t=t||{},n=0,o=["sort","shouldSort","verbose","tokenize"],i=o.length;n<i;n++)r=o[n],this.options[r]=r in t?t[r]:l[r];for(n=0,o=["searchFn","sortFn","keys","getFn","include","tokenSeparator"],i=o.length;n<i;n++)r=o[n],this.options[r]=t[r]||l[r]}function o(e,t,n){var i,r,a,l,u,c;if(t){if(a=t.indexOf("."),a!==-1?(i=t.slice(0,a),r=t.slice(a+1)):i=t,l=e[i],null!==l&&void 0!==l)if(r||"string"!=typeof l&&"number"!=typeof l)if(s(l))for(u=0,c=l.length;u<c;u++)o(l[u],r,n);else r&&o(l,r,n);else n.push(l)}else n.push(e);return n}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e,t){t=t||{},this.options=t,this.options.location=t.location||a.defaultOptions.location,this.options.distance="distance"in t?t.distance:a.defaultOptions.distance,this.options.threshold="threshold"in t?t.threshold:a.defaultOptions.threshold,this.options.maxPatternLength=t.maxPatternLength||a.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var l={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:a,sortFn:function(e,t){return e.score-t.score},getFn:o,keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g};r.VERSION="2.5.0",r.prototype.set=function(e){return this.list=e,e},r.prototype.search=function(e){this.options.verbose&&i("\nSearch term:",e,"\n"),this.pattern=e,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort();var t=this._format();return t},r.prototype._prepareSearchers=function(){var e=this.options,t=this.pattern,n=e.searchFn,i=t.split(e.tokenSeparator),r=0,o=i.length;if(this.options.tokenize)for(this.tokenSearchers=[];r<o;r++)this.tokenSearchers.push(new n(i[r],e));this.fullSeacher=new n(t,e)},r.prototype._startSearch=function(){var e,t,n,i,r=this.options,o=r.getFn,s=this.list,a=s.length,l=this.options.keys,u=l.length,c=null;if("string"==typeof s[0])for(n=0;n<a;n++)this._analyze("",s[n],n,n);else for(this._keyMap={},n=0;n<a;n++)for(c=s[n],i=0;i<u;i++){if(e=l[i],"string"!=typeof e){if(t=1-e.weight||1,this._keyMap[e.name]={weight:t},e.weight<=0||e.weight>1)throw new Error("Key weight has to be > 0 and <= 1");e=e.name}else this._keyMap[e]={weight:1};this._analyze(e,o(c,e,[]),c,n)}},r.prototype._analyze=function(e,t,n,r){var o,a,l,u,c,d,h,f,p,v,m,g,b,y,_,w=this.options,E=!1;if(void 0!==t&&null!==t){a=[];var I=0;if("string"==typeof t){if(o=t.split(w.tokenSeparator),w.verbose&&i("---------\nKey:",e),this.options.tokenize){for(y=0;y<this.tokenSearchers.length;y++){
for(f=this.tokenSearchers[y],w.verbose&&i("Pattern:",f.pattern),p=[],g=!1,_=0;_<o.length;_++){v=o[_],m=f.search(v);var T={};m.isMatch?(T[v]=m.score,E=!0,g=!0,a.push(m.score)):(T[v]=1,this.options.matchAllTokens||a.push(1)),p.push(T)}g&&I++,w.verbose&&i("Token scores:",p)}for(u=a[0],d=a.length,y=1;y<d;y++)u+=a[y];u/=d,w.verbose&&i("Token score average:",u)}h=this.fullSeacher.search(t),w.verbose&&i("Full text score:",h.score),c=h.score,void 0!==u&&(c=(c+u)/2),w.verbose&&i("Score average:",c),b=!this.options.tokenize||!this.options.matchAllTokens||I>=this.tokenSearchers.length,w.verbose&&i("Check Matches",b),(E||h.isMatch)&&b&&(l=this.resultMap[r],l?l.output.push({key:e,score:c,matchedIndices:h.matchedIndices}):(this.resultMap[r]={item:n,output:[{key:e,score:c,matchedIndices:h.matchedIndices}]},this.results.push(this.resultMap[r])))}else if(s(t))for(y=0;y<t.length;y++)this._analyze(e,t[y],n,r)}},r.prototype._computeScore=function(){var e,t,n,r,o,s,a,l,u,c=this._keyMap,d=this.results;for(this.options.verbose&&i("\n\nComputing score:\n"),e=0;e<d.length;e++){for(n=0,r=d[e].output,o=r.length,l=1,t=0;t<o;t++)s=r[t].score,a=c?c[r[t].key].weight:1,u=s*a,1!==a?l=Math.min(l,u):(n+=u,r[t].nScore=u);1===l?d[e].score=n/o:d[e].score=l,this.options.verbose&&i(d[e])}},r.prototype._sort=function(){var e=this.options;e.shouldSort&&(e.verbose&&i("\n\nSorting...."),this.results.sort(e.sortFn))},r.prototype._format=function(){var e,t,n,r,o,s=this.options,a=s.getFn,l=[],u=this.results,c=s.include;for(s.verbose&&i("\n\nOutput:\n\n",u),r=s.id?function(e){u[e].item=a(u[e].item,s.id,[])[0]}:function(){},o=function(e){var t,n,i,r,o,s=u[e];if(c.length>0){if(t={item:s.item},c.indexOf("matches")!==-1)for(i=s.output,t.matches=[],n=0;n<i.length;n++)r=i[n],o={indices:r.matchedIndices},r.key&&(o.key=r.key),t.matches.push(o);c.indexOf("score")!==-1&&(t.score=u[e].score)}else t=s.item;return t},t=0,n=u.length;t<n;t++)r(t),e=o(t),l.push(e);return l},a.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},a.prototype._calculatePatternAlphabet=function(){var e={},t=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},a.prototype._bitapScore=function(e,t){var n=e/this.patternLen,i=Math.abs(this.options.location-t);return this.options.distance?n+i/this.options.distance:i?1:n},a.prototype.search=function(e){var t,n,i,r,o,s,a,l,u,c,d,h,f,p,v,m,g,b,y,_,w,E,I=this.options;if(e=I.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};if(this.patternLen>I.maxPatternLength){if(g=e.match(new RegExp(this.pattern.replace(I.tokenSeparator,"|"))),b=!!g)for(_=[],t=0,w=g.length;t<w;t++)E=g[t],_.push([e.indexOf(E),E.length-1]);return{isMatch:b,score:b?.5:1,matchedIndices:_}}for(r=I.location,i=e.length,o=I.threshold,s=e.indexOf(this.pattern,r),y=[],t=0;t<i;t++)y[t]=0;for(s!=-1&&(o=Math.min(this._bitapScore(0,s),o),s=e.lastIndexOf(this.pattern,r+this.patternLen),s!=-1&&(o=Math.min(this._bitapScore(0,s),o))),s=-1,v=1,m=[],u=this.patternLen+i,t=0;t<this.patternLen;t++){for(a=0,l=u;a<l;)this._bitapScore(t,r+l)<=o?a=l:u=l,l=Math.floor((u-a)/2+a);for(u=l,c=Math.max(1,r-l+1),d=Math.min(r+l,i)+this.patternLen,h=Array(d+2),h[d+1]=(1<<t)-1,n=d;n>=c;n--)if(p=this.patternAlphabet[e.charAt(n-1)],p&&(y[n-1]=1),0===t?h[n]=(h[n+1]<<1|1)&p:h[n]=(h[n+1]<<1|1)&p|((f[n+1]|f[n])<<1|1)|f[n+1],h[n]&this.matchmask&&(v=this._bitapScore(t,n-1),v<=o)){if(o=v,s=n-1,m.push(s),!(s>r))break;c=Math.max(1,2*r-s)}if(this._bitapScore(t+1,r)>o)break;f=h}return _=this._getMatchedIndices(y),{isMatch:s>=0,score:0===v?.001:v,matchedIndices:_}},a.prototype._getMatchedIndices=function(e){for(var t,n=[],i=-1,r=-1,o=0,s=e.length;o<s;o++)t=e[o],t&&i===-1?i=o:t||i===-1||(r=o-1,n.push([i,r]),i=-1);return e[o-1]&&n.push([i,o-1]),n},"object"==typeof n?t.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):e.Fuse=r}(this)},{}],34:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t,n){function i(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=i;var r=Object.prototype.toString},{}],36:[function(e,t,n){function i(e){if(e=e||{},"object"!=typeof e)throw new TypeError("Options must be an object");var t=".";this.storage={},this.separator=e.separator||t}var r=Array.prototype.slice;i.prototype.add=function(e,t){var n=this.storage[e]||(this.storage[e]=[]);n.push(t)},i.prototype.remove=function(e){var t,n;for(t in this.storage)n=this.storage[t],n.some(function(t,i){if(t===e)return n.splice(i,1),!0})},i.prototype.get=function(e){var t,n=[];for(t in this.storage)e&&e!==t&&0!==t.indexOf(e+this.separator)||(n=n.concat(this.storage[t]));return n},i.prototype.getGrouped=function(e){var t,n={};for(t in this.storage)e&&e!==t&&0!==t.indexOf(e+this.separator)||(n[t]=r.call(this.storage[t]));return n},i.prototype.getAll=function(e){var t,n={};for(t in this.storage)e!==t&&0!==t.indexOf(e+this.separator)||(n[t]=r.call(this.storage[t]));return n},i.prototype.run=function(e,t){var n=r.call(arguments,2);this.get(e).forEach(function(e){e.apply(t||this,n)})},t.exports=i},{}],37:[function(e,t,n){function i(e,t,n){var i=n.length;switch(i){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){return e="number"==typeof e||G.test(e)?+e:-1,t=null==t?k:t,e>-1&&e%1==0&&e<t}function o(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;)e[n]===t&&(e[n]=D,o[++r]=n);return o}function s(e,t,n){for(var i=n.length,r=-1,o=Y(e.length-i,0),s=-1,a=t.length,l=Array(a+o);++s<a;)l[s]=t[s];for(;++r<i;)l[n[r]]=e[r];for(;o--;)l[s++]=e[r++];return l}function a(e,t,n){for(var i=-1,r=n.length,o=-1,s=Y(e.length-r,0),a=-1,l=t.length,u=Array(s+l);++o<s;)u[o]=e[o];for(var c=o;++a<l;)u[c+a]=t[a];for(;++i<r;)u[c+n[i]]=e[o++];return u}function l(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function u(e,t,n){function i(){var t=this&&this!==w&&this instanceof i?o:e;return t.apply(r?n:this,arguments)}var r=t&E,o=c(e);return i}function c(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=K(e.prototype),i=e.apply(n,t);return b(i)?i:n}}function d(e,t,n){function r(){for(var a=arguments.length,l=a,u=Array(a),c=this&&this!==w&&this instanceof r?s:e,d=r.placeholder;l--;)u[l]=arguments[l];var f=a<3&&u[0]!==d&&u[a-1]!==d?[]:o(u,d);return a-=f.length,a<n?p(e,t,h,d,void 0,u,f,void 0,void 0,n-a):i(c,this,u)}var s=c(e);return r}function h(e,t,n,i,r,l,u,d,f,v){function g(){for(var E=arguments.length,I=E,S=Array(E);I--;)S[I]=arguments[I];if(i&&(S=s(S,i,r)),l&&(S=a(S,l,u)),T||x){var C=g.placeholder,O=o(S,C);if(E-=O.length,E<v)return p(e,t,h,C,n,S,O,d,f,v-E)}var N=y?n:this,P=_?N[e]:e;return d?S=m(S,d):A&&S.length>1&&S.reverse(),b&&f<S.length&&(S.length=f),this&&this!==w&&this instanceof g&&(P=M||c(P)),P.apply(N,S)}var b=t&O,y=t&E,_=t&I,T=t&S,x=t&C,A=t&N,M=_?void 0:c(e);return g}function f(e,t,n,r){function o(){for(var t=-1,l=arguments.length,u=-1,c=r.length,d=Array(c+l),h=this&&this!==w&&this instanceof o?a:e;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++t];return i(h,s?n:this,d)}var s=t&E,a=c(e);return o}function p(e,t,n,i,r,o,s,a,u,c){var d=t&S,h=a?l(a):void 0,f=d?s:void 0,p=d?void 0:s,v=d?o:void 0,m=d?void 0:o;t|=d?x:A,t&=~(d?A:x),t&T||(t&=~(E|I));var g=n(e,t,r,v,f,m,p,h,u,c);return g.placeholder=i,g}function v(e,t,n,i,r,o,s,a){var l=t&I;if(!l&&"function"!=typeof e)throw new TypeError(M);var c=i?i.length:0;if(c||(t&=~(x|A),i=r=void 0),s=void 0===s?s:Y(y(s),0),a=void 0===a?a:y(a),c-=r?r.length:0,t&A){var p=i,v=r;i=r=void 0}var m=[e,t,n,i,r,p,v,o,s,a];if(e=m[0],t=m[1],n=m[2],i=m[3],r=m[4],a=m[9]=null==m[9]?l?0:e.length:Y(m[9]-c,0),!a&&t&(S|C)&&(t&=~(S|C)),t&&t!=E)g=t==S||t==C?d(e,t,a):t!=x&&t!=(E|x)||r.length?h.apply(void 0,m):f(e,t,n,i);else var g=u(e,t,n);return g}function m(e,t){for(var n=e.length,i=X(t.length,n),o=l(e);i--;){var s=t[i];e[i]=r(s,n)?o[s]:void 0}return e}function g(e){var t=b(e)?W.call(e):"";return t==j||t==B}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if(!e)return 0===e?e:0;if(e=_(e),e===P||e===-P){var t=e<0?-1:1;return t*R}var n=e%1;return e===e?n?e-n:e:0}function _(e){if(b(e)){var t=g(e.valueOf)?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(V,"");var n=F.test(e);return n||U.test(e)?z(e.slice(2),n?2:8):H.test(e)?L:+e}var w=e("lodash._root"),E=1,I=2,T=4,S=8,C=16,x=32,A=64,O=128,N=512,M="Expected a function",P=1/0,k=9007199254740991,R=1.7976931348623157e308,L=NaN,D="__lodash_placeholder__",j="[object Function]",B="[object GeneratorFunction]",V=/^\s+|\s+$/g,H=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,U=/^0o[0-7]+$/i,G=/^(?:0|[1-9]\d*)$/,z=parseInt,q=Object.prototype,W=q.toString,Y=Math.max,X=Math.min,K=function(){function e(){}return function(t){if(b(t)){e.prototype=t;var n=new e;e.prototype=void 0}return n||{}}}();t.exports=v},{"lodash._root":40}],38:[function(e,t,n){var i=/<%=([\s\S]+?)%>/g;t.exports=i},{}],39:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,o=-1,s=[];++n<i;)e[n]===t&&(e[n]=r,s[++o]=n);return s}var r="__lodash_placeholder__";t.exports=i},{}],40:[function(e,t,n){(function(e){function i(e){return e&&e.Object===Object?e:null}var r={"function":!0,object:!0},o=r[typeof n]&&n&&!n.nodeType?n:void 0,s=r[typeof t]&&t&&!t.nodeType?t:void 0,a=i(o&&s&&"object"==typeof e&&e),l=i(r[typeof self]&&self),u=i(r[typeof window]&&window),c=i(r[typeof this]&&this),d=a||u!==(c&&c.window)&&u||l||c||Function("return this")();t.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(e,t,n){function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function o(e,t){return function(n){return e(t(n))}}function s(e,t){var n=D(e)||m(e)?r(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!N.call(e,s)||o&&("length"==s||h(s,i))||n.push(s);return n}function a(e,t,n){var i=e[t];N.call(e,t)&&v(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function l(e){if(!p(e))return k(e);var t=[];for(var n in Object(e))N.call(e,n)&&"constructor"!=n&&t.push(n);return t}function u(e,t){return t=R(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=R(n.length-t,0),s=Array(o);++r<o;)s[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=s,i(e,this,a)}}function c(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],l=i?i(n[s],e[s],s,n,e):void 0;a(n,s,void 0===l?e[s]:l)}return n}function d(e){return u(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&f(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t})}function h(e,t){return t=null==t?T:t,!!t&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function f(e,t,n){if(!w(n))return!1;var i=typeof t;return!!("number"==i?g(n)&&h(t,n.length):"string"==i&&t in n)&&v(n[t],e)}function p(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||O;return e===n}function v(e,t){return e===t||e!==e&&t!==t}function m(e){return b(e)&&N.call(e,"callee")&&(!P.call(e,"callee")||M.call(e)==S)}function g(e){return null!=e&&_(e.length)&&!y(e)}function b(e){return E(e)&&g(e)}function y(e){var t=w(e)?M.call(e):"";return t==C||t==x}function _(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=T}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){return!!e&&"object"==typeof e}function I(e){return g(e)?s(e):l(e)}var T=9007199254740991,S="[object Arguments]",C="[object Function]",x="[object GeneratorFunction]",A=/^(?:0|[1-9]\d*)$/,O=Object.prototype,N=O.hasOwnProperty,M=O.toString,P=O.propertyIsEnumerable,k=o(Object.keys,Object),R=Math.max,L=!P.call({valueOf:1},"valueOf"),D=Array.isArray,j=d(function(e,t){if(L||p(t)||g(t))return void c(t,I(t),e);for(var n in t)N.call(t,n)&&a(e,n,t[n])});t.exports=j},{}],42:[function(e,t,n){function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function o(e,t){var n=R(e)||m(e)?r(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!N.call(e,s)||o&&("length"==s||d(s,i))||n.push(s);return n}function s(e,t,n){var i=e[t];N.call(e,t)&&v(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function a(e){if(!w(e))return p(e);var t=f(e),n=[];for(var i in e)("constructor"!=i||!t&&N.call(e,i))&&n.push(i);return n}function l(e,t){return t=k(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=k(n.length-t,0),s=Array(o);++r<o;)s[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=s,i(e,this,a)}}function u(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],l=i?i(n[a],e[a],a,n,e):void 0;s(n,a,void 0===l?e[a]:l)}return n}function c(e){return l(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&h(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t})}function d(e,t){return t=null==t?T:t,!!t&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function h(e,t,n){if(!w(n))return!1;var i=typeof t;return!!("number"==i?g(n)&&d(t,n.length):"string"==i&&t in n)&&v(n[t],e)}function f(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||O;return e===n}function p(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function v(e,t){return e===t||e!==e&&t!==t}function m(e){return b(e)&&N.call(e,"callee")&&(!P.call(e,"callee")||M.call(e)==S)}function g(e){return null!=e&&_(e.length)&&!y(e)}function b(e){return E(e)&&g(e)}function y(e){var t=w(e)?M.call(e):"";return t==C||t==x}function _(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=T}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){return!!e&&"object"==typeof e}function I(e){return g(e)?o(e,!0):a(e)}var T=9007199254740991,S="[object Arguments]",C="[object Function]",x="[object GeneratorFunction]",A=/^(?:0|[1-9]\d*)$/,O=Object.prototype,N=O.hasOwnProperty,M=O.toString,P=O.propertyIsEnumerable,k=Math.max,R=Array.isArray,L=c(function(e,t){u(t,I(t),e)});t.exports=L},{}],43:[function(e,t,n){(function(e){function n(e,t,n){function r(t){var n=v,i=m;return v=m=void 0,T=t,b=e.apply(i,n)}function o(e){return T=e,y=setTimeout(c,t),S?r(e):b}function l(e){var n=e-I,i=e-T,r=t-n;return C?w(r,g-i):r}function u(e){var n=e-I,i=e-T;return void 0===I||n>=t||n<0||C&&i>=g}function c(){var e=E();return u(e)?d(e):void(y=setTimeout(c,l(e)))}function d(e){return y=void 0,x&&v?r(e):(v=m=void 0,b)}function h(){void 0!==y&&clearTimeout(y),T=0,v=I=m=y=void 0}function f(){return void 0===y?b:d(E())}function p(){var e=E(),n=u(e);if(v=arguments,m=this,I=e,n){if(void 0===y)return o(I);if(C)return y=setTimeout(c,t),r(I)}return void 0===y&&(y=setTimeout(c,t)),b}var v,m,g,b,y,I,T=0,S=!1,C=!1,x=!0;if("function"!=typeof e)throw new TypeError(a);return t=s(t)||0,i(n)&&(S=!!n.leading,C="maxWait"in n,g=C?_(s(n.maxWait)||0,t):g,x="trailing"in n?!!n.trailing:x),p.cancel=h,p.flush=f,p}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||r(e)&&y.call(e)==u}function s(e){if("number"==typeof e)return e;if(o(e))return l;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=h.test(e);return n||f.test(e)?p(e.slice(2),n?2:8):d.test(e)?l:+e}var a="Expected a function",l=NaN,u="[object Symbol]",c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,v="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,g=v||m||Function("return this")(),b=Object.prototype,y=b.toString,_=Math.max,w=Math.min,E=function(){return g.Date.now()};t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,n){(function(e){function i(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function r(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function o(e){return function(t){return null==t?void 0:t[e]}}function s(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function a(e){return function(t){return e(t)}}function l(e,t){return null==e?void 0:e[t]}function u(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function d(e,t){return function(n){return e(t(n))}}function h(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function p(){this.__data__=hn?hn(null):{}}function v(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if(hn){var n=t[e];return n===Ue?void 0:n}return Qt.call(t,e)?t[e]:void 0}function g(e){var t=this.__data__;return hn?void 0!==t[e]:Qt.call(t,e)}function b(e,t){var n=this.__data__;return n[e]=hn&&void 0===t?Ue:t,this}function y(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function _(){this.__data__=[]}function w(e){var t=this.__data__,n=F(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():rn.call(t,n,1),!0}function E(e){var t=this.__data__,n=F(t,e);return n<0?void 0:t[n][1]}function I(e){return F(this.__data__,e)>-1}function T(e,t){var n=this.__data__,i=F(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function C(){this.__data__={hash:new f,map:new(ln||y),string:new f}}function x(e){return ae(this,e)["delete"](e)}function A(e){return ae(this,e).get(e)}function O(e){return ae(this,e).has(e)}function N(e,t){return ae(this,e).set(e,t),this}function M(e){var t=-1,n=e?e.length:0;for(this.__data__=new S;++t<n;)this.add(e[t])}function P(e){return this.__data__.set(e,Ue),this}function k(e){return this.__data__.has(e)}function R(e){this.__data__=new y(e)}function L(){this.__data__=new y}function D(e){return this.__data__["delete"](e)}function j(e){return this.__data__.get(e)}function B(e){return this.__data__.has(e)}function V(e,t){var n=this.__data__;if(n instanceof y){var i=n.__data__;if(!ln||i.length<He-1)return i.push([e,t]),this;n=this.__data__=new S(i)}return n.set(e,t),this}function H(e,t){var n=Tn(e)||Ie(e)?s(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!Qt.call(e,o)||r&&("length"==o||de(o,i))||n.push(o);return n}function F(e,t){for(var n=e.length;n--;)if(Ee(e[n][0],t))return n;return-1}function U(e,t){t=he(t,e)?[t]:ne(t);for(var n=0,i=t.length;null!=e&&n<i;)e=e[be(t[n++])];return n&&n==i?e:void 0}function G(e){return Jt.call(e)}function z(e,t){return null!=e&&t in Object(e)}function q(e,t,n,i,r){return e===t||(null==e||null==t||!Ae(e)&&!Oe(t)?e!==e&&t!==t:W(e,t,q,n,i,r))}function W(e,t,n,i,r,o){var s=Tn(e),a=Tn(t),l=$e,c=$e;s||(l=wn(e),l=l==Ke?rt:l),a||(c=wn(t),c=c==Ke?rt:c);var d=l==rt&&!u(e),h=c==rt&&!u(t),f=l==c;if(f&&!d)return o||(o=new R),s||Sn(e)?re(e,t,n,i,r,o):oe(e,t,l,n,i,r,o);if(!(r&ze)){var p=d&&Qt.call(e,"__wrapped__"),v=h&&Qt.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new R),n(m,g,i,r,o)}}return!!f&&(o||(o=new R),se(e,t,n,i,r,o))}function Y(e,t,n,i){var r=n.length,o=r,s=!i;if(null==e)return!o;for(e=Object(e);r--;){var a=n[r];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){a=n[r];var l=a[0],u=e[l],c=a[1];if(s&&a[2]){if(void 0===u&&!(l in e))return!1}else{var d=new R;if(i)var h=i(u,c,l,e,t,d);if(!(void 0===h?q(c,u,i,Ge|ze,d):h))return!1}}return!0}function X(e){if(!Ae(e)||pe(e))return!1;var t=Ce(e)||u(e)?Zt:Mt;return t.test(ye(e))}function K(e){return Oe(e)&&xe(e.length)&&!!Rt[Jt.call(e)]}function $(e){return"function"==typeof e?e:null==e?Be:"object"==typeof e?Tn(e)?Z(e[0],e[1]):J(e):Ve(e)}function Q(e){if(!ve(e))return on(e);var t=[];for(var n in Object(e))Qt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function J(e){var t=le(e);return 1==t.length&&t[0][2]?ge(t[0][0],t[0][1]):function(n){return n===e||Y(n,e,t)}}function Z(e,t){return he(e)&&me(t)?ge(be(e),t):function(n){var i=Le(n,e);return void 0===i&&i===t?De(n,e):q(t,i,void 0,Ge|ze)}}function ee(e){return function(t){return U(t,e)}}function te(e){if("string"==typeof e)return e;if(Ne(e))return _n?_n.call(e):"";var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function ne(e){return Tn(e)?e:En(e)}function ie(e){return function(t,n,i){var r=Object(t);if(!Te(t)){var o=$(n,3);t=je(t),n=function(e){return o(r[e],e,r)}}var s=e(t,n,i);return s>-1?r[o?t[s]:s]:void 0}}function re(e,t,n,r,o,s){var a=o&ze,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var d=-1,h=!0,f=o&Ge?new M:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var p=e[d],v=t[d];if(r)var m=a?r(v,p,d,t,e,s):r(p,v,d,e,t,s);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!i(t,function(e,t){if(!f.has(t)&&(p===e||n(p,e,r,o,s)))return f.add(t)})){h=!1;break}}else if(p!==v&&!n(p,v,r,o,s)){h=!1;break}}return s["delete"](e),s["delete"](t),h}function oe(e,t,n,i,r,o,s){switch(n){case ht:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dt:return!(e.byteLength!=t.byteLength||!i(new tn(e),new tn(t)));case Qe:case Je:case it:return Ee(+e,+t);case Ze:return e.name==t.name&&e.message==t.message;case st:case lt:return e==t+"";case nt:var a=c;case at:var l=o&ze;if(a||(a=h),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;o|=Ge,s.set(e,t);var d=re(a(e),a(t),i,r,o,s);return s["delete"](e),d;case ut:if(yn)return yn.call(e)==yn.call(t)}return!1}function se(e,t,n,i,r,o){var s=r&ze,a=je(e),l=a.length,u=je(t),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:Qt.call(t,h)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var p=!0;o.set(e,t),o.set(t,e);for(var v=s;++d<l;){h=a[d];var m=e[h],g=t[h];if(i)var b=s?i(g,m,h,t,e,o):i(m,g,h,e,t,o);if(!(void 0===b?m===g||n(m,g,i,r,o):b)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o["delete"](e),o["delete"](t),p}function ae(e,t){var n=e.__data__;return fe(t)?n["string"==typeof t?"string":"hash"]:n.map}function le(e){for(var t=je(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,me(r)]}return t}function ue(e,t){var n=l(e,t);return X(n)?n:void 0}function ce(e,t,n){t=he(t,e)?[t]:ne(t);for(var i,r=-1,o=t.length;++r<o;){var s=be(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}if(i)return i;var o=e?e.length:0;return!!o&&xe(o)&&de(s,o)&&(Tn(e)||Ie(e))}function de(e,t){return t=null==t?We:t,!!t&&("number"==typeof e||kt.test(e))&&e>-1&&e%1==0&&e<t}function he(e,t){if(Tn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ne(e))||(It.test(e)||!Et.test(e)||null!=t&&e in Object(t))}function fe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function pe(e){return!!Kt&&Kt in e}function ve(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Yt;return e===n}function me(e){return e===e&&!Ae(e)}function ge(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function be(e){if("string"==typeof e||Ne(e))return e;var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function ye(e){if(null!=e){try{return $t.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function _e(e,t,n){var i=e?e.length:0;if(!i)return-1;var o=null==n?0:Pe(n);return o<0&&(o=sn(i+o,0)),r(e,$(t,3),o)}function we(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Fe);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(we.Cache||S),n}function Ee(e,t){return e===t||e!==e&&t!==t}function Ie(e){return Se(e)&&Qt.call(e,"callee")&&(!nn.call(e,"callee")||Jt.call(e)==Ke)}function Te(e){return null!=e&&xe(e.length)&&!Ce(e)}function Se(e){return Oe(e)&&Te(e)}function Ce(e){var t=Ae(e)?Jt.call(e):"";return t==et||t==tt}function xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=We}function Ae(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Oe(e){return!!e&&"object"==typeof e}function Ne(e){return"symbol"==typeof e||Oe(e)&&Jt.call(e)==ut}function Me(e){if(!e)return 0===e?e:0;if(e=ke(e),e===qe||e===-qe){var t=e<0?-1:1;return t*Ye}return e===e?e:0}function Pe(e){var t=Me(e),n=t%1;return t===t?n?t-n:t:0}function ke(e){if("number"==typeof e)return e;if(Ne(e))return Xe;if(Ae(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ae(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(xt,"");var n=Nt.test(e);return n||Pt.test(e)?Lt(e.slice(2),n?2:8):Ot.test(e)?Xe:+e}function Re(e){return null==e?"":te(e)}function Le(e,t,n){var i=null==e?void 0:U(e,t);return void 0===i?n:i}function De(e,t){return null!=e&&ce(e,t,z)}function je(e){return Te(e)?H(e):Q(e)}function Be(e){return e}function Ve(e){return he(e)?o(be(e)):ee(e)}var He=200,Fe="Expected a function",Ue="__lodash_hash_undefined__",Ge=1,ze=2,qe=1/0,We=9007199254740991,Ye=1.7976931348623157e308,Xe=NaN,Ke="[object Arguments]",$e="[object Array]",Qe="[object Boolean]",Je="[object Date]",Ze="[object Error]",et="[object Function]",tt="[object GeneratorFunction]",nt="[object Map]",it="[object Number]",rt="[object Object]",ot="[object Promise]",st="[object RegExp]",at="[object Set]",lt="[object String]",ut="[object Symbol]",ct="[object WeakMap]",dt="[object ArrayBuffer]",ht="[object DataView]",ft="[object Float32Array]",pt="[object Float64Array]",vt="[object Int8Array]",mt="[object Int16Array]",gt="[object Int32Array]",bt="[object Uint8Array]",yt="[object Uint8ClampedArray]",_t="[object Uint16Array]",wt="[object Uint32Array]",Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Tt=/^\./,St=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ct=/[\\^$.*+?()[\]{}|]/g,xt=/^\s+|\s+$/g,At=/\\(\\)?/g,Ot=/^[-+]0x[0-9a-f]+$/i,Nt=/^0b[01]+$/i,Mt=/^\[object .+?Constructor\]$/,Pt=/^0o[0-7]+$/i,kt=/^(?:0|[1-9]\d*)$/,Rt={};Rt[ft]=Rt[pt]=Rt[vt]=Rt[mt]=Rt[gt]=Rt[bt]=Rt[yt]=Rt[_t]=Rt[wt]=!0,Rt[Ke]=Rt[$e]=Rt[dt]=Rt[Qe]=Rt[ht]=Rt[Je]=Rt[Ze]=Rt[et]=Rt[nt]=Rt[it]=Rt[rt]=Rt[st]=Rt[at]=Rt[lt]=Rt[ct]=!1;var Lt=parseInt,Dt="object"==typeof e&&e&&e.Object===Object&&e,jt="object"==typeof self&&self&&self.Object===Object&&self,Bt=Dt||jt||Function("return this")(),Vt="object"==typeof n&&n&&!n.nodeType&&n,Ht=Vt&&"object"==typeof t&&t&&!t.nodeType&&t,Ft=Ht&&Ht.exports===Vt,Ut=Ft&&Dt.process,Gt=function(){try{return Ut&&Ut.binding("util")}catch(e){}}(),zt=Gt&&Gt.isTypedArray,qt=Array.prototype,Wt=Function.prototype,Yt=Object.prototype,Xt=Bt["__core-js_shared__"],Kt=function(){var e=/[^.]+$/.exec(Xt&&Xt.keys&&Xt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),$t=Wt.toString,Qt=Yt.hasOwnProperty,Jt=Yt.toString,Zt=RegExp("^"+$t.call(Qt).replace(Ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),en=Bt.Symbol,tn=Bt.Uint8Array,nn=Yt.propertyIsEnumerable,rn=qt.splice,on=d(Object.keys,Object),sn=Math.max,an=ue(Bt,"DataView"),ln=ue(Bt,"Map"),un=ue(Bt,"Promise"),cn=ue(Bt,"Set"),dn=ue(Bt,"WeakMap"),hn=ue(Object,"create"),fn=ye(an),pn=ye(ln),vn=ye(un),mn=ye(cn),gn=ye(dn),bn=en?en.prototype:void 0,yn=bn?bn.valueOf:void 0,_n=bn?bn.toString:void 0;f.prototype.clear=p,f.prototype["delete"]=v,f.prototype.get=m,f.prototype.has=g,f.prototype.set=b,y.prototype.clear=_,y.prototype["delete"]=w,y.prototype.get=E,y.prototype.has=I,y.prototype.set=T,S.prototype.clear=C,S.prototype["delete"]=x,S.prototype.get=A,S.prototype.has=O,S.prototype.set=N,M.prototype.add=M.prototype.push=P,M.prototype.has=k,R.prototype.clear=L,R.prototype["delete"]=D,R.prototype.get=j,R.prototype.has=B,R.prototype.set=V;var wn=G;(an&&wn(new an(new ArrayBuffer(1)))!=ht||ln&&wn(new ln)!=nt||un&&wn(un.resolve())!=ot||cn&&wn(new cn)!=at||dn&&wn(new dn)!=ct)&&(wn=function(e){var t=Jt.call(e),n=t==rt?e.constructor:void 0,i=n?ye(n):void 0;if(i)switch(i){case fn:return ht;case pn:return nt;case vn:return ot;case mn:return at;case gn:return ct}return t});var En=we(function(e){e=Re(e);var t=[];return Tt.test(e)&&t.push(""),e.replace(St,function(e,n,i,r){t.push(i?r.replace(At,"$1"):n||e)}),t}),In=ie(_e);we.Cache=S;var Tn=Array.isArray,Sn=zt?a(zt):K;t.exports=In}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){(function(e){function i(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function r(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function o(e){return function(t){return null==t?void 0:t[e]}}function s(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function a(e){return function(t){return e(t)}}function l(e,t){return null==e?void 0:e[t]}function u(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function d(e,t){return function(n){return e(t(n))}}function h(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function p(){this.__data__=dn?dn(null):{}}function v(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if(dn){var n=t[e];return n===Fe?void 0:n}return $t.call(t,e)?t[e]:void 0}function g(e){var t=this.__data__;return dn?void 0!==t[e]:$t.call(t,e)}function b(e,t){var n=this.__data__;return n[e]=dn&&void 0===t?Fe:t,this}function y(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function _(){this.__data__=[]}function w(e){var t=this.__data__,n=F(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():nn.call(t,n,1),!0}function E(e){var t=this.__data__,n=F(t,e);return n<0?void 0:t[n][1]}function I(e){return F(this.__data__,e)>-1}function T(e,t){var n=this.__data__,i=F(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function C(){this.__data__={hash:new f,map:new(an||y),string:new f}}function x(e){return se(this,e)["delete"](e)}function A(e){return se(this,e).get(e)}function O(e){return se(this,e).has(e)}function N(e,t){return se(this,e).set(e,t),this}function M(e){var t=-1,n=e?e.length:0;for(this.__data__=new S;++t<n;)this.add(e[t])}function P(e){return this.__data__.set(e,Fe),this}function k(e){return this.__data__.has(e)}function R(e){this.__data__=new y(e)}function L(){this.__data__=new y}function D(e){return this.__data__["delete"](e)}function j(e){return this.__data__.get(e);
}function B(e){return this.__data__.has(e)}function V(e,t){var n=this.__data__;if(n instanceof y){var i=n.__data__;if(!an||i.length<Ve-1)return i.push([e,t]),this;n=this.__data__=new S(i)}return n.set(e,t),this}function H(e,t){var n=En(e)||Ee(e)?s(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!$t.call(e,o)||r&&("length"==o||ce(o,i))||n.push(o);return n}function F(e,t){for(var n=e.length;n--;)if(we(e[n][0],t))return n;return-1}function U(e,t){t=de(t,e)?[t]:ne(t);for(var n=0,i=t.length;null!=e&&n<i;)e=e[ge(t[n++])];return n&&n==i?e:void 0}function G(e){return Qt.call(e)}function z(e,t){return null!=e&&t in Object(e)}function q(e,t,n,i,r){return e===t||(null==e||null==t||!xe(e)&&!Ae(t)?e!==e&&t!==t:W(e,t,q,n,i,r))}function W(e,t,n,i,r,o){var s=En(e),a=En(t),l=Ke,c=Ke;s||(l=_n(e),l=l==Xe?it:l),a||(c=_n(t),c=c==Xe?it:c);var d=l==it&&!u(e),h=c==it&&!u(t),f=l==c;if(f&&!d)return o||(o=new R),s||In(e)?ie(e,t,n,i,r,o):re(e,t,l,n,i,r,o);if(!(r&Ge)){var p=d&&$t.call(e,"__wrapped__"),v=h&&$t.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new R),n(m,g,i,r,o)}}return!!f&&(o||(o=new R),oe(e,t,n,i,r,o))}function Y(e,t,n,i){var r=n.length,o=r,s=!i;if(null==e)return!o;for(e=Object(e);r--;){var a=n[r];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){a=n[r];var l=a[0],u=e[l],c=a[1];if(s&&a[2]){if(void 0===u&&!(l in e))return!1}else{var d=new R;if(i)var h=i(u,c,l,e,t,d);if(!(void 0===h?q(c,u,i,Ue|Ge,d):h))return!1}}return!0}function X(e){if(!xe(e)||fe(e))return!1;var t=Se(e)||u(e)?Jt:Nt;return t.test(be(e))}function K(e){return Ae(e)&&Ce(e.length)&&!!kt[Qt.call(e)]}function $(e){return"function"==typeof e?e:null==e?je:"object"==typeof e?En(e)?Z(e[0],e[1]):J(e):Be(e)}function Q(e){if(!pe(e))return rn(e);var t=[];for(var n in Object(e))$t.call(e,n)&&"constructor"!=n&&t.push(n);return t}function J(e){var t=ae(e);return 1==t.length&&t[0][2]?me(t[0][0],t[0][1]):function(n){return n===e||Y(n,e,t)}}function Z(e,t){return de(e)&&ve(t)?me(ge(e),t):function(n){var i=Re(n,e);return void 0===i&&i===t?Le(n,e):q(t,i,void 0,Ue|Ge)}}function ee(e){return function(t){return U(t,e)}}function te(e){if("string"==typeof e)return e;if(Oe(e))return yn?yn.call(e):"";var t=e+"";return"0"==t&&1/e==-ze?"-0":t}function ne(e){return En(e)?e:wn(e)}function ie(e,t,n,r,o,s){var a=o&Ge,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var d=-1,h=!0,f=o&Ue?new M:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var p=e[d],v=t[d];if(r)var m=a?r(v,p,d,t,e,s):r(p,v,d,e,t,s);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!i(t,function(e,t){if(!f.has(t)&&(p===e||n(p,e,r,o,s)))return f.add(t)})){h=!1;break}}else if(p!==v&&!n(p,v,r,o,s)){h=!1;break}}return s["delete"](e),s["delete"](t),h}function re(e,t,n,i,r,o,s){switch(n){case dt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ct:return!(e.byteLength!=t.byteLength||!i(new en(e),new en(t)));case $e:case Qe:case nt:return we(+e,+t);case Je:return e.name==t.name&&e.message==t.message;case ot:case at:return e==t+"";case tt:var a=c;case st:var l=o&Ge;if(a||(a=h),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;o|=Ue,s.set(e,t);var d=ie(a(e),a(t),i,r,o,s);return s["delete"](e),d;case lt:if(bn)return bn.call(e)==bn.call(t)}return!1}function oe(e,t,n,i,r,o){var s=r&Ge,a=De(e),l=a.length,u=De(t),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:$t.call(t,h)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var p=!0;o.set(e,t),o.set(t,e);for(var v=s;++d<l;){h=a[d];var m=e[h],g=t[h];if(i)var b=s?i(g,m,h,t,e,o):i(m,g,h,e,t,o);if(!(void 0===b?m===g||n(m,g,i,r,o):b)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o["delete"](e),o["delete"](t),p}function se(e,t){var n=e.__data__;return he(t)?n["string"==typeof t?"string":"hash"]:n.map}function ae(e){for(var t=De(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ve(r)]}return t}function le(e,t){var n=l(e,t);return X(n)?n:void 0}function ue(e,t,n){t=de(t,e)?[t]:ne(t);for(var i,r=-1,o=t.length;++r<o;){var s=ge(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}if(i)return i;var o=e?e.length:0;return!!o&&Ce(o)&&ce(s,o)&&(En(e)||Ee(e))}function ce(e,t){return t=null==t?qe:t,!!t&&("number"==typeof e||Pt.test(e))&&e>-1&&e%1==0&&e<t}function de(e,t){if(En(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Oe(e))||(Et.test(e)||!wt.test(e)||null!=t&&e in Object(t))}function he(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function fe(e){return!!Xt&&Xt in e}function pe(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Wt;return e===n}function ve(e){return e===e&&!xe(e)}function me(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function ge(e){if("string"==typeof e||Oe(e))return e;var t=e+"";return"0"==t&&1/e==-ze?"-0":t}function be(e){if(null!=e){try{return Kt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ye(e,t,n){var i=e?e.length:0;if(!i)return-1;var o=null==n?0:Me(n);return o<0&&(o=on(i+o,0)),r(e,$(t,3),o)}function _e(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(He);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(_e.Cache||S),n}function we(e,t){return e===t||e!==e&&t!==t}function Ee(e){return Te(e)&&$t.call(e,"callee")&&(!tn.call(e,"callee")||Qt.call(e)==Xe)}function Ie(e){return null!=e&&Ce(e.length)&&!Se(e)}function Te(e){return Ae(e)&&Ie(e)}function Se(e){var t=xe(e)?Qt.call(e):"";return t==Ze||t==et}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=qe}function xe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ae(e){return!!e&&"object"==typeof e}function Oe(e){return"symbol"==typeof e||Ae(e)&&Qt.call(e)==lt}function Ne(e){if(!e)return 0===e?e:0;if(e=Pe(e),e===ze||e===-ze){var t=e<0?-1:1;return t*We}return e===e?e:0}function Me(e){var t=Ne(e),n=t%1;return t===t?n?t-n:t:0}function Pe(e){if("number"==typeof e)return e;if(Oe(e))return Ye;if(xe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=xe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ct,"");var n=Ot.test(e);return n||Mt.test(e)?Rt(e.slice(2),n?2:8):At.test(e)?Ye:+e}function ke(e){return null==e?"":te(e)}function Re(e,t,n){var i=null==e?void 0:U(e,t);return void 0===i?n:i}function Le(e,t){return null!=e&&ue(e,t,z)}function De(e){return Ie(e)?H(e):Q(e)}function je(e){return e}function Be(e){return de(e)?o(ge(e)):ee(e)}var Ve=200,He="Expected a function",Fe="__lodash_hash_undefined__",Ue=1,Ge=2,ze=1/0,qe=9007199254740991,We=1.7976931348623157e308,Ye=NaN,Xe="[object Arguments]",Ke="[object Array]",$e="[object Boolean]",Qe="[object Date]",Je="[object Error]",Ze="[object Function]",et="[object GeneratorFunction]",tt="[object Map]",nt="[object Number]",it="[object Object]",rt="[object Promise]",ot="[object RegExp]",st="[object Set]",at="[object String]",lt="[object Symbol]",ut="[object WeakMap]",ct="[object ArrayBuffer]",dt="[object DataView]",ht="[object Float32Array]",ft="[object Float64Array]",pt="[object Int8Array]",vt="[object Int16Array]",mt="[object Int32Array]",gt="[object Uint8Array]",bt="[object Uint8ClampedArray]",yt="[object Uint16Array]",_t="[object Uint32Array]",wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/,It=/^\./,Tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/[\\^$.*+?()[\]{}|]/g,Ct=/^\s+|\s+$/g,xt=/\\(\\)?/g,At=/^[-+]0x[0-9a-f]+$/i,Ot=/^0b[01]+$/i,Nt=/^\[object .+?Constructor\]$/,Mt=/^0o[0-7]+$/i,Pt=/^(?:0|[1-9]\d*)$/,kt={};kt[ht]=kt[ft]=kt[pt]=kt[vt]=kt[mt]=kt[gt]=kt[bt]=kt[yt]=kt[_t]=!0,kt[Xe]=kt[Ke]=kt[ct]=kt[$e]=kt[dt]=kt[Qe]=kt[Je]=kt[Ze]=kt[tt]=kt[nt]=kt[it]=kt[ot]=kt[st]=kt[at]=kt[ut]=!1;var Rt=parseInt,Lt="object"==typeof e&&e&&e.Object===Object&&e,Dt="object"==typeof self&&self&&self.Object===Object&&self,jt=Lt||Dt||Function("return this")(),Bt="object"==typeof n&&n&&!n.nodeType&&n,Vt=Bt&&"object"==typeof t&&t&&!t.nodeType&&t,Ht=Vt&&Vt.exports===Bt,Ft=Ht&&Lt.process,Ut=function(){try{return Ft&&Ft.binding("util")}catch(e){}}(),Gt=Ut&&Ut.isTypedArray,zt=Array.prototype,qt=Function.prototype,Wt=Object.prototype,Yt=jt["__core-js_shared__"],Xt=function(){var e=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Kt=qt.toString,$t=Wt.hasOwnProperty,Qt=Wt.toString,Jt=RegExp("^"+Kt.call($t).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=jt.Symbol,en=jt.Uint8Array,tn=Wt.propertyIsEnumerable,nn=zt.splice,rn=d(Object.keys,Object),on=Math.max,sn=le(jt,"DataView"),an=le(jt,"Map"),ln=le(jt,"Promise"),un=le(jt,"Set"),cn=le(jt,"WeakMap"),dn=le(Object,"create"),hn=be(sn),fn=be(an),pn=be(ln),vn=be(un),mn=be(cn),gn=Zt?Zt.prototype:void 0,bn=gn?gn.valueOf:void 0,yn=gn?gn.toString:void 0;f.prototype.clear=p,f.prototype["delete"]=v,f.prototype.get=m,f.prototype.has=g,f.prototype.set=b,y.prototype.clear=_,y.prototype["delete"]=w,y.prototype.get=E,y.prototype.has=I,y.prototype.set=T,S.prototype.clear=C,S.prototype["delete"]=x,S.prototype.get=A,S.prototype.has=O,S.prototype.set=N,M.prototype.add=M.prototype.push=P,M.prototype.has=k,R.prototype.clear=L,R.prototype["delete"]=D,R.prototype.get=j,R.prototype.has=B,R.prototype.set=V;var _n=G;(sn&&_n(new sn(new ArrayBuffer(1)))!=dt||an&&_n(new an)!=tt||ln&&_n(ln.resolve())!=rt||un&&_n(new un)!=st||cn&&_n(new cn)!=ut)&&(_n=function(e){var t=Qt.call(e),n=t==it?e.constructor:void 0,i=n?be(n):void 0;if(i)switch(i){case hn:return dt;case fn:return tt;case pn:return rt;case vn:return st;case mn:return ut}return t});var wn=_e(function(e){e=ke(e);var t=[];return It.test(e)&&t.push(""),e.replace(Tt,function(e,n,i,r){t.push(i?r.replace(xt,"$1"):n||e)}),t});_e.Cache=S;var En=Array.isArray,In=Gt?a(Gt):K;t.exports=ye}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(e,t,n){(function(e){function i(e,t){return null==e?void 0:e[t]}function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function o(e,t){return function(n){return e(t(n))}}function s(e){return q.call(e)}function a(e){if(!b(e)||u(e))return!1;var t=m(e)||r(e)?W:P;return t.test(d(e))}function l(e,t){var n=i(e,t);return a(n)?n:void 0}function u(e){return!!U&&U in e}function c(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||H;return e===n}function d(e){if(null!=e){try{return G.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function h(e){return p(e)&&z.call(e,"callee")&&(!X.call(e,"callee")||q.call(e)==E)}function f(e){return null!=e&&g(e.length)&&!m(e)}function p(e){return y(e)&&f(e)}function v(e){if(f(e)&&(ue(e)||"string"==typeof e||"function"==typeof e.splice||ce(e)||h(e)))return!e.length;var t=le(e);if(t==S||t==A)return!e.size;if(ne||c(e))return!$(e).length;for(var n in e)if(z.call(e,n))return!1;return!0}function m(e){var t=b(e)?q.call(e):"";return t==I||t==T}function g(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=w}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){return!!e&&"object"==typeof e}function _(){return!1}var w=9007199254740991,E="[object Arguments]",I="[object Function]",T="[object GeneratorFunction]",S="[object Map]",C="[object Object]",x="[object Promise]",A="[object Set]",O="[object WeakMap]",N="[object DataView]",M=/[\\^$.*+?()[\]{}|]/g,P=/^\[object .+?Constructor\]$/,k="object"==typeof e&&e&&e.Object===Object&&e,R="object"==typeof self&&self&&self.Object===Object&&self,L=k||R||Function("return this")(),D="object"==typeof n&&n&&!n.nodeType&&n,j=D&&"object"==typeof t&&t&&!t.nodeType&&t,B=j&&j.exports===D,V=Function.prototype,H=Object.prototype,F=L["__core-js_shared__"],U=function(){var e=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),G=V.toString,z=H.hasOwnProperty,q=H.toString,W=RegExp("^"+G.call(z).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=B?L.Buffer:void 0,X=H.propertyIsEnumerable,K=Y?Y.isBuffer:void 0,$=o(Object.keys,Object),Q=l(L,"DataView"),J=l(L,"Map"),Z=l(L,"Promise"),ee=l(L,"Set"),te=l(L,"WeakMap"),ne=!X.call({valueOf:1},"valueOf"),ie=d(Q),re=d(J),oe=d(Z),se=d(ee),ae=d(te),le=s;(Q&&le(new Q(new ArrayBuffer(1)))!=N||J&&le(new J)!=S||Z&&le(Z.resolve())!=x||ee&&le(new ee)!=A||te&&le(new te)!=O)&&(le=function(e){var t=q.call(e),n=t==C?e.constructor:void 0,i=n?d(n):void 0;if(i)switch(i){case ie:return N;case re:return S;case oe:return x;case se:return A;case ae:return O}return t});var ue=Array.isArray,ce=K||_;t.exports=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,t,n){function i(e){var t=e?e.length:0;return t?e[t-1]:void 0}t.exports=i},{}],48:[function(e,t,n){(function(e){function i(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t){for(var n=-1,i=e?e.length:0;++n<i&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function l(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function u(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function c(e){return function(t){return e(t)}}function d(e,t){return null==e?void 0:e[t]}function h(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function f(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function p(e,t){return function(n){return e(t(n))}}function v(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function g(){this.__data__=on?on(null):{}}function b(e){return this.has(e)&&delete this.__data__[e]}function y(e){var t=this.__data__;if(on){var n=t[e];return n===Ue?void 0:n}return Bt.call(t,e)?t[e]:void 0}function _(e){var t=this.__data__;return on?void 0!==t[e]:Bt.call(t,e)}function w(e,t){var n=this.__data__;return n[e]=on&&void 0===t?Ue:t,this}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function I(){this.__data__=[]}function T(e){var t=this.__data__,n=G(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Xt.call(t,n,1),!0}function S(e){var t=this.__data__,n=G(t,e);return n<0?void 0:t[n][1]}function C(e){return G(this.__data__,e)>-1}function x(e,t){var n=this.__data__,i=G(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function O(){this.__data__={hash:new m,map:new(en||E),string:new m}}function N(e){return ve(this,e)["delete"](e)}function M(e){return ve(this,e).get(e)}function P(e){return ve(this,e).has(e)}function k(e,t){return ve(this,e).set(e,t),this}function R(e){this.__data__=new E(e)}function L(){this.__data__=new E}function D(e){return this.__data__["delete"](e)}function j(e){return this.__data__.get(e)}function B(e){return this.__data__.has(e)}function V(e,t){var n=this.__data__;if(n instanceof E){var i=n.__data__;if(!en||i.length<Fe-1)return i.push([e,t]),this;n=this.__data__=new A(i)}return n.set(e,t),this}function H(e,t){var n=vn(e)||Ae(e)?u(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!Bt.call(e,o)||r&&("length"==o||_e(o,i))||n.push(o);return n}function F(e,t,n){(void 0===n||xe(e[t],n))&&("number"!=typeof t||void 0!==n||t in e)||(e[t]=n)}function U(e,t,n){var i=e[t];Bt.call(e,t)&&xe(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function G(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function z(e,t){return e&&de(t,je(t),e)}function q(e,t,n,i,r,o,a){var l;if(i&&(l=o?i(e,r,o,a):i(e)),void 0!==l)return l;if(!ke(e))return e;var u=vn(e);if(u){if(l=ge(e),!t)return ce(e,l)}else{var c=pn(e),d=c==Ke||c==$e;if(mn(e))return ne(e,t);if(c==Ze||c==ze||d&&!o){if(h(e))return o?e:{};if(l=be(d?{}:e),!t)return he(e,z(l,e))}else{if(!Et[c])return o?e:{};l=ye(e,c,q,t)}}a||(a=new R);var f=a.get(e);if(f)return f;if(a.set(e,l),!u)var p=n?pe(e):je(e);return s(p||e,function(r,o){p&&(o=r,r=e[o]),U(l,o,q(r,t,n,i,o,e,a))}),l}function W(e){return ke(e)?Wt(e):{}}function Y(e,t,n){var i=t(e);return vn(e)?i:a(i,n(e))}function X(e){return Ht.call(e)}function K(e){if(!ke(e)||Ie(e))return!1;var t=Me(e)||h(e)?Ft:yt;return t.test(Ce(e))}function $(e){return Re(e)&&Pe(e.length)&&!!wt[Ht.call(e)]}function Q(e){if(!Te(e))return Qt(e);var t=[];for(var n in Object(e))Bt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function J(e){if(!ke(e))return Se(e);var t=Te(e),n=[];for(var i in e)("constructor"!=i||!t&&Bt.call(e,i))&&n.push(i);return n}function Z(e,t,n,i,r){if(e!==t){if(!vn(t)&&!gn(t))var o=J(t);s(o||t,function(s,a){if(o&&(a=s,s=t[a]),ke(s))r||(r=new R),ee(e,t,a,n,Z,i,r);else{var l=i?i(e[a],s,a+"",e,t,r):void 0;void 0===l&&(l=s),F(e,a,l)}})}}function ee(e,t,n,i,r,o,s){var a=e[n],l=t[n],u=s.get(l);if(u)return void F(e,n,u);var c=o?o(a,l,n+"",e,t,s):void 0,d=void 0===c;d&&(c=l,vn(l)||gn(l)?vn(a)?c=a:Ne(a)?c=ce(a):(d=!1,c=q(l,!0)):Le(l)||Ae(l)?Ae(a)?c=De(a):!ke(a)||i&&Me(a)?(d=!1,c=q(l,!0)):c=a:d=!1),d&&(s.set(l,c),r(c,l,i,o,s),s["delete"](l)),F(e,n,c)}function te(e,t){return t=Jt(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,r=Jt(n.length-t,0),s=Array(r);++i<r;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=s,o(e,this,a)}}function ne(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function ie(e){var t=new e.constructor(e.byteLength);return new zt(t).set(new zt(e)),t}function re(e,t){var n=t?ie(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function oe(e,t,n){var r=t?n(f(e),!0):f(e);return l(r,i,new e.constructor)}function se(e){var t=new e.constructor(e.source,bt.exec(e));return t.lastIndex=e.lastIndex,t}function ae(e,t,n){var i=t?n(v(e),!0):v(e);return l(i,r,new e.constructor)}function le(e){return hn?Object(hn.call(e)):{}}function ue(e,t){var n=t?ie(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ce(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function de(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],a=i?i(n[s],e[s],s,n,e):void 0;U(n,s,void 0===a?e[s]:a)}return n}function he(e,t){return de(e,fn(e),t)}function fe(e){return te(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&we(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t})}function pe(e){return Y(e,je,fn)}function ve(e,t){var n=e.__data__;return Ee(t)?n["string"==typeof t?"string":"hash"]:n.map}function me(e,t){var n=d(e,t);return K(n)?n:void 0}function ge(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Bt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function be(e){return"function"!=typeof e.constructor||Te(e)?{}:W(qt(e))}function ye(e,t,n,i){var r=e.constructor;switch(t){case st:return ie(e);case We:case Ye:return new r((+e));case at:return re(e,i);case lt:case ut:case ct:case dt:case ht:case ft:case pt:case vt:case mt:return ue(e,i);case Qe:return oe(e,i,n);case Je:case it:return new r(e);case tt:return se(e);case nt:return ae(e,i,n);case rt:return le(e)}}function _e(e,t){return t=null==t?Ge:t,!!t&&("number"==typeof e||_t.test(e))&&e>-1&&e%1==0&&e<t}function we(e,t,n){if(!ke(n))return!1;var i=typeof t;return!!("number"==i?Oe(n)&&_e(t,n.length):"string"==i&&t in n)&&xe(n[t],e)}function Ee(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ie(e){return!!Dt&&Dt in e}function Te(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Rt;return e===n}function Se(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function Ce(e){if(null!=e){try{return jt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function xe(e,t){return e===t||e!==e&&t!==t}function Ae(e){return Ne(e)&&Bt.call(e,"callee")&&(!Yt.call(e,"callee")||Ht.call(e)==ze)}function Oe(e){return null!=e&&Pe(e.length)&&!Me(e)}function Ne(e){return Re(e)&&Oe(e)}function Me(e){var t=ke(e)?Ht.call(e):"";return t==Ke||t==$e}function Pe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ge}function ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Re(e){return!!e&&"object"==typeof e}function Le(e){if(!Re(e)||Ht.call(e)!=Ze||h(e))return!1;var t=qt(e);if(null===t)return!0;var n=Bt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&jt.call(n)==Vt}function De(e){return de(e,Be(e))}function je(e){return Oe(e)?H(e):Q(e)}function Be(e){return Oe(e)?H(e,!0):J(e)}function Ve(){return[]}function He(){return!1}var Fe=200,Ue="__lodash_hash_undefined__",Ge=9007199254740991,ze="[object Arguments]",qe="[object Array]",We="[object Boolean]",Ye="[object Date]",Xe="[object Error]",Ke="[object Function]",$e="[object GeneratorFunction]",Qe="[object Map]",Je="[object Number]",Ze="[object Object]",et="[object Promise]",tt="[object RegExp]",nt="[object Set]",it="[object String]",rt="[object Symbol]",ot="[object WeakMap]",st="[object ArrayBuffer]",at="[object DataView]",lt="[object Float32Array]",ut="[object Float64Array]",ct="[object Int8Array]",dt="[object Int16Array]",ht="[object Int32Array]",ft="[object Uint8Array]",pt="[object Uint8ClampedArray]",vt="[object Uint16Array]",mt="[object Uint32Array]",gt=/[\\^$.*+?()[\]{}|]/g,bt=/\w*$/,yt=/^\[object .+?Constructor\]$/,_t=/^(?:0|[1-9]\d*)$/,wt={};wt[lt]=wt[ut]=wt[ct]=wt[dt]=wt[ht]=wt[ft]=wt[pt]=wt[vt]=wt[mt]=!0,wt[ze]=wt[qe]=wt[st]=wt[We]=wt[at]=wt[Ye]=wt[Xe]=wt[Ke]=wt[Qe]=wt[Je]=wt[Ze]=wt[tt]=wt[nt]=wt[it]=wt[ot]=!1;var Et={};Et[ze]=Et[qe]=Et[st]=Et[at]=Et[We]=Et[Ye]=Et[lt]=Et[ut]=Et[ct]=Et[dt]=Et[ht]=Et[Qe]=Et[Je]=Et[Ze]=Et[tt]=Et[nt]=Et[it]=Et[rt]=Et[ft]=Et[pt]=Et[vt]=Et[mt]=!0,Et[Xe]=Et[Ke]=Et[ot]=!1;var It="object"==typeof e&&e&&e.Object===Object&&e,Tt="object"==typeof self&&self&&self.Object===Object&&self,St=It||Tt||Function("return this")(),Ct="object"==typeof n&&n&&!n.nodeType&&n,xt=Ct&&"object"==typeof t&&t&&!t.nodeType&&t,At=xt&&xt.exports===Ct,Ot=At&&It.process,Nt=function(){try{return Ot&&Ot.binding("util")}catch(e){}}(),Mt=Nt&&Nt.isTypedArray,Pt=Array.prototype,kt=Function.prototype,Rt=Object.prototype,Lt=St["__core-js_shared__"],Dt=function(){var e=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),jt=kt.toString,Bt=Rt.hasOwnProperty,Vt=jt.call(Object),Ht=Rt.toString,Ft=RegExp("^"+jt.call(Bt).replace(gt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=At?St.Buffer:void 0,Gt=St.Symbol,zt=St.Uint8Array,qt=p(Object.getPrototypeOf,Object),Wt=Object.create,Yt=Rt.propertyIsEnumerable,Xt=Pt.splice,Kt=Object.getOwnPropertySymbols,$t=Ut?Ut.isBuffer:void 0,Qt=p(Object.keys,Object),Jt=Math.max,Zt=me(St,"DataView"),en=me(St,"Map"),tn=me(St,"Promise"),nn=me(St,"Set"),rn=me(St,"WeakMap"),on=me(Object,"create"),sn=Ce(Zt),an=Ce(en),ln=Ce(tn),un=Ce(nn),cn=Ce(rn),dn=Gt?Gt.prototype:void 0,hn=dn?dn.valueOf:void 0;m.prototype.clear=g,m.prototype["delete"]=b,m.prototype.get=y,m.prototype.has=_,m.prototype.set=w,E.prototype.clear=I,E.prototype["delete"]=T,E.prototype.get=S,E.prototype.has=C,E.prototype.set=x,A.prototype.clear=O,A.prototype["delete"]=N,A.prototype.get=M,A.prototype.has=P,A.prototype.set=k,R.prototype.clear=L,R.prototype["delete"]=D,R.prototype.get=j,R.prototype.has=B,R.prototype.set=V;var fn=Kt?p(Kt,Object):Ve,pn=X;(Zt&&pn(new Zt(new ArrayBuffer(1)))!=at||en&&pn(new en)!=Qe||tn&&pn(tn.resolve())!=et||nn&&pn(new nn)!=nt||rn&&pn(new rn)!=ot)&&(pn=function(e){var t=Ht.call(e),n=t==Ze?e.constructor:void 0,i=n?Ce(n):void 0;if(i)switch(i){case sn:return at;case an:return Qe;case ln:return et;case un:return nt;case cn:return ot}return t});var vn=Array.isArray,mn=$t||He,gn=Mt?c(Mt):$,bn=fe(function(e,t,n){Z(e,t,n)});t.exports=bn}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){function i(e){var t=s(function(n,i){var s=o(i,t.placeholder);return r(n,e,void 0,i,s)});return t}var r=e("lodash._createwrapper"),o=e("lodash._replaceholders"),s=e("lodash.restparam"),a=32,l=i(a);l.placeholder={},t.exports=l},{"lodash._createwrapper":37,"lodash._replaceholders":39,"lodash.restparam":51}],50:[function(e,t,n){function i(e,t){return e+P(R()*(t-e+1))}function r(e,t){return t=null==t?g:t,!!t&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function o(e,t,n){if(!c(n))return!1;var i=typeof t;return!!("number"==i?a(n)&&r(t,n.length):"string"==i&&t in n)&&s(n[t],e)}function s(e,t){return e===t||e!==e&&t!==t}function a(e){return null!=e&&u(e.length)&&!l(e)}function l(e){var t=c(e)?M.call(e):"";return t==_||t==w}function u(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function d(e){return!!e&&"object"==typeof e}function h(e){return"symbol"==typeof e||d(e)&&M.call(e)==E}function f(e){if(!e)return 0===e?e:0;if(e=p(e),e===m||e===-m){var t=e<0?-1:1;return t*b}return e===e?e:0}function p(e){if("number"==typeof e)return e;if(h(e))return y;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(I,"");var n=S.test(e);return n||C.test(e)?O(e.slice(2),n?2:8):T.test(e)?y:+e}function v(e,t,n){if(n&&"boolean"!=typeof n&&o(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=f(e),void 0===t?(t=e,e=0):t=f(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=R();return k(e+s*(t-e+A("1e-"+((s+"").length-1))),t)}return i(e,t)}var m=1/0,g=9007199254740991,b=1.7976931348623157e308,y=NaN,_="[object Function]",w="[object GeneratorFunction]",E="[object Symbol]",I=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,C=/^0o[0-7]+$/i,x=/^(?:0|[1-9]\d*)$/,A=parseFloat,O=parseInt,N=Object.prototype,M=N.toString,P=Math.floor,k=Math.min,R=Math.random;t.exports=v},{}],51:[function(e,t,n){function i(e,t){if("function"!=typeof e)throw new TypeError(r);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=o(n.length-t,0),s=Array(r);++i<r;)s[i]=n[t+i];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}var a=Array(t+1);for(i=-1;++i<t;)a[i]=n[i];return a[t]=s,e.apply(this,a)}}var r="Expected a function",o=Math.max;t.exports=i},{}],52:[function(e,t,n){(function(e){function n(e,t){for(var n=-1,i=e?e.length:0,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function i(e){return e.split("")}function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function o(e,t){return n(t,function(t){return e[t]})}function s(e,t){return null==e?void 0:e[t]}function a(e){return ke.test(e)}function l(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function u(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function d(e,t){return function(n){return e(t(n))}}function h(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){return a(e)?p(e):i(e)}function p(e){return e.match(Pe)||[]}function v(e,t){var n=ut(e)||M(e)?r(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!Ge.call(e,s)||o&&("length"==s||I(s,i))||n.push(s);return n}function m(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function g(e){return ze.call(e)}function b(e){if(!D(e)||S(e))return!1;var t=R(e)||l(e)?qe:he;return t.test(x(e))}function y(e){if(!C(e))return $e(e);var t=[];for(var n in Object(e))Ge.call(e,n)&&"constructor"!=n&&t.push(n);return t}function _(e,t){return e+Ke(Qe()*(t-e+1))}function w(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function E(e,t){var n=s(e,t);return b(n)?n:void 0}function I(e,t){return t=null==t?Y:t,!!t&&("number"==typeof e||pe.test(e))&&e>-1&&e%1==0&&e<t}function T(e,t,n){if(!D(n))return!1;var i=typeof t;return!!("number"==i?P(n)&&I(t,n.length):"string"==i&&t in n)&&N(n[t],e)}function S(e){return!!Fe&&Fe in e}function C(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Ve;return e===n}function x(e){if(null!=e){try{return Ue.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function A(e,t,n){var i=-1,r=H(e),o=r.length,s=o-1;for(t=(n?T(e,t,n):void 0===t)?1:m(U(t),0,o);++i<t;){var a=_(i,s),l=r[a];r[a]=r[i],r[i]=l}return r.length=t,r}function O(e){return A(e,$)}function N(e,t){return e===t||e!==e&&t!==t}function M(e){return k(e)&&Ge.call(e,"callee")&&(!Xe.call(e,"callee")||ze.call(e)==Q)}function P(e){return null!=e&&L(e.length)&&!R(e)}function k(e){return j(e)&&P(e)}function R(e){var t=D(e)?ze.call(e):"";return t==J||t==Z}function L(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Y}function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function j(e){return!!e&&"object"==typeof e}function B(e){return"string"==typeof e||!ut(e)&&j(e)&&ze.call(e)==re}function V(e){return"symbol"==typeof e||j(e)&&ze.call(e)==oe}function H(e){if(!e)return[];if(P(e))return B(e)?f(e):w(e);if(Ye&&e[Ye])return u(e[Ye]());var t=lt(e),n=t==ee?c:t==ie?h:q;return n(e)}function F(e){if(!e)return 0===e?e:0;if(e=G(e),e===W||e===-W){var t=e<0?-1:1;return t*X}return e===e?e:0}function U(e){var t=F(e),n=t%1;return t===t?n?t-n:t:0}function G(e){if("number"==typeof e)return e;if(V(e))return K;if(D(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=D(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ue,"");var n=de.test(e);return n||fe.test(e)?Re(e.slice(2),n?2:8):ce.test(e)?K:+e}function z(e){return P(e)?v(e):y(e)}function q(e){return e?o(e,z(e)):[]}var W=1/0,Y=9007199254740991,X=1.7976931348623157e308,K=NaN,$=4294967295,Q="[object Arguments]",J="[object Function]",Z="[object GeneratorFunction]",ee="[object Map]",te="[object Object]",ne="[object Promise]",ie="[object Set]",re="[object String]",oe="[object Symbol]",se="[object WeakMap]",ae="[object DataView]",le=/[\\^$.*+?()[\]{}|]/g,ue=/^\s+|\s+$/g,ce=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,fe=/^0o[0-7]+$/i,pe=/^(?:0|[1-9]\d*)$/,ve="\\ud800-\\udfff",me="\\u0300-\\u036f\\ufe20-\\ufe23",ge="\\u20d0-\\u20f0",be="\\ufe0e\\ufe0f",ye="["+ve+"]",_e="["+me+ge+"]",we="\\ud83c[\\udffb-\\udfff]",Ee="(?:"+_e+"|"+we+")",Ie="[^"+ve+"]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="\\u200d",xe=Ee+"?",Ae="["+be+"]?",Oe="(?:"+Ce+"(?:"+[Ie,Te,Se].join("|")+")"+Ae+xe+")*",Ne=Ae+xe+Oe,Me="(?:"+[Ie+_e+"?",_e,Te,Se,ye].join("|")+")",Pe=RegExp(we+"(?="+we+")|"+Me+Ne,"g"),ke=RegExp("["+Ce+ve+me+ge+be+"]"),Re=parseInt,Le="object"==typeof e&&e&&e.Object===Object&&e,De="object"==typeof self&&self&&self.Object===Object&&self,je=Le||De||Function("return this")(),Be=Function.prototype,Ve=Object.prototype,He=je["__core-js_shared__"],Fe=function(){var e=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Be.toString,Ge=Ve.hasOwnProperty,ze=Ve.toString,qe=RegExp("^"+Ue.call(Ge).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=je.Symbol,Ye=We?We.iterator:void 0,Xe=Ve.propertyIsEnumerable,Ke=Math.floor,$e=d(Object.keys,Object),Qe=Math.random,Je=E(je,"DataView"),Ze=E(je,"Map"),et=E(je,"Promise"),tt=E(je,"Set"),nt=E(je,"WeakMap"),it=x(Je),rt=x(Ze),ot=x(et),st=x(tt),at=x(nt),lt=g;
(Je&&lt(new Je(new ArrayBuffer(1)))!=ae||Ze&&lt(new Ze)!=ee||et&&lt(et.resolve())!=ne||tt&&lt(new tt)!=ie||nt&&lt(new nt)!=se)&&(lt=function(e){var t=ze.call(e),n=t==te?e.constructor:void 0,i=n?x(n):void 0;if(i)switch(i){case it:return ae;case rt:return ee;case ot:return ne;case st:return ie;case at:return se}return t});var ut=Array.isArray;t.exports=O}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(e,t,n){(function(e){function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,i=e?e.length:0,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function o(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function s(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function a(e){return function(t){return null==t?void 0:t[e]}}function l(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function u(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function c(e){return function(t){return e(t)}}function d(e,t){return null==e?void 0:e[t]}function h(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function f(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function p(e,t){return function(n){return e(t(n))}}function v(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function g(){this.__data__=vn?vn(null):{}}function b(e){return this.has(e)&&delete this.__data__[e]}function y(e){var t=this.__data__;if(vn){var n=t[e];return n===Qe?void 0:n}return Zt.call(t,e)?t[e]:void 0}function _(e){var t=this.__data__;return vn?void 0!==t[e]:Zt.call(t,e)}function w(e,t){var n=this.__data__;return n[e]=vn&&void 0===t?Qe:t,this}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function I(){this.__data__=[]}function T(e){var t=this.__data__,n=z(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():sn.call(t,n,1),!0}function S(e){var t=this.__data__,n=z(t,e);return n<0?void 0:t[n][1]}function C(e){return z(this.__data__,e)>-1}function x(e,t){var n=this.__data__,i=z(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function O(){this.__data__={hash:new m,map:new(dn||E),string:new m}}function N(e){return be(this,e)["delete"](e)}function M(e){return be(this,e).get(e)}function P(e){return be(this,e).has(e)}function k(e,t){return be(this,e).set(e,t),this}function R(e){var t=-1,n=e?e.length:0;for(this.__data__=new A;++t<n;)this.add(e[t])}function L(e){return this.__data__.set(e,Qe),this}function D(e){return this.__data__.has(e)}function j(e){this.__data__=new E(e)}function B(){this.__data__=new E}function V(e){return this.__data__["delete"](e)}function H(e){return this.__data__.get(e)}function F(e){return this.__data__.has(e)}function U(e,t){var n=this.__data__;if(n instanceof E){var i=n.__data__;if(!dn||i.length<Ke-1)return i.push([e,t]),this;n=this.__data__=new A(i)}return n.set(e,t),this}function G(e,t){var n=On(e)||Le(e)?u(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!Zt.call(e,o)||r&&("length"==o||Ie(o,i))||n.push(o);return n}function z(e,t){for(var n=e.length;n--;)if(Re(e[n][0],t))return n;return-1}function q(e,t,n,i,r){var s=-1,a=e.length;for(n||(n=Ee),r||(r=[]);++s<a;){var l=e[s];t>0&&n(l)?t>1?q(l,t-1,n,i,r):o(r,l):i||(r[r.length]=l)}return r}function W(e,t){return e&&Sn(e,t,We)}function Y(e,t){t=Se(t,e)?[t]:ce(t);for(var n=0,i=t.length;null!=e&&n<i;)e=e[Me(t[n++])];return n&&n==i?e:void 0}function X(e){return en.call(e)}function K(e,t){return null!=e&&t in Object(e)}function $(e,t,n,i,r){return e===t||(null==e||null==t||!He(e)&&!Fe(t)?e!==e&&t!==t:Q(e,t,$,n,i,r))}function Q(e,t,n,i,r,o){var s=On(e),a=On(t),l=it,u=it;s||(l=Cn(e),l=l==nt?dt:l),a||(u=Cn(t),u=u==nt?dt:u);var c=l==dt&&!h(e),d=u==dt&&!h(t),f=l==u;if(f&&!c)return o||(o=new j),s||Nn(e)?ve(e,t,n,i,r,o):me(e,t,l,n,i,r,o);if(!(r&Ze)){var p=c&&Zt.call(e,"__wrapped__"),v=d&&Zt.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new j),n(m,g,i,r,o)}}return!!f&&(o||(o=new j),ge(e,t,n,i,r,o))}function J(e,t,n,i){var r=n.length,o=r,s=!i;if(null==e)return!o;for(e=Object(e);r--;){var a=n[r];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){a=n[r];var l=a[0],u=e[l],c=a[1];if(s&&a[2]){if(void 0===u&&!(l in e))return!1}else{var d=new j;if(i)var h=i(u,c,l,e,t,d);if(!(void 0===h?$(c,u,i,Je|Ze,d):h))return!1}}return!0}function Z(e){if(!He(e)||xe(e))return!1;var t=Be(e)||h(e)?tn:Lt;return t.test(Pe(e))}function ee(e){return Fe(e)&&Ve(e.length)&&!!jt[en.call(e)]}function te(e){return"function"==typeof e?e:null==e?Ye:"object"==typeof e?On(e)?oe(e[0],e[1]):re(e):Xe(e)}function ne(e){if(!Ae(e))return ln(e);var t=[];for(var n in Object(e))Zt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ie(e,t){var n=-1,i=De(e)?Array(e.length):[];return Tn(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function re(e){var t=ye(e);return 1==t.length&&t[0][2]?Ne(t[0][0],t[0][1]):function(n){return n===e||J(n,e,t)}}function oe(e,t){return Se(e)&&Oe(t)?Ne(Me(e),t):function(n){var i=ze(n,e);return void 0===i&&i===t?qe(n,e):$(t,i,void 0,Je|Ze)}}function se(e,t,n){var i=-1;t=r(t.length?t:[Ye],c(te));var o=ie(e,function(e,n,o){var s=r(t,function(t){return t(e)});return{criteria:s,index:++i,value:e}});return l(o,function(e,t){return he(e,t,n)})}function ae(e){return function(t){return Y(t,e)}}function le(e,t){return t=un(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=un(n.length-t,0),s=Array(o);++r<o;)s[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=s,i(e,this,a)}}function ue(e){if("string"==typeof e)return e;if(Ue(e))return In?In.call(e):"";var t=e+"";return"0"==t&&1/e==-et?"-0":t}function ce(e){return On(e)?e:xn(e)}function de(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e===e,o=Ue(e),s=void 0!==t,a=null===t,l=t===t,u=Ue(t);if(!a&&!u&&!o&&e>t||o&&s&&l&&!a&&!u||i&&s&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&e<t||u&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!l)return-1}return 0}function he(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,s=r.length,a=n.length;++i<s;){var l=de(r[i],o[i]);if(l){if(i>=a)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}function fe(e,t){return function(n,i){if(null==n)return n;if(!De(n))return e(n,i);for(var r=n.length,o=t?r:-1,s=Object(n);(t?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function pe(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(n(o[l],l,o)===!1)break}return t}}function ve(e,t,n,i,r,o){var a=r&Ze,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var d=-1,h=!0,f=r&Je?new R:void 0;for(o.set(e,t),o.set(t,e);++d<l;){var p=e[d],v=t[d];if(i)var m=a?i(v,p,d,t,e,o):i(p,v,d,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!s(t,function(e,t){if(!f.has(t)&&(p===e||n(p,e,i,r,o)))return f.add(t)})){h=!1;break}}else if(p!==v&&!n(p,v,i,r,o)){h=!1;break}}return o["delete"](e),o["delete"](t),h}function me(e,t,n,i,r,o,s){switch(n){case yt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bt:return!(e.byteLength!=t.byteLength||!i(new rn(e),new rn(t)));case rt:case ot:case ct:return Re(+e,+t);case st:return e.name==t.name&&e.message==t.message;case ft:case vt:return e==t+"";case ut:var a=f;case pt:var l=o&Ze;if(a||(a=v),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;o|=Je,s.set(e,t);var c=ve(a(e),a(t),i,r,o,s);return s["delete"](e),c;case mt:if(En)return En.call(e)==En.call(t)}return!1}function ge(e,t,n,i,r,o){var s=r&Ze,a=We(e),l=a.length,u=We(t),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:Zt.call(t,h)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var p=!0;o.set(e,t),o.set(t,e);for(var v=s;++d<l;){h=a[d];var m=e[h],g=t[h];if(i)var b=s?i(g,m,h,t,e,o):i(m,g,h,e,t,o);if(!(void 0===b?m===g||n(m,g,i,r,o):b)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o["delete"](e),o["delete"](t),p}function be(e,t){var n=e.__data__;return Ce(t)?n["string"==typeof t?"string":"hash"]:n.map}function ye(e){for(var t=We(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Oe(r)]}return t}function _e(e,t){var n=d(e,t);return Z(n)?n:void 0}function we(e,t,n){t=Se(t,e)?[t]:ce(t);for(var i,r=-1,o=t.length;++r<o;){var s=Me(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}if(i)return i;var o=e?e.length:0;return!!o&&Ve(o)&&Ie(s,o)&&(On(e)||Le(e))}function Ee(e){return On(e)||Le(e)||!!(an&&e&&e[an])}function Ie(e,t){return t=null==t?tt:t,!!t&&("number"==typeof e||Dt.test(e))&&e>-1&&e%1==0&&e<t}function Te(e,t,n){if(!He(n))return!1;var i=typeof t;return!!("number"==i?De(n)&&Ie(t,n.length):"string"==i&&t in n)&&Re(n[t],e)}function Se(e,t){if(On(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ue(e))||(Nt.test(e)||!Ot.test(e)||null!=t&&e in Object(t))}function Ce(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function xe(e){return!!Qt&&Qt in e}function Ae(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Kt;return e===n}function Oe(e){return e===e&&!He(e)}function Ne(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Me(e){if("string"==typeof e||Ue(e))return e;var t=e+"";return"0"==t&&1/e==-et?"-0":t}function Pe(e){if(null!=e){try{return Jt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ke(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError($e);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(ke.Cache||A),n}function Re(e,t){return e===t||e!==e&&t!==t}function Le(e){return je(e)&&Zt.call(e,"callee")&&(!on.call(e,"callee")||en.call(e)==nt)}function De(e){return null!=e&&Ve(e.length)&&!Be(e)}function je(e){return Fe(e)&&De(e)}function Be(e){var t=He(e)?en.call(e):"";return t==at||t==lt}function Ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=tt}function He(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Fe(e){return!!e&&"object"==typeof e}function Ue(e){return"symbol"==typeof e||Fe(e)&&en.call(e)==mt}function Ge(e){return null==e?"":ue(e)}function ze(e,t,n){var i=null==e?void 0:Y(e,t);return void 0===i?n:i}function qe(e,t){return null!=e&&we(e,t,K)}function We(e){return De(e)?G(e):ne(e)}function Ye(e){return e}function Xe(e){return Se(e)?a(Me(e)):ae(e)}var Ke=200,$e="Expected a function",Qe="__lodash_hash_undefined__",Je=1,Ze=2,et=1/0,tt=9007199254740991,nt="[object Arguments]",it="[object Array]",rt="[object Boolean]",ot="[object Date]",st="[object Error]",at="[object Function]",lt="[object GeneratorFunction]",ut="[object Map]",ct="[object Number]",dt="[object Object]",ht="[object Promise]",ft="[object RegExp]",pt="[object Set]",vt="[object String]",mt="[object Symbol]",gt="[object WeakMap]",bt="[object ArrayBuffer]",yt="[object DataView]",_t="[object Float32Array]",wt="[object Float64Array]",Et="[object Int8Array]",It="[object Int16Array]",Tt="[object Int32Array]",St="[object Uint8Array]",Ct="[object Uint8ClampedArray]",xt="[object Uint16Array]",At="[object Uint32Array]",Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,Mt=/^\./,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,Rt=/\\(\\)?/g,Lt=/^\[object .+?Constructor\]$/,Dt=/^(?:0|[1-9]\d*)$/,jt={};jt[_t]=jt[wt]=jt[Et]=jt[It]=jt[Tt]=jt[St]=jt[Ct]=jt[xt]=jt[At]=!0,jt[nt]=jt[it]=jt[bt]=jt[rt]=jt[yt]=jt[ot]=jt[st]=jt[at]=jt[ut]=jt[ct]=jt[dt]=jt[ft]=jt[pt]=jt[vt]=jt[gt]=!1;var Bt="object"==typeof e&&e&&e.Object===Object&&e,Vt="object"==typeof self&&self&&self.Object===Object&&self,Ht=Bt||Vt||Function("return this")(),Ft="object"==typeof n&&n&&!n.nodeType&&n,Ut=Ft&&"object"==typeof t&&t&&!t.nodeType&&t,Gt=Ut&&Ut.exports===Ft,zt=Gt&&Bt.process,qt=function(){try{return zt&&zt.binding("util")}catch(e){}}(),Wt=qt&&qt.isTypedArray,Yt=Array.prototype,Xt=Function.prototype,Kt=Object.prototype,$t=Ht["__core-js_shared__"],Qt=function(){var e=/[^.]+$/.exec($t&&$t.keys&&$t.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Jt=Xt.toString,Zt=Kt.hasOwnProperty,en=Kt.toString,tn=RegExp("^"+Jt.call(Zt).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nn=Ht.Symbol,rn=Ht.Uint8Array,on=Kt.propertyIsEnumerable,sn=Yt.splice,an=nn?nn.isConcatSpreadable:void 0,ln=p(Object.keys,Object),un=Math.max,cn=_e(Ht,"DataView"),dn=_e(Ht,"Map"),hn=_e(Ht,"Promise"),fn=_e(Ht,"Set"),pn=_e(Ht,"WeakMap"),vn=_e(Object,"create"),mn=Pe(cn),gn=Pe(dn),bn=Pe(hn),yn=Pe(fn),_n=Pe(pn),wn=nn?nn.prototype:void 0,En=wn?wn.valueOf:void 0,In=wn?wn.toString:void 0;m.prototype.clear=g,m.prototype["delete"]=b,m.prototype.get=y,m.prototype.has=_,m.prototype.set=w,E.prototype.clear=I,E.prototype["delete"]=T,E.prototype.get=S,E.prototype.has=C,E.prototype.set=x,A.prototype.clear=O,A.prototype["delete"]=N,A.prototype.get=M,A.prototype.has=P,A.prototype.set=k,R.prototype.add=R.prototype.push=L,R.prototype.has=D,j.prototype.clear=B,j.prototype["delete"]=V,j.prototype.get=H,j.prototype.has=F,j.prototype.set=U;var Tn=fe(W),Sn=pe(),Cn=X;(cn&&Cn(new cn(new ArrayBuffer(1)))!=yt||dn&&Cn(new dn)!=ut||hn&&Cn(hn.resolve())!=ht||fn&&Cn(new fn)!=pt||pn&&Cn(new pn)!=gt)&&(Cn=function(e){var t=en.call(e),n=t==dt?e.constructor:void 0,i=n?Pe(n):void 0;if(i)switch(i){case mn:return yt;case gn:return ut;case bn:return ht;case yn:return pt;case _n:return gt}return t});var xn=ke(function(e){e=Ge(e);var t=[];return Mt.test(e)&&t.push(""),e.replace(Pt,function(e,n,i,r){t.push(i?r.replace(Rt,"$1"):n||e)}),t}),An=le(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Te(e,t[0],t[1])?t=[]:n>2&&Te(t[0],t[1],t[2])&&(t=[t[0]]),se(e,q(t,1),[])});ke.Cache=A;var On=Array.isArray,Nn=Wt?c(Wt):ee;t.exports=An}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],54:[function(e,t,n){(function(n){function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,i=e?e.length:0,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function o(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function s(e,t){return r(t,function(t){return e[t]})}function a(e){return"\\"+J[e]}function l(e,t){return function(n){return e(t(n))}}function u(e,t){var n=de(e)||I(e)?o(e.length,String):[],i=n.length,r=!!i;for(var s in e)!t&&!ie.call(e,s)||r&&("length"==s||b(s,i))||n.push(s);return n}function c(e,t,n,i){return void 0===e||E(e,ne[n])&&!ie.call(i,n)?t:e}function d(e,t,n){var i=e[t];ie.call(e,t)&&E(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function h(e){if(!_(e))return ae(e);var t=[];for(var n in Object(e))ie.call(e,n)&&"constructor"!=n&&t.push(n);return t}function f(e){if(!O(e))return w(e);var t=_(e),n=[];for(var i in e)("constructor"!=i||!t&&ie.call(e,i))&&n.push(i);return n}function p(e,t){return t=le(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=le(n.length-t,0),s=Array(o);++r<o;)s[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=s,i(e,this,a)}}function v(e){if("string"==typeof e)return e;if(M(e))return ce?ce.call(e):"";var t=e+"";return"0"==t&&1/e==-B?"-0":t}function m(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],a=i?i(n[s],e[s],s,n,e):void 0;d(n,s,void 0===a?e[s]:a)}return n}function g(e){return p(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&y(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t})}function b(e,t){return t=null==t?V:t,!!t&&("number"==typeof e||K.test(e))&&e>-1&&e%1==0&&e<t}function y(e,t,n){if(!O(n))return!1;var i=typeof t;return!!("number"==i?T(n)&&b(t,n.length):"string"==i&&t in n)&&E(n[t],e)}function _(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ne;return e===n}function w(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function E(e,t){return e===t||e!==e&&t!==t}function I(e){return S(e)&&ie.call(e,"callee")&&(!se.call(e,"callee")||re.call(e)==H)}function T(e){return null!=e&&A(e.length)&&!x(e)}function S(e){return N(e)&&T(e)}function C(e){return!!N(e)&&(re.call(e)==F||"string"==typeof e.message&&"string"==typeof e.name)}function x(e){var t=O(e)?re.call(e):"";return t==U||t==G}function A(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=V}function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function N(e){return!!e&&"object"==typeof e}function M(e){return"symbol"==typeof e||N(e)&&re.call(e)==z}function P(e){return null==e?"":v(e)}function k(e){return T(e)?u(e):h(e)}function R(e){return T(e)?u(e,!0):f(e)}function L(e,t,n){var i=j.imports._.templateSettings||j;n&&y(e,t,n)&&(t=void 0),e=P(e),t=he({},t,i,c);var r,o,l=he({},t.imports,i.imports,c),u=k(l),d=s(l,u),h=0,f=t.interpolate||$,p="__p += '",v=RegExp((t.escape||$).source+"|"+f.source+"|"+(f===D?X:$).source+"|"+(t.evaluate||$).source+"|$","g"),m="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(v,function(t,n,i,s,l,u){return i||(i=s),p+=e.slice(h,u).replace(Q,a),n&&(r=!0,p+="' +\n__e("+n+") +\n'"),l&&(o=!0,p+="';\n"+l+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=u+t.length,t}),p+="';\n";var g=t.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(q,""):p).replace(W,"$1").replace(Y,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var b=fe(function(){return Function(u,m+"return "+p).apply(void 0,d)});if(b.source=p,C(b))throw b;return b}var D=e("lodash._reinterpolate"),j=e("lodash.templatesettings"),B=1/0,V=9007199254740991,H="[object Arguments]",F="[object Error]",U="[object Function]",G="[object GeneratorFunction]",z="[object Symbol]",q=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,K=/^(?:0|[1-9]\d*)$/,$=/($^)/,Q=/['\n\r\u2028\u2029\\]/g,J={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Z="object"==typeof n&&n&&n.Object===Object&&n,ee="object"==typeof self&&self&&self.Object===Object&&self,te=Z||ee||Function("return this")(),ne=Object.prototype,ie=ne.hasOwnProperty,re=ne.toString,oe=te.Symbol,se=ne.propertyIsEnumerable,ae=l(Object.keys,Object),le=Math.max,ue=oe?oe.prototype:void 0,ce=ue?ue.toString:void 0,de=Array.isArray,he=g(function(e,t,n,i){m(t,R(t),e,i)}),fe=p(function(e,t){try{return i(e,void 0,t)}catch(n){return C(n)?n:new Error(n)}});t.exports=L}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._reinterpolate":38,"lodash.templatesettings":55}],55:[function(e,t,n){(function(n){function i(e){return function(t){return null==e?void 0:e[t]}}function r(e){if("string"==typeof e)return e;if(s(e))return S?S.call(e):"";var t=e+"";return"0"==t&&1/e==-c?"-0":t}function o(e){return!!e&&"object"==typeof e}function s(e){return"symbol"==typeof e||o(e)&&E.call(e)==d}function a(e){return null==e?"":r(e)}function l(e){return e=a(e),e&&f.test(e)?e.replace(h,_):e}var u=e("lodash._reinterpolate"),c=1/0,d="[object Symbol]",h=/[&<>"'`]/g,f=RegExp(h.source),p=/<%-([\s\S]+?)%>/g,v=/<%([\s\S]+?)%>/g,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},g="object"==typeof n&&n&&n.Object===Object&&n,b="object"==typeof self&&self&&self.Object===Object&&self,y=g||b||Function("return this")(),_=i(m),w=Object.prototype,E=w.toString,I=y.Symbol,T=I?I.prototype:void 0,S=T?T.toString:void 0,C={escape:p,evaluate:v,interpolate:u,variable:"",imports:{_:{escape:l}}};t.exports=C}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._reinterpolate":38}],56:[function(e,t,n){(function(e){function n(e,t,n){function i(t){var n=v,i=m;return v=m=void 0,T=t,b=e.apply(i,n)}function o(e){return T=e,y=setTimeout(c,t),S?i(e):b}function s(e){var n=e-_,i=e-T,r=t-n;return C?E(r,g-i):r}function u(e){var n=e-_,i=e-T;return void 0===_||n>=t||n<0||C&&i>=g}function c(){var e=I();return u(e)?d(e):void(y=setTimeout(c,s(e)))}function d(e){return y=void 0,x&&v?i(e):(v=m=void 0,b)}function h(){void 0!==y&&clearTimeout(y),T=0,v=_=m=y=void 0}function f(){return void 0===y?b:d(I())}function p(){var e=I(),n=u(e);if(v=arguments,m=this,_=e,n){if(void 0===y)return o(_);if(C)return y=setTimeout(c,t),i(_)}return void 0===y&&(y=setTimeout(c,t)),b}var v,m,g,b,y,_,T=0,S=!1,C=!1,x=!0;if("function"!=typeof e)throw new TypeError(l);return t=a(t)||0,r(n)&&(S=!!n.leading,C="maxWait"in n,g=C?w(a(n.maxWait)||0,t):g,x="trailing"in n?!!n.trailing:x),p.cancel=h,p.flush=f,p}function i(e,t,i){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(l);return r(i)&&(o="leading"in i?!!i.leading:o,s="trailing"in i?!!i.trailing:s),n(e,t,{leading:o,maxWait:t,trailing:s})}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==typeof e}function s(e){return"symbol"==typeof e||o(e)&&_.call(e)==c}function a(e){if("number"==typeof e)return e;if(s(e))return u;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=f.test(e);return n||p.test(e)?v(e.slice(2),n?2:8):h.test(e)?u:+e}var l="Expected a function",u=NaN,c="[object Symbol]",d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,b=m||g||Function("return this")(),y=Object.prototype,_=y.toString,w=Math.max,E=Math.min,I=function(){return b.Date.now()};t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],57:[function(e,t,n){(function(e){function n(e){if("string"==typeof e)return e;if(r(e))return g?g.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}function i(e){return!!e&&"object"==typeof e}function r(e){return"symbol"==typeof e||i(e)&&p.call(e)==l}function o(e){return null==e?"":n(e)}function s(e){var t=++f;return o(e)+t}var a=1/0,l="[object Symbol]",u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),h=Object.prototype,f=0,p=h.toString,v=d.Symbol,m=v?v.prototype:void 0,g=m?m.toString:void 0;t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"DataView");t.exports=o},{"./_getNative":171,"./_root":221}],59:[function(e,t,n){function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=e("./_hashClear"),o=e("./_hashDelete"),s=e("./_hashGet"),a=e("./_hashHas"),l=e("./_hashSet");i.prototype.clear=r,i.prototype["delete"]=o,i.prototype.get=s,i.prototype.has=a,i.prototype.set=l,t.exports=i},{"./_hashClear":179,"./_hashDelete":180,"./_hashGet":181,"./_hashHas":182,"./_hashSet":183}],60:[function(e,t,n){function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=s,this.__views__=[]}var r=e("./_baseCreate"),o=e("./_baseLodash"),s=4294967295;i.prototype=r(o.prototype),i.prototype.constructor=i,t.exports=i},{"./_baseCreate":88,"./_baseLodash":113}],61:[function(e,t,n){function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=e("./_listCacheClear"),o=e("./_listCacheDelete"),s=e("./_listCacheGet"),a=e("./_listCacheHas"),l=e("./_listCacheSet");i.prototype.clear=r,i.prototype["delete"]=o,i.prototype.get=s,i.prototype.has=a,i.prototype.set=l,t.exports=i},{"./_listCacheClear":198,"./_listCacheDelete":199,"./_listCacheGet":200,"./_listCacheHas":201,"./_listCacheSet":202}],62:[function(e,t,n){function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var r=e("./_baseCreate"),o=e("./_baseLodash");i.prototype=r(o.prototype),i.prototype.constructor=i,t.exports=i},{"./_baseCreate":88,"./_baseLodash":113}],63:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"Map");t.exports=o},{"./_getNative":171,"./_root":221}],64:[function(e,t,n){function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=e("./_mapCacheClear"),o=e("./_mapCacheDelete"),s=e("./_mapCacheGet"),a=e("./_mapCacheHas"),l=e("./_mapCacheSet");i.prototype.clear=r,i.prototype["delete"]=o,i.prototype.get=s,i.prototype.has=a,i.prototype.set=l,t.exports=i},{"./_mapCacheClear":203,"./_mapCacheDelete":204,"./_mapCacheGet":205,"./_mapCacheHas":206,"./_mapCacheSet":207}],65:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"Promise");t.exports=o},{"./_getNative":171,"./_root":221}],66:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"Set");t.exports=o},{"./_getNative":171,"./_root":221}],67:[function(e,t,n){function i(e){var t=-1,n=e?e.length:0;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=e("./_MapCache"),o=e("./_setCacheAdd"),s=e("./_setCacheHas");i.prototype.add=i.prototype.push=o,i.prototype.has=s,t.exports=i},{"./_MapCache":64,"./_setCacheAdd":222,"./_setCacheHas":223}],68:[function(e,t,n){function i(e){this.__data__=new r(e)}var r=e("./_ListCache"),o=e("./_stackClear"),s=e("./_stackDelete"),a=e("./_stackGet"),l=e("./_stackHas"),u=e("./_stackSet");i.prototype.clear=o,i.prototype["delete"]=s,i.prototype.get=a,i.prototype.has=l,i.prototype.set=u,t.exports=i},{"./_ListCache":61,"./_stackClear":227,"./_stackDelete":228,"./_stackGet":229,"./_stackHas":230,"./_stackSet":231}],69:[function(e,t,n){var i=e("./_root"),r=i.Symbol;t.exports=r},{"./_root":221}],70:[function(e,t,n){var i=e("./_root"),r=i.Uint8Array;t.exports=r},{"./_root":221}],71:[function(e,t,n){var i=e("./_getNative"),r=e("./_root"),o=i(r,"WeakMap");t.exports=o},{"./_getNative":171,"./_root":221}],72:[function(e,t,n){function i(e,t){return e.set(t[0],t[1]),e}t.exports=i},{}],73:[function(e,t,n){function i(e,t){return e.add(t),e}t.exports=i},{}],74:[function(e,t,n){function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}t.exports=i},{}],75:[function(e,t,n){function i(e,t){for(var n=-1,i=e?e.length:0;++n<i&&t(e[n],n,e)!==!1;);return e}t.exports=i},{}],76:[function(e,t,n){function i(e,t){var n=e?e.length:0;return!!n&&r(e,t,0)>-1}var r=e("./_baseIndexOf");t.exports=i},{"./_baseIndexOf":100}],77:[function(e,t,n){function i(e,t,n){for(var i=-1,r=e?e.length:0;++i<r;)if(n(t,e[i]))return!0;return!1}t.exports=i},{}],78:[function(e,t,n){function i(e,t){var n=s(e)||o(e)?r(e.length,String):[],i=n.length,l=!!i;for(var c in e)!t&&!u.call(e,c)||l&&("length"==c||a(c,i))||n.push(c);return n}var r=e("./_baseTimes"),o=e("./isArguments"),s=e("./isArray"),a=e("./_isIndex"),l=Object.prototype,u=l.hasOwnProperty;t.exports=i},{"./_baseTimes":124,"./_isIndex":190,"./isArguments":258,"./isArray":259}],79:[function(e,t,n){function i(e,t){for(var n=-1,i=e?e.length:0,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}t.exports=i},{}],80:[function(e,t,n){function i(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}t.exports=i},{}],81:[function(e,t,n){function i(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}t.exports=i},{}],82:[function(e,t,n){function i(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}t.exports=i},{}],83:[function(e,t,n){function i(e,t,n,i){return void 0===e||r(e,o[n])&&!s.call(i,n)?t:e}var r=e("./eq"),o=Object.prototype,s=o.hasOwnProperty;t.exports=i},{"./eq":245}],84:[function(e,t,n){function i(e,t,n){var i=e[t];s.call(e,t)&&r(i,n)&&(void 0!==n||t in e)||(e[t]=n)}var r=e("./eq"),o=Object.prototype,s=o.hasOwnProperty;t.exports=i},{"./eq":245}],85:[function(e,t,n){function i(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=e("./eq");t.exports=i},{"./eq":245}],86:[function(e,t,n){function i(e,t){return e&&r(t,o(t),e)}var r=e("./_copyObject"),o=e("./keys");t.exports=i},{"./_copyObject":142,"./keys":274}],87:[function(e,t,n){function i(e,t,n,E,I,T,S){var A;if(E&&(A=T?E(e,I,T,S):E(e)),void 0!==A)return A;if(!y(e))return e;var O=m(e);if(O){if(A=f(e),!t)return u(e,A)}else{var M=h(e),P=M==C||M==x;if(g(e))return l(e,t);if(M==N||M==w||P&&!T){if(b(e))return T?e:{};if(A=v(P?{}:e),!t)return c(e,a(A,e))}else{if(!Y[M])return T?e:{};A=p(e,M,i,t)}}S||(S=new r);var k=S.get(e);if(k)return k;if(S.set(e,A),!O)var R=n?d(e):_(e);return o(R||e,function(r,o){R&&(o=r,r=e[o]),s(A,o,i(r,t,n,E,o,e,S))}),A}var r=e("./_Stack"),o=e("./_arrayEach"),s=e("./_assignValue"),a=e("./_baseAssign"),l=e("./_cloneBuffer"),u=e("./_copyArray"),c=e("./_copySymbols"),d=e("./_getAllKeys"),h=e("./_getTag"),f=e("./_initCloneArray"),p=e("./_initCloneByTag"),v=e("./_initCloneObject"),m=e("./isArray"),g=e("./isBuffer"),b=e("./_isHostObject"),y=e("./isObject"),_=e("./keys"),w="[object Arguments]",E="[object Array]",I="[object Boolean]",T="[object Date]",S="[object Error]",C="[object Function]",x="[object GeneratorFunction]",A="[object Map]",O="[object Number]",N="[object Object]",M="[object RegExp]",P="[object Set]",k="[object String]",R="[object Symbol]",L="[object WeakMap]",D="[object ArrayBuffer]",j="[object DataView]",B="[object Float32Array]",V="[object Float64Array]",H="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",G="[object Uint8Array]",z="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",Y={};Y[w]=Y[E]=Y[D]=Y[j]=Y[I]=Y[T]=Y[B]=Y[V]=Y[H]=Y[F]=Y[U]=Y[A]=Y[O]=Y[N]=Y[M]=Y[P]=Y[k]=Y[R]=Y[G]=Y[z]=Y[q]=Y[W]=!0,Y[S]=Y[C]=Y[L]=!1,t.exports=i},{"./_Stack":68,"./_arrayEach":75,"./_assignValue":84,"./_baseAssign":86,"./_cloneBuffer":132,"./_copyArray":141,"./_copySymbols":143,"./_getAllKeys":164,"./_getTag":175,"./_initCloneArray":184,"./_initCloneByTag":185,"./_initCloneObject":186,"./_isHostObject":189,"./isArray":259,"./isBuffer":262,"./isObject":268,"./keys":274}],88:[function(e,t,n){function i(e){return r(e)?o(e):{}}var r=e("./isObject"),o=Object.create;t.exports=i},{"./isObject":268}],89:[function(e,t,n){function i(e,t,n,i){var d=-1,h=o,f=!0,p=e.length,v=[],m=t.length;if(!p)return v;n&&(t=a(t,l(n))),i?(h=s,f=!1):t.length>=c&&(h=u,f=!1,t=new r(t));e:for(;++d<p;){var g=e[d],b=n?n(g):g;if(g=i||0!==g?g:0,f&&b===b){for(var y=m;y--;)if(t[y]===b)continue e;v.push(g)}else h(t,b,i)||v.push(g)}return v}var r=e("./_SetCache"),o=e("./_arrayIncludes"),s=e("./_arrayIncludesWith"),a=e("./_arrayMap"),l=e("./_baseUnary"),u=e("./_cacheHas"),c=200;t.exports=i},{"./_SetCache":67,"./_arrayIncludes":76,"./_arrayIncludesWith":77,"./_arrayMap":79,"./_baseUnary":126,"./_cacheHas":129}],90:[function(e,t,n){var i=e("./_baseForOwn"),r=e("./_createBaseEach"),o=r(i);t.exports=o},{"./_baseForOwn":94,"./_createBaseEach":147}],91:[function(e,t,n){function i(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}t.exports=i},{}],92:[function(e,t,n){function i(e,t,n,s,a){var l=-1,u=e.length;for(n||(n=o),a||(a=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?i(c,t-1,n,s,a):r(a,c):s||(a[a.length]=c);
}return a}var r=e("./_arrayPush"),o=e("./_isFlattenable");t.exports=i},{"./_arrayPush":80,"./_isFlattenable":188}],93:[function(e,t,n){var i=e("./_createBaseFor"),r=i();t.exports=r},{"./_createBaseFor":148}],94:[function(e,t,n){function i(e,t){return e&&r(e,t,o)}var r=e("./_baseFor"),o=e("./keys");t.exports=i},{"./_baseFor":93,"./keys":274}],95:[function(e,t,n){function i(e,t){t=o(t,e)?[t]:r(t);for(var n=0,i=t.length;null!=e&&n<i;)e=e[s(t[n++])];return n&&n==i?e:void 0}var r=e("./_castPath"),o=e("./_isKey"),s=e("./_toKey");t.exports=i},{"./_castPath":130,"./_isKey":192,"./_toKey":233}],96:[function(e,t,n){function i(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}var r=e("./_arrayPush"),o=e("./isArray");t.exports=i},{"./_arrayPush":80,"./isArray":259}],97:[function(e,t,n){function i(e){return o.call(e)}var r=Object.prototype,o=r.toString;t.exports=i},{}],98:[function(e,t,n){function i(e,t){return null!=e&&o.call(e,t)}var r=Object.prototype,o=r.hasOwnProperty;t.exports=i},{}],99:[function(e,t,n){function i(e,t){return null!=e&&t in Object(e)}t.exports=i},{}],100:[function(e,t,n){function i(e,t,n){if(t!==t)return r(e,o,n);for(var i=n-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}var r=e("./_baseFindIndex"),o=e("./_baseIsNaN");t.exports=i},{"./_baseFindIndex":91,"./_baseIsNaN":106}],101:[function(e,t,n){function i(e,t,n){s(t,e)||(t=o(t),e=l(e,t),t=a(t));var i=null==e?e:e[u(t)];return null==i?void 0:r(i,e,n)}var r=e("./_apply"),o=e("./_castPath"),s=e("./_isKey"),a=e("./last"),l=e("./_parent"),u=e("./_toKey");t.exports=i},{"./_apply":74,"./_castPath":130,"./_isKey":192,"./_parent":217,"./_toKey":233,"./last":276}],102:[function(e,t,n){function i(e){return r(e)&&a.call(e)==o}var r=e("./isObjectLike"),o="[object Date]",s=Object.prototype,a=s.toString;t.exports=i},{"./isObjectLike":269}],103:[function(e,t,n){function i(e,t,n,a,l){return e===t||(null==e||null==t||!o(e)&&!s(t)?e!==e&&t!==t:r(e,t,i,n,a,l))}var r=e("./_baseIsEqualDeep"),o=e("./isObject"),s=e("./isObjectLike");t.exports=i},{"./_baseIsEqualDeep":104,"./isObject":268,"./isObjectLike":269}],104:[function(e,t,n){function i(e,t,n,i,m,b){var y=u(e),_=u(t),w=p,E=p;y||(w=l(e),w=w==f?v:w),_||(E=l(t),E=E==f?v:E);var I=w==v&&!c(e),T=E==v&&!c(t),S=w==E;if(S&&!I)return b||(b=new r),y||d(e)?o(e,t,n,i,m,b):s(e,t,w,n,i,m,b);if(!(m&h)){var C=I&&g.call(e,"__wrapped__"),x=T&&g.call(t,"__wrapped__");if(C||x){var A=C?e.value():e,O=x?t.value():t;return b||(b=new r),n(A,O,i,m,b)}}return!!S&&(b||(b=new r),a(e,t,n,i,m,b))}var r=e("./_Stack"),o=e("./_equalArrays"),s=e("./_equalByTag"),a=e("./_equalObjects"),l=e("./_getTag"),u=e("./isArray"),c=e("./_isHostObject"),d=e("./isTypedArray"),h=2,f="[object Arguments]",p="[object Array]",v="[object Object]",m=Object.prototype,g=m.hasOwnProperty;t.exports=i},{"./_Stack":68,"./_equalArrays":159,"./_equalByTag":160,"./_equalObjects":161,"./_getTag":175,"./_isHostObject":189,"./isArray":259,"./isTypedArray":273}],105:[function(e,t,n){function i(e,t,n,i){var l=n.length,u=l,c=!i;if(null==e)return!u;for(e=Object(e);l--;){var d=n[l];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<u;){d=n[l];var h=d[0],f=e[h],p=d[1];if(c&&d[2]){if(void 0===f&&!(h in e))return!1}else{var v=new r;if(i)var m=i(f,p,h,e,t,v);if(!(void 0===m?o(p,f,i,s|a,v):m))return!1}}return!0}var r=e("./_Stack"),o=e("./_baseIsEqual"),s=1,a=2;t.exports=i},{"./_Stack":68,"./_baseIsEqual":103}],106:[function(e,t,n){function i(e){return e!==e}t.exports=i},{}],107:[function(e,t,n){function i(e){if(!a(e)||s(e))return!1;var t=r(e)||o(e)?v:c;return t.test(l(e))}var r=e("./isFunction"),o=e("./_isHostObject"),s=e("./_isMasked"),a=e("./isObject"),l=e("./_toSource"),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,d=Function.prototype,h=Object.prototype,f=d.toString,p=h.hasOwnProperty,v=RegExp("^"+f.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{"./_isHostObject":189,"./_isMasked":195,"./_toSource":234,"./isFunction":266,"./isObject":268}],108:[function(e,t,n){function i(e){return r(e)&&a.call(e)==o}var r=e("./isObject"),o="[object RegExp]",s=Object.prototype,a=s.toString;t.exports=i},{"./isObject":268}],109:[function(e,t,n){function i(e){return o(e)&&r(e.length)&&!!N[P.call(e)]}var r=e("./isLength"),o=e("./isObjectLike"),s="[object Arguments]",a="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Function]",h="[object Map]",f="[object Number]",p="[object Object]",v="[object RegExp]",m="[object Set]",g="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",I="[object Int8Array]",T="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",x="[object Uint8ClampedArray]",A="[object Uint16Array]",O="[object Uint32Array]",N={};N[w]=N[E]=N[I]=N[T]=N[S]=N[C]=N[x]=N[A]=N[O]=!0,N[s]=N[a]=N[y]=N[l]=N[_]=N[u]=N[c]=N[d]=N[h]=N[f]=N[p]=N[v]=N[m]=N[g]=N[b]=!1;var M=Object.prototype,P=M.toString;t.exports=i},{"./isLength":267,"./isObjectLike":269}],110:[function(e,t,n){function i(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):l(e)}var r=e("./_baseMatches"),o=e("./_baseMatchesProperty"),s=e("./identity"),a=e("./isArray"),l=e("./property");t.exports=i},{"./_baseMatches":114,"./_baseMatchesProperty":115,"./identity":255,"./isArray":259,"./property":283}],111:[function(e,t,n){function i(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=e("./_isPrototype"),o=e("./_nativeKeys"),s=Object.prototype,a=s.hasOwnProperty;t.exports=i},{"./_isPrototype":196,"./_nativeKeys":213}],112:[function(e,t,n){function i(e){if(!r(e))return s(e);var t=o(e),n=[];for(var i in e)("constructor"!=i||!t&&l.call(e,i))&&n.push(i);return n}var r=e("./isObject"),o=e("./_isPrototype"),s=e("./_nativeKeysIn"),a=Object.prototype,l=a.hasOwnProperty;t.exports=i},{"./_isPrototype":196,"./_nativeKeysIn":214,"./isObject":268}],113:[function(e,t,n){function i(){}t.exports=i},{}],114:[function(e,t,n){function i(e){var t=o(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=e("./_baseIsMatch"),o=e("./_getMatchData"),s=e("./_matchesStrictComparable");t.exports=i},{"./_baseIsMatch":105,"./_getMatchData":170,"./_matchesStrictComparable":209}],115:[function(e,t,n){function i(e,t){return a(e)&&l(t)?u(c(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?s(n,e):r(t,i,void 0,d|h)}}var r=e("./_baseIsEqual"),o=e("./get"),s=e("./hasIn"),a=e("./_isKey"),l=e("./_isStrictComparable"),u=e("./_matchesStrictComparable"),c=e("./_toKey"),d=1,h=2;t.exports=i},{"./_baseIsEqual":103,"./_isKey":192,"./_isStrictComparable":197,"./_matchesStrictComparable":209,"./_toKey":233,"./get":252,"./hasIn":254}],116:[function(e,t,n){function i(e,t){return e=Object(e),r(e,t,function(t,n){return n in e})}var r=e("./_basePickBy");t.exports=i},{"./_basePickBy":117}],117:[function(e,t,n){function i(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],a=e[s];n(a,s)&&(o[s]=a)}return o}t.exports=i},{}],118:[function(e,t,n){function i(e){return function(t){return null==t?void 0:t[e]}}t.exports=i},{}],119:[function(e,t,n){function i(e){return function(t){return r(t,e)}}var r=e("./_baseGet");t.exports=i},{"./_baseGet":95}],120:[function(e,t,n){function i(e){return function(t){return null==e?void 0:e[t]}}t.exports=i},{}],121:[function(e,t,n){function i(e,t){return t=o(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=o(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=a,r(e,this,l)}}var r=e("./_apply"),o=Math.max;t.exports=i},{"./_apply":74}],122:[function(e,t,n){var i=e("./identity"),r=e("./_metaMap"),o=r?function(e,t){return r.set(e,t),e}:i;t.exports=o},{"./_metaMap":211,"./identity":255}],123:[function(e,t,n){function i(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}t.exports=i},{}],124:[function(e,t,n){function i(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}t.exports=i},{}],125:[function(e,t,n){function i(e){if("string"==typeof e)return e;if(o(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}var r=e("./_Symbol"),o=e("./isSymbol"),s=1/0,a=r?r.prototype:void 0,l=a?a.toString:void 0;t.exports=i},{"./_Symbol":69,"./isSymbol":272}],126:[function(e,t,n){function i(e){return function(t){return e(t)}}t.exports=i},{}],127:[function(e,t,n){function i(e,t,n){var i=-1,d=o,h=e.length,f=!0,p=[],v=p;if(n)f=!1,d=s;else if(h>=c){var m=t?null:l(e);if(m)return u(m);f=!1,d=a,v=new r}else v=t?[]:p;e:for(;++i<h;){var g=e[i],b=t?t(g):g;if(g=n||0!==g?g:0,f&&b===b){for(var y=v.length;y--;)if(v[y]===b)continue e;t&&v.push(b),p.push(g)}else d(v,b,n)||(v!==p&&v.push(b),p.push(g))}return p}var r=e("./_SetCache"),o=e("./_arrayIncludes"),s=e("./_arrayIncludesWith"),a=e("./_cacheHas"),l=e("./_createSet"),u=e("./_setToArray"),c=200;t.exports=i},{"./_SetCache":67,"./_arrayIncludes":76,"./_arrayIncludesWith":77,"./_cacheHas":129,"./_createSet":156,"./_setToArray":225}],128:[function(e,t,n){function i(e,t){return r(t,function(t){return e[t]})}var r=e("./_arrayMap");t.exports=i},{"./_arrayMap":79}],129:[function(e,t,n){function i(e,t){return e.has(t)}t.exports=i},{}],130:[function(e,t,n){function i(e){return r(e)?e:o(e)}var r=e("./isArray"),o=e("./_stringToPath");t.exports=i},{"./_stringToPath":232,"./isArray":259}],131:[function(e,t,n){function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}var r=e("./_Uint8Array");t.exports=i},{"./_Uint8Array":70}],132:[function(e,t,n){function i(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}t.exports=i},{}],133:[function(e,t,n){function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var r=e("./_cloneArrayBuffer");t.exports=i},{"./_cloneArrayBuffer":131}],134:[function(e,t,n){function i(e,t,n){var i=t?n(s(e),!0):s(e);return o(i,r,new e.constructor)}var r=e("./_addMapEntry"),o=e("./_arrayReduce"),s=e("./_mapToArray");t.exports=i},{"./_addMapEntry":72,"./_arrayReduce":81,"./_mapToArray":208}],135:[function(e,t,n){function i(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;t.exports=i},{}],136:[function(e,t,n){function i(e,t,n){var i=t?n(s(e),!0):s(e);return o(i,r,new e.constructor)}var r=e("./_addSetEntry"),o=e("./_arrayReduce"),s=e("./_setToArray");t.exports=i},{"./_addSetEntry":73,"./_arrayReduce":81,"./_setToArray":225}],137:[function(e,t,n){function i(e){return s?Object(s.call(e)):{}}var r=e("./_Symbol"),o=r?r.prototype:void 0,s=o?o.valueOf:void 0;t.exports=i},{"./_Symbol":69}],138:[function(e,t,n){function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var r=e("./_cloneArrayBuffer");t.exports=i},{"./_cloneArrayBuffer":131}],139:[function(e,t,n){function i(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,u=t.length,c=r(s-a,0),d=Array(u+c),h=!i;++l<u;)d[l]=t[l];for(;++o<a;)(h||o<s)&&(d[n[o]]=e[o]);for(;c--;)d[l++]=e[o++];return d}var r=Math.max;t.exports=i},{}],140:[function(e,t,n){function i(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,u=-1,c=t.length,d=r(s-l,0),h=Array(d+c),f=!i;++o<d;)h[o]=e[o];for(var p=o;++u<c;)h[p+u]=t[u];for(;++a<l;)(f||o<s)&&(h[p+n[a]]=e[o++]);return h}var r=Math.max;t.exports=i},{}],141:[function(e,t,n){function i(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}t.exports=i},{}],142:[function(e,t,n){function i(e,t,n,i){n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(n[a],e[a],a,n,e):void 0;r(n,a,void 0===l?e[a]:l)}return n}var r=e("./_assignValue");t.exports=i},{"./_assignValue":84}],143:[function(e,t,n){function i(e,t){return r(e,o(e),t)}var r=e("./_copyObject"),o=e("./_getSymbols");t.exports=i},{"./_copyObject":142,"./_getSymbols":173}],144:[function(e,t,n){var i=e("./_root"),r=i["__core-js_shared__"];t.exports=r},{"./_root":221}],145:[function(e,t,n){function i(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&i++;return i}t.exports=i},{}],146:[function(e,t,n){function i(e){return r(function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,a&&o(n[0],n[1],a)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var l=n[i];l&&e(t,l,i,s)}return t})}var r=e("./_baseRest"),o=e("./_isIterateeCall");t.exports=i},{"./_baseRest":121,"./_isIterateeCall":191}],147:[function(e,t,n){function i(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&i(a[s],s,a)!==!1;);return n}}var r=e("./isArrayLike");t.exports=i},{"./isArrayLike":260}],148:[function(e,t,n){function i(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(n(o[l],l,o)===!1)break}return t}}t.exports=i},{}],149:[function(e,t,n){function i(e,t,n){function i(){var t=this&&this!==o&&this instanceof i?l:e;return t.apply(a?n:this,arguments)}var a=t&s,l=r(e);return i}var r=e("./_createCtor"),o=e("./_root"),s=1;t.exports=i},{"./_createCtor":150,"./_root":221}],150:[function(e,t,n){function i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}var r=e("./_baseCreate"),o=e("./isObject");t.exports=i},{"./_baseCreate":88,"./isObject":268}],151:[function(e,t,n){function i(e,t,n){function i(){for(var o=arguments.length,h=Array(o),f=o,p=l(i);f--;)h[f]=arguments[f];var v=o<3&&h[0]!==p&&h[o-1]!==p?[]:u(h,p);if(o-=v.length,o<n)return a(e,t,s,i.placeholder,void 0,h,v,void 0,void 0,n-o);var m=this&&this!==c&&this instanceof i?d:e;return r(m,this,h)}var d=o(e);return i}var r=e("./_apply"),o=e("./_createCtor"),s=e("./_createHybrid"),a=e("./_createRecurry"),l=e("./_getHolder"),u=e("./_replaceHolders"),c=e("./_root");t.exports=i},{"./_apply":74,"./_createCtor":150,"./_createHybrid":153,"./_createRecurry":155,"./_getHolder":168,"./_replaceHolders":220,"./_root":221}],152:[function(e,t,n){function i(e){return function(t,n,i){var a=Object(t);if(!o(t)){var l=r(n,3);t=s(t),n=function(e){return l(a[e],e,a)}}var u=e(t,n,i);return u>-1?a[l?t[u]:u]:void 0}}var r=e("./_baseIteratee"),o=e("./isArrayLike"),s=e("./keys");t.exports=i},{"./_baseIteratee":110,"./isArrayLike":260,"./keys":274}],153:[function(e,t,n){function i(e,t,n,y,_,w,E,I,T,S){function C(){for(var f=arguments.length,p=Array(f),v=f;v--;)p[v]=arguments[v];if(N)var m=u(C),g=s(p,m);if(y&&(p=r(p,y,_,N)),w&&(p=o(p,w,E,N)),f-=g,N&&f<S){var b=d(p,m);return l(e,t,i,C.placeholder,n,p,b,I,T,S-f)}var k=A?n:this,R=O?k[e]:e;return f=p.length,I?p=c(p,I):M&&f>1&&p.reverse(),x&&T<f&&(p.length=T),this&&this!==h&&this instanceof C&&(R=P||a(R)),R.apply(k,p)}var x=t&g,A=t&f,O=t&p,N=t&(v|m),M=t&b,P=O?void 0:a(e);return C}var r=e("./_composeArgs"),o=e("./_composeArgsRight"),s=e("./_countHolders"),a=e("./_createCtor"),l=e("./_createRecurry"),u=e("./_getHolder"),c=e("./_reorder"),d=e("./_replaceHolders"),h=e("./_root"),f=1,p=2,v=8,m=16,g=128,b=512;t.exports=i},{"./_composeArgs":139,"./_composeArgsRight":140,"./_countHolders":145,"./_createCtor":150,"./_createRecurry":155,"./_getHolder":168,"./_reorder":219,"./_replaceHolders":220,"./_root":221}],154:[function(e,t,n){function i(e,t,n,i){function l(){for(var t=-1,o=arguments.length,a=-1,d=i.length,h=Array(d+o),f=this&&this!==s&&this instanceof l?c:e;++a<d;)h[a]=i[a];for(;o--;)h[a++]=arguments[++t];return r(f,u?n:this,h)}var u=t&a,c=o(e);return l}var r=e("./_apply"),o=e("./_createCtor"),s=e("./_root"),a=1;t.exports=i},{"./_apply":74,"./_createCtor":150,"./_root":221}],155:[function(e,t,n){function i(e,t,n,i,f,p,v,m,g,b){var y=t&c,_=y?v:void 0,w=y?void 0:v,E=y?p:void 0,I=y?void 0:p;t|=y?d:h,t&=~(y?h:d),t&u||(t&=~(a|l));var T=[e,t,f,E,_,I,w,m,g,b],S=n.apply(void 0,T);return r(e)&&o(S,T),S.placeholder=i,s(S,e,t)}var r=e("./_isLaziable"),o=e("./_setData"),s=e("./_setWrapToString"),a=1,l=2,u=4,c=8,d=32,h=64;t.exports=i},{"./_isLaziable":194,"./_setData":224,"./_setWrapToString":226}],156:[function(e,t,n){var i=e("./_Set"),r=e("./noop"),o=e("./_setToArray"),s=1/0,a=i&&1/o(new i([,-0]))[1]==s?function(e){return new i(e)}:r;t.exports=a},{"./_Set":66,"./_setToArray":225,"./noop":278}],157:[function(e,t,n){function i(e,t,n,i,E,I,T,S){var C=t&m;if(!C&&"function"!=typeof e)throw new TypeError(p);var x=i?i.length:0;if(x||(t&=~(y|_),i=E=void 0),T=void 0===T?T:w(f(T),0),S=void 0===S?S:f(S),x-=E?E.length:0,t&_){var A=i,O=E;i=E=void 0}var N=C?void 0:u(e),M=[e,t,n,i,E,A,O,I,T,S];if(N&&c(M,N),e=M[0],t=M[1],n=M[2],i=M[3],E=M[4],S=M[9]=null==M[9]?C?0:e.length:w(M[9]-x,0),!S&&t&(g|b)&&(t&=~(g|b)),t&&t!=v)P=t==g||t==b?s(e,t,S):t!=y&&t!=(v|y)||E.length?a.apply(void 0,M):l(e,t,n,i);else var P=o(e,t,n);var k=N?r:d;return h(k(P,M),e,t)}var r=e("./_baseSetData"),o=e("./_createBind"),s=e("./_createCurry"),a=e("./_createHybrid"),l=e("./_createPartial"),u=e("./_getData"),c=e("./_mergeData"),d=e("./_setData"),h=e("./_setWrapToString"),f=e("./toInteger"),p="Expected a function",v=1,m=2,g=8,b=16,y=32,_=64,w=Math.max;t.exports=i},{"./_baseSetData":122,"./_createBind":149,"./_createCurry":151,"./_createHybrid":153,"./_createPartial":154,"./_getData":166,"./_mergeData":210,"./_setData":224,"./_setWrapToString":226,"./toInteger":288}],158:[function(e,t,n){var i=e("./_getNative"),r=function(){var e=i(Object,"defineProperty"),t=i.name;return t&&t.length>2?e:void 0}();t.exports=r},{"./_getNative":171}],159:[function(e,t,n){function i(e,t,n,i,l,u){var c=l&a,d=e.length,h=t.length;if(d!=h&&!(c&&h>d))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var p=-1,v=!0,m=l&s?new r:void 0;for(u.set(e,t),u.set(t,e);++p<d;){var g=e[p],b=t[p];if(i)var y=c?i(b,g,p,t,e,u):i(g,b,p,e,t,u);if(void 0!==y){if(y)continue;v=!1;break}if(m){if(!o(t,function(e,t){if(!m.has(t)&&(g===e||n(g,e,i,l,u)))return m.add(t)})){v=!1;break}}else if(g!==b&&!n(g,b,i,l,u)){v=!1;break}}return u["delete"](e),u["delete"](t),v}var r=e("./_SetCache"),o=e("./_arraySome"),s=1,a=2;t.exports=i},{"./_SetCache":67,"./_arraySome":82}],160:[function(e,t,n){function i(e,t,n,i,r,I,S){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!i(new o(e),new o(t)));case h:case f:case m:return s(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case v:var C=l;case b:var x=I&d;if(C||(C=u),e.size!=t.size&&!x)return!1;var A=S.get(e);if(A)return A==t;I|=c,S.set(e,t);var O=a(C(e),C(t),i,r,I,S);return S["delete"](e),O;case _:if(T)return T.call(e)==T.call(t)}return!1}var r=e("./_Symbol"),o=e("./_Uint8Array"),s=e("./eq"),a=e("./_equalArrays"),l=e("./_mapToArray"),u=e("./_setToArray"),c=1,d=2,h="[object Boolean]",f="[object Date]",p="[object Error]",v="[object Map]",m="[object Number]",g="[object RegExp]",b="[object Set]",y="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",I=r?r.prototype:void 0,T=I?I.valueOf:void 0;t.exports=i},{"./_Symbol":69,"./_Uint8Array":70,"./_equalArrays":159,"./_mapToArray":208,"./_setToArray":225,"./eq":245}],161:[function(e,t,n){function i(e,t,n,i,s,l){var u=s&o,c=r(e),d=c.length,h=r(t),f=h.length;if(d!=f&&!u)return!1;for(var p=d;p--;){var v=c[p];if(!(u?v in t:a.call(t,v)))return!1}var m=l.get(e);if(m&&l.get(t))return m==t;var g=!0;l.set(e,t),l.set(t,e);for(var b=u;++p<d;){v=c[p];var y=e[v],_=t[v];if(i)var w=u?i(_,y,v,t,e,l):i(y,_,v,e,t,l);if(!(void 0===w?y===_||n(y,_,i,s,l):w)){g=!1;break}b||(b="constructor"==v)}if(g&&!b){var E=e.constructor,I=t.constructor;E!=I&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof I&&I instanceof I)&&(g=!1)}return l["delete"](e),l["delete"](t),g}var r=e("./keys"),o=2,s=Object.prototype,a=s.hasOwnProperty;t.exports=i},{"./keys":274}],162:[function(e,t,n){var i=e("./_basePropertyOf"),r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},o=i(r);t.exports=o},{"./_basePropertyOf":120}],163:[function(e,t,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],164:[function(e,t,n){function i(e){return r(e,s,o)}var r=e("./_baseGetAllKeys"),o=e("./_getSymbols"),s=e("./keys");t.exports=i},{"./_baseGetAllKeys":96,"./_getSymbols":173,"./keys":274}],165:[function(e,t,n){function i(e){return r(e,s,o)}var r=e("./_baseGetAllKeys"),o=e("./_getSymbolsIn"),s=e("./keysIn");t.exports=i},{"./_baseGetAllKeys":96,"./_getSymbolsIn":174,"./keysIn":275}],166:[function(e,t,n){var i=e("./_metaMap"),r=e("./noop"),o=i?function(e){return i.get(e)}:r;t.exports=o},{"./_metaMap":211,"./noop":278}],167:[function(e,t,n){function i(e){for(var t=e.name+"",n=r[t],i=s.call(r,t)?n.length:0;i--;){var o=n[i],a=o.func;if(null==a||a==e)return o.name}return t}var r=e("./_realNames"),o=Object.prototype,s=o.hasOwnProperty;t.exports=i},{"./_realNames":218}],168:[function(e,t,n){function i(e){var t=e;return t.placeholder}t.exports=i},{}],169:[function(e,t,n){function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=e("./_isKeyable");t.exports=i},{"./_isKeyable":193}],170:[function(e,t,n){function i(e){for(var t=o(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,r(s)]}return t}var r=e("./_isStrictComparable"),o=e("./keys");t.exports=i},{"./_isStrictComparable":197,"./keys":274}],171:[function(e,t,n){function i(e,t){var n=o(e,t);return r(n)?n:void 0}var r=e("./_baseIsNative"),o=e("./_getValue");t.exports=i},{"./_baseIsNative":107,"./_getValue":176}],172:[function(e,t,n){var i=e("./_overArg"),r=i(Object.getPrototypeOf,Object);t.exports=r},{"./_overArg":216}],173:[function(e,t,n){var i=e("./_overArg"),r=e("./stubArray"),o=Object.getOwnPropertySymbols,s=o?i(o,Object):r;t.exports=s},{"./_overArg":216,"./stubArray":285}],174:[function(e,t,n){var i=e("./_arrayPush"),r=e("./_getPrototype"),o=e("./_getSymbols"),s=e("./stubArray"),a=Object.getOwnPropertySymbols,l=a?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:s;t.exports=l},{"./_arrayPush":80,"./_getPrototype":172,"./_getSymbols":173,"./stubArray":285}],175:[function(e,t,n){var i=e("./_DataView"),r=e("./_Map"),o=e("./_Promise"),s=e("./_Set"),a=e("./_WeakMap"),l=e("./_baseGetTag"),u=e("./_toSource"),c="[object Map]",d="[object Object]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",v="[object DataView]",m=Object.prototype,g=m.toString,b=u(i),y=u(r),_=u(o),w=u(s),E=u(a),I=l;(i&&I(new i(new ArrayBuffer(1)))!=v||r&&I(new r)!=c||o&&I(o.resolve())!=h||s&&I(new s)!=f||a&&I(new a)!=p)&&(I=function(e){var t=g.call(e),n=t==d?e.constructor:void 0,i=n?u(n):void 0;if(i)switch(i){case b:return v;case y:return c;case _:return h;case w:return f;case E:return p}return t}),t.exports=I},{"./_DataView":58,"./_Map":63,"./_Promise":65,"./_Set":66,"./_WeakMap":71,"./_baseGetTag":97,"./_toSource":234}],176:[function(e,t,n){function i(e,t){return null==e?void 0:e[t]}t.exports=i},{}],177:[function(e,t,n){function i(e){var t=e.match(r);return t?t[1].split(o):[]}var r=/\{\n\/\* \[wrapped with (.+)\] \*/,o=/,? & /;t.exports=i},{}],178:[function(e,t,n){function i(e,t,n){t=l(t,e)?[t]:r(t);for(var i,d=-1,h=t.length;++d<h;){var f=c(t[d]);if(!(i=null!=e&&n(e,f)))break;e=e[f]}if(i)return i;var h=e?e.length:0;return!!h&&u(h)&&a(f,h)&&(s(e)||o(e))}var r=e("./_castPath"),o=e("./isArguments"),s=e("./isArray"),a=e("./_isIndex"),l=e("./_isKey"),u=e("./isLength"),c=e("./_toKey");t.exports=i},{"./_castPath":130,"./_isIndex":190,"./_isKey":192,"./_toKey":233,"./isArguments":258,"./isArray":259,"./isLength":267}],179:[function(e,t,n){function i(){this.__data__=r?r(null):{}}var r=e("./_nativeCreate");t.exports=i},{"./_nativeCreate":212}],180:[function(e,t,n){function i(e){return this.has(e)&&delete this.__data__[e]}t.exports=i},{}],181:[function(e,t,n){function i(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}var r=e("./_nativeCreate"),o="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;t.exports=i},{"./_nativeCreate":212}],182:[function(e,t,n){function i(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}var r=e("./_nativeCreate"),o=Object.prototype,s=o.hasOwnProperty;t.exports=i},{"./_nativeCreate":212}],183:[function(e,t,n){function i(e,t){var n=this.__data__;return n[e]=r&&void 0===t?o:t,this}var r=e("./_nativeCreate"),o="__lodash_hash_undefined__";t.exports=i},{"./_nativeCreate":212}],184:[function(e,t,n){function i(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,o=r.hasOwnProperty;t.exports=i},{}],185:[function(e,t,n){function i(e,t,n,i){var N=e.constructor;switch(t){case y:return r(e);case d:case h:return new N((+e));case _:return o(e,i);case w:case E:case I:case T:case S:case C:case x:case A:case O:return c(e,i);case f:return s(e,i,n);case p:case g:return new N(e);case v:return a(e);case m:return l(e,i,n);case b:return u(e)}}var r=e("./_cloneArrayBuffer"),o=e("./_cloneDataView"),s=e("./_cloneMap"),a=e("./_cloneRegExp"),l=e("./_cloneSet"),u=e("./_cloneSymbol"),c=e("./_cloneTypedArray"),d="[object Boolean]",h="[object Date]",f="[object Map]",p="[object Number]",v="[object RegExp]",m="[object Set]",g="[object String]",b="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",I="[object Int8Array]",T="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",x="[object Uint8ClampedArray]",A="[object Uint16Array]",O="[object Uint32Array]";t.exports=i},{"./_cloneArrayBuffer":131,"./_cloneDataView":133,"./_cloneMap":134,"./_cloneRegExp":135,"./_cloneSet":136,"./_cloneSymbol":137,"./_cloneTypedArray":138}],186:[function(e,t,n){function i(e){return"function"!=typeof e.constructor||s(e)?{}:r(o(e))}var r=e("./_baseCreate"),o=e("./_getPrototype"),s=e("./_isPrototype");t.exports=i},{"./_baseCreate":88,"./_getPrototype":172,"./_isPrototype":196}],187:[function(e,t,n){function i(e,t){var n=t.length,i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(r,"{\n/* [wrapped with "+t+"] */\n")}var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=i},{}],188:[function(e,t,n){function i(e){return s(e)||o(e)||!!(a&&e&&e[a])}var r=e("./_Symbol"),o=e("./isArguments"),s=e("./isArray"),a=r?r.isConcatSpreadable:void 0;t.exports=i},{"./_Symbol":69,"./isArguments":258,"./isArray":259}],189:[function(e,t,n){function i(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}t.exports=i},{}],190:[function(e,t,n){function i(e,t){return t=null==t?r:t,!!t&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=i},{}],191:[function(e,t,n){function i(e,t,n){if(!a(n))return!1;var i=typeof t;return!!("number"==i?o(n)&&s(t,n.length):"string"==i&&t in n)&&r(n[t],e)}var r=e("./eq"),o=e("./isArrayLike"),s=e("./_isIndex"),a=e("./isObject");t.exports=i},{"./_isIndex":190,"./eq":245,"./isArrayLike":260,"./isObject":268}],192:[function(e,t,n){function i(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!s.test(e)||null!=t&&e in Object(t))}var r=e("./isArray"),o=e("./isSymbol"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=i},{"./isArray":259,"./isSymbol":272}],193:[function(e,t,n){function i(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}t.exports=i},{}],194:[function(e,t,n){function i(e){var t=s(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var i=o(n);return!!i&&e===i[0]}var r=e("./_LazyWrapper"),o=e("./_getData"),s=e("./_getFuncName"),a=e("./wrapperLodash");t.exports=i},{"./_LazyWrapper":60,"./_getData":166,"./_getFuncName":167,"./wrapperLodash":294}],195:[function(e,t,n){function i(e){return!!o&&o in e}var r=e("./_coreJsData"),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();t.exports=i},{"./_coreJsData":144}],196:[function(e,t,n){function i(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}var r=Object.prototype;t.exports=i},{}],197:[function(e,t,n){function i(e){return e===e&&!r(e)}var r=e("./isObject");t.exports=i},{"./isObject":268}],198:[function(e,t,n){function i(){this.__data__=[]}t.exports=i},{}],199:[function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():s.call(t,n,1),!0}var r=e("./_assocIndexOf"),o=Array.prototype,s=o.splice;t.exports=i},{"./_assocIndexOf":85}],200:[function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=e("./_assocIndexOf");t.exports=i},{"./_assocIndexOf":85}],201:[function(e,t,n){function i(e){return r(this.__data__,e)>-1}var r=e("./_assocIndexOf");t.exports=i},{"./_assocIndexOf":85}],202:[function(e,t,n){function i(e,t){var n=this.__data__,i=r(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}var r=e("./_assocIndexOf");t.exports=i},{"./_assocIndexOf":85}],203:[function(e,t,n){function i(){this.__data__={hash:new r,map:new(s||o),string:new r}}var r=e("./_Hash"),o=e("./_ListCache"),s=e("./_Map");t.exports=i},{"./_Hash":59,"./_ListCache":61,"./_Map":63}],204:[function(e,t,n){function i(e){return r(this,e)["delete"](e)}var r=e("./_getMapData");t.exports=i},{"./_getMapData":169}],205:[function(e,t,n){function i(e){return r(this,e).get(e)}var r=e("./_getMapData");t.exports=i},{"./_getMapData":169}],206:[function(e,t,n){function i(e){return r(this,e).has(e)}var r=e("./_getMapData");t.exports=i},{"./_getMapData":169}],207:[function(e,t,n){function i(e,t){return r(this,e).set(e,t),this}var r=e("./_getMapData");t.exports=i},{"./_getMapData":169}],208:[function(e,t,n){function i(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}t.exports=i},{}],209:[function(e,t,n){function i(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}t.exports=i},{}],210:[function(e,t,n){function i(e,t){var n=e[1],i=t[1],v=n|i,m=v<(l|u|h),g=i==h&&n==d||i==h&&n==f&&e[7].length<=t[8]||i==(h|f)&&t[7].length<=t[8]&&n==d;if(!m&&!g)return e;i&l&&(e[2]=t[2],v|=n&l?0:c);var b=t[3];if(b){var y=e[3];e[3]=y?r(y,b,t[4]):b,e[4]=y?s(e[3],a):t[4]}return b=t[5],b&&(y=e[5],e[5]=y?o(y,b,t[6]):b,e[6]=y?s(e[5],a):t[6]),b=t[7],b&&(e[7]=b),i&h&&(e[8]=null==e[8]?t[8]:p(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=v,e}var r=e("./_composeArgs"),o=e("./_composeArgsRight"),s=e("./_replaceHolders"),a="__lodash_placeholder__",l=1,u=2,c=4,d=8,h=128,f=256,p=Math.min;t.exports=i},{"./_composeArgs":139,"./_composeArgsRight":140,"./_replaceHolders":220}],211:[function(e,t,n){var i=e("./_WeakMap"),r=i&&new i;t.exports=r},{"./_WeakMap":71}],212:[function(e,t,n){var i=e("./_getNative"),r=i(Object,"create");t.exports=r},{"./_getNative":171}],213:[function(e,t,n){var i=e("./_overArg"),r=i(Object.keys,Object);t.exports=r},{"./_overArg":216}],214:[function(e,t,n){function i(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}t.exports=i},{}],215:[function(e,t,n){var i=e("./_freeGlobal"),r="object"==typeof n&&n&&!n.nodeType&&n,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s&&i.process,l=function(){try{return a&&a.binding("util")}catch(e){}}();t.exports=l},{"./_freeGlobal":163}],216:[function(e,t,n){function i(e,t){return function(n){return e(t(n))}}t.exports=i},{}],217:[function(e,t,n){function i(e,t){return 1==t.length?e:r(e,o(t,0,-1))}var r=e("./_baseGet"),o=e("./_baseSlice");
t.exports=i},{"./_baseGet":95,"./_baseSlice":123}],218:[function(e,t,n){var i={};t.exports=i},{}],219:[function(e,t,n){function i(e,t){for(var n=e.length,i=s(t.length,n),a=r(e);i--;){var l=t[i];e[i]=o(l,n)?a[l]:void 0}return e}var r=e("./_copyArray"),o=e("./_isIndex"),s=Math.min;t.exports=i},{"./_copyArray":141,"./_isIndex":190}],220:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length,o=0,s=[];++n<i;){var a=e[n];a!==t&&a!==r||(e[n]=r,s[o++]=n)}return s}var r="__lodash_placeholder__";t.exports=i},{}],221:[function(e,t,n){var i=e("./_freeGlobal"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},{"./_freeGlobal":163}],222:[function(e,t,n){function i(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";t.exports=i},{}],223:[function(e,t,n){function i(e){return this.__data__.has(e)}t.exports=i},{}],224:[function(e,t,n){var i=e("./_baseSetData"),r=e("./now"),o=150,s=16,a=function(){var e=0,t=0;return function(n,a){var l=r(),u=s-(l-t);if(t=l,u>0){if(++e>=o)return n}else e=0;return i(n,a)}}();t.exports=a},{"./_baseSetData":122,"./now":279}],225:[function(e,t,n){function i(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}t.exports=i},{}],226:[function(e,t,n){var i=e("./constant"),r=e("./_defineProperty"),o=e("./_getWrapDetails"),s=e("./identity"),a=e("./_insertWrapDetails"),l=e("./_updateWrapDetails"),u=r?function(e,t,n){var s=t+"";return r(e,"toString",{configurable:!0,enumerable:!1,value:i(a(s,l(o(s),n)))})}:s;t.exports=u},{"./_defineProperty":158,"./_getWrapDetails":177,"./_insertWrapDetails":187,"./_updateWrapDetails":235,"./constant":242,"./identity":255}],227:[function(e,t,n){function i(){this.__data__=new r}var r=e("./_ListCache");t.exports=i},{"./_ListCache":61}],228:[function(e,t,n){function i(e){return this.__data__["delete"](e)}t.exports=i},{}],229:[function(e,t,n){function i(e){return this.__data__.get(e)}t.exports=i},{}],230:[function(e,t,n){function i(e){return this.__data__.has(e)}t.exports=i},{}],231:[function(e,t,n){function i(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<a-1)return i.push([e,t]),this;n=this.__data__=new s(i)}return n.set(e,t),this}var r=e("./_ListCache"),o=e("./_Map"),s=e("./_MapCache"),a=200;t.exports=i},{"./_ListCache":61,"./_Map":63,"./_MapCache":64}],232:[function(e,t,n){var i=e("./memoize"),r=e("./toString"),o=/^\./,s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,l=i(function(e){e=r(e);var t=[];return o.test(e)&&t.push(""),e.replace(s,function(e,n,i,r){t.push(i?r.replace(a,"$1"):n||e)}),t});t.exports=l},{"./memoize":277,"./toString":290}],233:[function(e,t,n){function i(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var r=e("./isSymbol"),o=1/0;t.exports=i},{"./isSymbol":272}],234:[function(e,t,n){function i(e){if(null!=e){try{return o.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var r=Function.prototype,o=r.toString;t.exports=i},{}],235:[function(e,t,n){function i(e,t){return r(v,function(n){var i="_."+n[0];t&n[1]&&!o(e,i)&&e.push(i)}),e.sort()}var r=e("./_arrayEach"),o=e("./_arrayIncludes"),s=1,a=2,l=8,u=16,c=32,d=64,h=128,f=256,p=512,v=[["ary",h],["bind",s],["bindKey",a],["curry",l],["curryRight",u],["flip",p],["partial",c],["partialRight",d],["rearg",f]];t.exports=i},{"./_arrayEach":75,"./_arrayIncludes":76}],236:[function(e,t,n){function i(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=s(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var r=e("./_LazyWrapper"),o=e("./_LodashWrapper"),s=e("./_copyArray");t.exports=i},{"./_LazyWrapper":60,"./_LodashWrapper":62,"./_copyArray":141}],237:[function(e,t,n){var i=e("./_assignValue"),r=e("./_copyObject"),o=e("./_createAssigner"),s=e("./isArrayLike"),a=e("./_isPrototype"),l=e("./keys"),u=Object.prototype,c=u.hasOwnProperty,d=u.propertyIsEnumerable,h=!d.call({valueOf:1},"valueOf"),f=o(function(e,t){if(h||a(t)||s(t))return void r(t,l(t),e);for(var n in t)c.call(t,n)&&i(e,n,t[n])});t.exports=f},{"./_assignValue":84,"./_copyObject":142,"./_createAssigner":146,"./_isPrototype":196,"./isArrayLike":260,"./keys":274}],238:[function(e,t,n){var i=e("./_copyObject"),r=e("./_createAssigner"),o=e("./keysIn"),s=r(function(e,t,n,r){i(t,o(t),e,r)});t.exports=s},{"./_copyObject":142,"./_createAssigner":146,"./keysIn":275}],239:[function(e,t,n){function i(e,t){var n;if("function"!=typeof t)throw new TypeError(o);return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var r=e("./toInteger"),o="Expected a function";t.exports=i},{"./toInteger":288}],240:[function(e,t,n){var i=e("./_baseRest"),r=e("./_createWrap"),o=e("./_getHolder"),s=e("./_replaceHolders"),a=1,l=32,u=i(function(e,t,n){var i=a;if(n.length){var c=s(n,o(u));i|=l}return r(e,i,t,n,c)});u.placeholder={},t.exports=u},{"./_baseRest":121,"./_createWrap":157,"./_getHolder":168,"./_replaceHolders":220}],241:[function(e,t,n){function i(e){return r(e,!1,!0)}var r=e("./_baseClone");t.exports=i},{"./_baseClone":87}],242:[function(e,t,n){function i(e){return function(){return e}}t.exports=i},{}],243:[function(e,t,n){var i=e("./_apply"),r=e("./_assignInDefaults"),o=e("./assignInWith"),s=e("./_baseRest"),a=s(function(e){return e.push(void 0,r),i(o,void 0,e)});t.exports=a},{"./_apply":74,"./_assignInDefaults":83,"./_baseRest":121,"./assignInWith":238}],244:[function(e,t,n){var i=e("./_baseDifference"),r=e("./_baseFlatten"),o=e("./_baseRest"),s=e("./isArrayLikeObject"),a=o(function(e,t){return s(e)?i(e,r(t,1,s,!0)):[]});t.exports=a},{"./_baseDifference":89,"./_baseFlatten":92,"./_baseRest":121,"./isArrayLikeObject":261}],245:[function(e,t,n){function i(e,t){return e===t||e!==e&&t!==t}t.exports=i},{}],246:[function(e,t,n){function i(e){return e=o(e),e&&a.test(e)?e.replace(s,r):e}var r=e("./_escapeHtmlChar"),o=e("./toString"),s=/[&<>"'`]/g,a=RegExp(s.source);t.exports=i},{"./_escapeHtmlChar":162,"./toString":290}],247:[function(e,t,n){var i=e("./_createFind"),r=e("./findIndex"),o=i(r);t.exports=o},{"./_createFind":152,"./findIndex":248}],248:[function(e,t,n){function i(e,t,n){var i=e?e.length:0;if(!i)return-1;var l=null==n?0:s(n);return l<0&&(l=a(i+l,0)),r(e,o(t,3),l)}var r=e("./_baseFindIndex"),o=e("./_baseIteratee"),s=e("./toInteger"),a=Math.max;t.exports=i},{"./_baseFindIndex":91,"./_baseIteratee":110,"./toInteger":288}],249:[function(e,t,n){function i(e){var t=e?e.length:0;return t?r(e,1):[]}var r=e("./_baseFlatten");t.exports=i},{"./_baseFlatten":92}],250:[function(e,t,n){function i(e,t){var n=a(e)?r:o;return n(e,s(t,3))}var r=e("./_arrayEach"),o=e("./_baseEach"),s=e("./_baseIteratee"),a=e("./isArray");t.exports=i},{"./_arrayEach":75,"./_baseEach":90,"./_baseIteratee":110,"./isArray":259}],251:[function(e,t,n){function i(e,t){return e&&r(e,o(t,3))}var r=e("./_baseForOwn"),o=e("./_baseIteratee");t.exports=i},{"./_baseForOwn":94,"./_baseIteratee":110}],252:[function(e,t,n){function i(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}var r=e("./_baseGet");t.exports=i},{"./_baseGet":95}],253:[function(e,t,n){function i(e,t){return null!=e&&o(e,t,r)}var r=e("./_baseHas"),o=e("./_hasPath");t.exports=i},{"./_baseHas":98,"./_hasPath":178}],254:[function(e,t,n){function i(e,t){return null!=e&&o(e,t,r)}var r=e("./_baseHasIn"),o=e("./_hasPath");t.exports=i},{"./_baseHasIn":99,"./_hasPath":178}],255:[function(e,t,n){function i(e){return e}t.exports=i},{}],256:[function(e,t,n){function i(e,t,n,i){e=o(e)?e:l(e),n=n&&!i?a(n):0;var c=e.length;return n<0&&(n=u(c+n,0)),s(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&r(e,t,n)>-1}var r=e("./_baseIndexOf"),o=e("./isArrayLike"),s=e("./isString"),a=e("./toInteger"),l=e("./values"),u=Math.max;t.exports=i},{"./_baseIndexOf":100,"./isArrayLike":260,"./isString":271,"./toInteger":288,"./values":293}],257:[function(e,t,n){var i=e("./_apply"),r=e("./_baseEach"),o=e("./_baseInvoke"),s=e("./_baseRest"),a=e("./isArrayLike"),l=e("./_isKey"),u=s(function(e,t,n){var s=-1,u="function"==typeof t,c=l(t),d=a(e)?Array(e.length):[];return r(e,function(e){var r=u?t:c&&null!=e?e[t]:void 0;d[++s]=r?i(r,e,n):o(e,t,n)}),d});t.exports=u},{"./_apply":74,"./_baseEach":90,"./_baseInvoke":101,"./_baseRest":121,"./_isKey":192,"./isArrayLike":260}],258:[function(e,t,n){function i(e){return r(e)&&a.call(e,"callee")&&(!u.call(e,"callee")||l.call(e)==o)}var r=e("./isArrayLikeObject"),o="[object Arguments]",s=Object.prototype,a=s.hasOwnProperty,l=s.toString,u=s.propertyIsEnumerable;t.exports=i},{"./isArrayLikeObject":261}],259:[function(e,t,n){var i=Array.isArray;t.exports=i},{}],260:[function(e,t,n){function i(e){return null!=e&&o(e.length)&&!r(e)}var r=e("./isFunction"),o=e("./isLength");t.exports=i},{"./isFunction":266,"./isLength":267}],261:[function(e,t,n){function i(e){return o(e)&&r(e)}var r=e("./isArrayLike"),o=e("./isObjectLike");t.exports=i},{"./isArrayLike":260,"./isObjectLike":269}],262:[function(e,t,n){var i=e("./_root"),r=e("./stubFalse"),o="object"==typeof n&&n&&!n.nodeType&&n,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?i.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||r;t.exports=c},{"./_root":221,"./stubFalse":286}],263:[function(e,t,n){var i=e("./_baseIsDate"),r=e("./_baseUnary"),o=e("./_nodeUtil"),s=o&&o.isDate,a=s?r(s):i;t.exports=a},{"./_baseIsDate":102,"./_baseUnary":126,"./_nodeUtil":215}],264:[function(e,t,n){function i(e){if(a(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||o(e)))return!e.length;var t=r(e);if(t==d||t==h)return!e.size;if(m||u(e))return!c(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}var r=e("./_getTag"),o=e("./isArguments"),s=e("./isArray"),a=e("./isArrayLike"),l=e("./isBuffer"),u=e("./_isPrototype"),c=e("./_nativeKeys"),d="[object Map]",h="[object Set]",f=Object.prototype,p=f.hasOwnProperty,v=f.propertyIsEnumerable,m=!v.call({valueOf:1},"valueOf");t.exports=i},{"./_getTag":175,"./_isPrototype":196,"./_nativeKeys":213,"./isArguments":258,"./isArray":259,"./isArrayLike":260,"./isBuffer":262}],265:[function(e,t,n){function i(e,t){return r(e,t)}var r=e("./_baseIsEqual");t.exports=i},{"./_baseIsEqual":103}],266:[function(e,t,n){function i(e){var t=r(e)?l.call(e):"";return t==o||t==s}var r=e("./isObject"),o="[object Function]",s="[object GeneratorFunction]",a=Object.prototype,l=a.toString;t.exports=i},{"./isObject":268}],267:[function(e,t,n){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;t.exports=i},{}],268:[function(e,t,n){function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=i},{}],269:[function(e,t,n){function i(e){return!!e&&"object"==typeof e}t.exports=i},{}],270:[function(e,t,n){var i=e("./_baseIsRegExp"),r=e("./_baseUnary"),o=e("./_nodeUtil"),s=o&&o.isRegExp,a=s?r(s):i;t.exports=a},{"./_baseIsRegExp":108,"./_baseUnary":126,"./_nodeUtil":215}],271:[function(e,t,n){function i(e){return"string"==typeof e||!r(e)&&o(e)&&l.call(e)==s}var r=e("./isArray"),o=e("./isObjectLike"),s="[object String]",a=Object.prototype,l=a.toString;t.exports=i},{"./isArray":259,"./isObjectLike":269}],272:[function(e,t,n){function i(e){return"symbol"==typeof e||r(e)&&a.call(e)==o}var r=e("./isObjectLike"),o="[object Symbol]",s=Object.prototype,a=s.toString;t.exports=i},{"./isObjectLike":269}],273:[function(e,t,n){var i=e("./_baseIsTypedArray"),r=e("./_baseUnary"),o=e("./_nodeUtil"),s=o&&o.isTypedArray,a=s?r(s):i;t.exports=a},{"./_baseIsTypedArray":109,"./_baseUnary":126,"./_nodeUtil":215}],274:[function(e,t,n){function i(e){return s(e)?r(e):o(e)}var r=e("./_arrayLikeKeys"),o=e("./_baseKeys"),s=e("./isArrayLike");t.exports=i},{"./_arrayLikeKeys":78,"./_baseKeys":111,"./isArrayLike":260}],275:[function(e,t,n){function i(e){return s(e)?r(e,!0):o(e)}var r=e("./_arrayLikeKeys"),o=e("./_baseKeysIn"),s=e("./isArrayLike");t.exports=i},{"./_arrayLikeKeys":78,"./_baseKeysIn":112,"./isArrayLike":260}],276:[function(e,t,n){function i(e){var t=e?e.length:0;return t?e[t-1]:void 0}t.exports=i},{}],277:[function(e,t,n){function i(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(i.Cache||r),n}var r=e("./_MapCache"),o="Expected a function";i.Cache=r,t.exports=i},{"./_MapCache":64}],278:[function(e,t,n){function i(){}t.exports=i},{}],279:[function(e,t,n){var i=e("./_root"),r=function(){return i.Date.now()};t.exports=r},{"./_root":221}],280:[function(e,t,n){var i=e("./_arrayMap"),r=e("./_baseDifference"),o=e("./_baseFlatten"),s=e("./_basePick"),a=e("./_baseRest"),l=e("./_getAllKeysIn"),u=e("./_toKey"),c=a(function(e,t){return null==e?{}:(t=i(o(t,1),u),s(e,r(l(e),t)))});t.exports=c},{"./_arrayMap":79,"./_baseDifference":89,"./_baseFlatten":92,"./_basePick":116,"./_baseRest":121,"./_getAllKeysIn":165,"./_toKey":233}],281:[function(e,t,n){function i(e){return r(2,e)}var r=e("./before");t.exports=i},{"./before":239}],282:[function(e,t,n){var i=e("./_arrayMap"),r=e("./_baseFlatten"),o=e("./_basePick"),s=e("./_baseRest"),a=e("./_toKey"),l=s(function(e,t){return null==e?{}:o(e,i(r(t,1),a))});t.exports=l},{"./_arrayMap":79,"./_baseFlatten":92,"./_basePick":116,"./_baseRest":121,"./_toKey":233}],283:[function(e,t,n){function i(e){return s(e)?r(a(e)):o(e)}var r=e("./_baseProperty"),o=e("./_basePropertyDeep"),s=e("./_isKey"),a=e("./_toKey");t.exports=i},{"./_baseProperty":118,"./_basePropertyDeep":119,"./_isKey":192,"./_toKey":233}],284:[function(e,t,n){function i(e,t,n){t=s(t,e)?[t]:r(t);var i=-1,l=t.length;for(l||(e=void 0,l=1);++i<l;){var u=null==e?void 0:e[a(t[i])];void 0===u&&(i=l,u=n),e=o(u)?u.call(e):u}return e}var r=e("./_castPath"),o=e("./isFunction"),s=e("./_isKey"),a=e("./_toKey");t.exports=i},{"./_castPath":130,"./_isKey":192,"./_toKey":233,"./isFunction":266}],285:[function(e,t,n){function i(){return[]}t.exports=i},{}],286:[function(e,t,n){function i(){return!1}t.exports=i},{}],287:[function(e,t,n){function i(e){if(!e)return 0===e?e:0;if(e=r(e),e===o||e===-o){var t=e<0?-1:1;return t*s}return e===e?e:0}var r=e("./toNumber"),o=1/0,s=1.7976931348623157e308;t.exports=i},{"./toNumber":289}],288:[function(e,t,n){function i(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=e("./toFinite");t.exports=i},{"./toFinite":287}],289:[function(e,t,n){function i(e){if("number"==typeof e)return e;if(o(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||c.test(e)?d(e.slice(2),n?2:8):l.test(e)?s:+e}var r=e("./isObject"),o=e("./isSymbol"),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;t.exports=i},{"./isObject":268,"./isSymbol":272}],290:[function(e,t,n){function i(e){return null==e?"":r(e)}var r=e("./_baseToString");t.exports=i},{"./_baseToString":125}],291:[function(e,t,n){var i=e("./_baseFlatten"),r=e("./_baseRest"),o=e("./_baseUniq"),s=e("./isArrayLikeObject"),a=r(function(e){return o(i(e,1,s,!0))});t.exports=a},{"./_baseFlatten":92,"./_baseRest":121,"./_baseUniq":127,"./isArrayLikeObject":261}],292:[function(e,t,n){function i(e){var t=++o;return r(e)+t}var r=e("./toString"),o=0;t.exports=i},{"./toString":290}],293:[function(e,t,n){function i(e){return e?r(e,o(e)):[]}var r=e("./_baseValues"),o=e("./keys");t.exports=i},{"./_baseValues":128,"./keys":274}],294:[function(e,t,n){function i(e){if(l(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(d.call(e,"__wrapped__"))return u(e)}return new o(e)}var r=e("./_LazyWrapper"),o=e("./_LodashWrapper"),s=e("./_baseLodash"),a=e("./isArray"),l=e("./isObjectLike"),u=e("./_wrapperClone"),c=Object.prototype,d=c.hasOwnProperty;i.prototype=s.prototype,i.prototype.constructor=i,t.exports=i},{"./_LazyWrapper":60,"./_LodashWrapper":62,"./_baseLodash":113,"./_wrapperClone":236,"./isArray":259,"./isObjectLike":269}],295:[function(e,t,n){"use strict";function i(e,t){if(o)return o.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1}var r=Element.prototype,o=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;t.exports=i},{}],296:[function(e,t,n){var i=function(){this.type=null,this._setSubtypeAndSuffix(null),this.parameters={}};i.prototype.isValid=function(){return null!==this.type&&null!==this.subtype&&"example"!==this.subtype},i.prototype._setSubtypeAndSuffix=function(e){if(this.subtype=e,this.subtypeFacets=[],this.suffix=null,e)if(e.indexOf("+")>-1&&"+"!==e.substr(-1)){var t=e.split("+",2);this.subtype=t[0],this.subtypeFacets=t[0].split("."),this.suffix=t[1]}else this.subtypeFacets=e.split(".")},i.prototype.hasSuffix=function(){return!!this.suffix},i.prototype._firstSubtypeFacetEquals=function(e){return this.subtypeFacets.length>0&&this.subtypeFacets[0]===e},i.prototype.isVendor=function(){return this._firstSubtypeFacetEquals("vnd")},i.prototype.isPersonal=function(){return this._firstSubtypeFacetEquals("prs")},i.prototype.isExperimental=function(){return this._firstSubtypeFacetEquals("x")||"x-"===this.subtype.substring(0,2).toLowerCase()},i.prototype.asString=function(){var e="";if(this.isValid()){e=e+this.type+"/"+this.subtype,this.hasSuffix()&&(e=e+"+"+this.suffix);var t=Object.keys(this.parameters);if(t.length>0){var n=[],i=this;t.sort(function(e,t){return e.localeCompare(t)}).forEach(function(e){n.push(e+"="+r(i.parameters[e]))}),e=e+";"+n.join(";")}}return e};var r=function(e){return e.indexOf(";")>-1?'"'+e+'"':e},o=function(e){return'"'===e.substr(0,1)&&'"'===e.substr(-1)?e.substr(1,e.length-2):e},s=/^(application|audio|image|message|model|multipart|text|video|\*)\/([a-zA-Z0-9!#$%^&\*_\-\+{}\|'.`~]{1,127})(;.*)?$/,a=/;(?=(?:[^\"]*\"[^\"]*\")*(?![^\"]*\"))/;n.fromString=function(e){var t=new i;if(e){var n=e.match(s);!n||"*"===n[1]&&"*"!==n[2]||(t.type=n[1],t._setSubtypeAndSuffix(n[2]),n[3]&&n[3].substr(1).split(a).forEach(function(e){var n=e.split("=",2);2===n.length&&(t.parameters[n[0].toLowerCase().trim()]=o(n[1].trim()))}))}return t}},{}],297:[function(e,t,n){(function(e){!function(e,n,i){n[e]=n[e]||i(),"undefined"!=typeof t&&t.exports?t.exports=n[e]:"function"==typeof define&&define.amd&&define(function(){return n[e]})}("Promise","undefined"!=typeof e?e:this,function(){"use strict";function e(e,t){h.add(e,t),d||(d=p(h.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function n(){for(var e=0;e<this.chain.length;e++)i(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function i(e,n,i){var r,o;try{n===!1?i.reject(e.msg):(r=n===!0?e.msg:n.call(void 0,e.msg),r===i.promise?i.reject(TypeError("Promise-chain cycle")):(o=t(r))?o.call(r,i.resolve,i.reject):i.resolve(r))}catch(s){i.reject(s)}}function r(i){var s,l=this;if(!l.triggered){l.triggered=!0,l.def&&(l=l.def);try{(s=t(i))?e(function(){var e=new a(l);try{s.call(i,function(){r.apply(e,arguments)},function(){o.apply(e,arguments)})}catch(t){o.call(e,t)}}):(l.msg=i,l.state=1,l.chain.length>0&&e(n,l))}catch(u){o.call(new a(l),u)}}}function o(t){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=t,i.state=2,i.chain.length>0&&e(n,i))}function s(e,t,n,i){for(var r=0;r<t.length;r++)!function(r){e.resolve(t[r]).then(function(e){n(r,e)},i)}(r)}function a(e){this.def=e,this.triggered=!1}function l(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var i=new l(this);this.then=function(t,r){var o={success:"function"!=typeof t||t,failure:"function"==typeof r&&r};return o.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");o.resolve=e,o.reject=t}),i.chain.push(o),0!==i.state&&e(n,i),o.promise},this["catch"]=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){r.call(i,e)},function(e){o.call(i,e)})}catch(s){o.call(i,s)}}var c,d,h,f=Object.prototype.toString,p="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),c=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:i!==!1})}}catch(v){c=function(e,t,n){return e[t]=n,e}}h=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,i;return{add:function(r,o){i=new e(r,o),n?n.next=i:t=i,n=i,i=void 0},drain:function(){var e=t;for(t=n=d=void 0;e;)e.fn.call(e.self),e=e.next}}}();var m=c({},"constructor",u,!1);return u.prototype=m,c(m,"__NPO__",0,!1),c(u,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),c(u,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),c(u,"all",function(e){var t=this;return"[object Array]"!=f.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var r=e.length,o=Array(r),a=0;s(t,e,function(e,t){o[e]=t,++a===r&&n(o)},i)})}),c(u,"race",function(e){var t=this;return"[object Array]"!=f.call(e)?t.reject(TypeError("Not an array")):new t(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");s(t,e,function(e,t){n(t)},i)})}),u})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],298:[function(e,t,n){var i=e("trim"),r=e("for-each"),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return r(i(e).split("\n"),function(e){var n=e.indexOf(":"),r=i(e.slice(0,n)).toLowerCase(),s=i(e.slice(n+1));"undefined"==typeof t[r]?t[r]=s:o(t[r])?t[r].push(s):t[r]=[t[r],s]}),t}},{"for-each":32,trim:326}],299:[function(e,t,n){"use strict";t.exports=e("./src/js/main")},{"./src/js/main":305}],300:[function(e,t,n){"use strict";function i(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}function r(e,t){var n=e.className.split(" "),i=n.indexOf(t);i>=0&&n.splice(i,1),e.className=n.join(" ")}n.add=function(e,t){e.classList?e.classList.add(t):i(e,t)},n.remove=function(e,t){e.classList?e.classList.remove(t):r(e,t)},n.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],301:[function(e,t,n){"use strict";function i(e,t){return window.getComputedStyle(e)[t]}function r(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function o(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i=i.toString()+"px"),e.style[n]=i}return e}var s={};s.e=function(e,t){var n=document.createElement(e);return n.className=t,n},s.appendTo=function(e,t){return t.appendChild(e),e},s.css=function(e,t,n){return"object"==typeof t?o(e,t):"undefined"==typeof n?i(e,t):r(e,t,n)},s.matches=function(e,t){return"undefined"!=typeof e.matches?e.matches(t):"undefined"!=typeof e.matchesSelector?e.matchesSelector(t):"undefined"!=typeof e.webkitMatchesSelector?e.webkitMatchesSelector(t):"undefined"!=typeof e.mozMatchesSelector?e.mozMatchesSelector(t):"undefined"!=typeof e.msMatchesSelector?e.msMatchesSelector(t):void 0},s.remove=function(e){"undefined"!=typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},s.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return s.matches(e,t)})},t.exports=s},{}],302:[function(e,t,n){"use strict";var i=function(e){this.element=e,this.events={}};i.prototype.bind=function(e,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},i.prototype.unbind=function(e,t){var n="undefined"!=typeof t;this.events[e]=this.events[e].filter(function(i){return!(!n||i===t)||(this.element.removeEventListener(e,i,!1),!1)},this)},i.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var r=function(){this.eventElements=[]};r.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return"undefined"==typeof t&&(t=new i(e),this.eventElements.push(t)),t},r.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},r.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},r.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},r.prototype.once=function(e,t,n){var i=this.eventElement(e),r=function(e){i.unbind(t,r),n(e)};i.bind(t,r)},t.exports=r},{}],303:[function(e,t,n){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],304:[function(e,t,n){"use strict";var i=e("./class"),r=e("./dom"),o=n.toInt=function(e){return parseInt(e,10)||0},s=n.clone=function(e){if(e){if(e.constructor===Array)return e.map(s);if("object"==typeof e){var t={};for(var n in e)t[n]=s(e[n]);return t}return e}return null};n.extend=function(e,t){var n=s(e);for(var i in t)n[i]=s(t[i]);return n},n.isEditable=function(e){return r.matches(e,"input,[contenteditable]")||r.matches(e,"select,[contenteditable]")||r.matches(e,"textarea,[contenteditable]")||r.matches(e,"button,[contenteditable]")},n.removePsClasses=function(e){for(var t=i.list(e),n=0;n<t.length;n++){var r=t[n];0===r.indexOf("ps-")&&i.remove(e,r)}},n.outerWidth=function(e){return o(r.css(e,"width"))+o(r.css(e,"paddingLeft"))+o(r.css(e,"paddingRight"))+o(r.css(e,"borderLeftWidth"))+o(r.css(e,"borderRightWidth"))},n.startScrolling=function(e,t){i.add(e,"ps-in-scrolling"),"undefined"!=typeof t?i.add(e,"ps-"+t):(i.add(e,"ps-x"),i.add(e,"ps-y"))},n.stopScrolling=function(e,t){i.remove(e,"ps-in-scrolling"),"undefined"!=typeof t?i.remove(e,"ps-"+t):(i.remove(e,"ps-x"),i.remove(e,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":300,"./dom":301}],305:[function(e,t,n){"use strict";var i=e("./plugin/destroy"),r=e("./plugin/initialize"),o=e("./plugin/update");t.exports={initialize:r,update:o,destroy:i}},{"./plugin/destroy":307,"./plugin/initialize":315,"./plugin/update":319}],306:[function(e,t,n){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],307:[function(e,t,n){"use strict";var i=e("../lib/helper"),r=e("../lib/dom"),o=e("./instances");t.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),r.remove(t.scrollbarX),r.remove(t.scrollbarY),r.remove(t.scrollbarXRail),r.remove(t.scrollbarYRail),i.removePsClasses(e),o.remove(e))}},{"../lib/dom":301,"../lib/helper":304,"./instances":316}],308:[function(e,t,n){"use strict";function i(e,t){function n(e){return e.getBoundingClientRect()}var i=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",i),t.event.bind(t.scrollbarYRail,"click",function(i){var r=i.pageY-window.pageYOffset-n(t.scrollbarYRail).top,a=r>t.scrollbarYTop?1:-1;s(e,"top",e.scrollTop+a*t.containerHeight),o(e),i.stopPropagation()}),t.event.bind(t.scrollbarX,"click",i),t.event.bind(t.scrollbarXRail,"click",function(i){var r=i.pageX-window.pageXOffset-n(t.scrollbarXRail).left,a=r>t.scrollbarXLeft?1:-1;s(e,"left",e.scrollLeft+a*t.containerWidth),o(e),i.stopPropagation()})}var r=e("../instances"),o=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){var t=r.get(e);i(e,t)}},{"../instances":316,"../update-geometry":317,"../update-scroll":318}],309:[function(e,t,n){"use strict";function i(e,t){function n(n){var r=i+n*t.railXRatio,s=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);r<0?t.scrollbarXLeft=0:r>s?t.scrollbarXLeft=s:t.scrollbarXLeft=r;var a=o.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;u(e,"left",a)}var i=null,r=null,a=function(t){n(t.pageX-r),l(e),t.stopPropagation(),t.preventDefault()},c=function(){o.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarX,"mousedown",function(n){r=n.pageX,i=o.toInt(s.css(t.scrollbarX,"left"))*t.railXRatio,o.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",c),n.stopPropagation(),n.preventDefault()})}function r(e,t){function n(n){var r=i+n*t.railYRatio,s=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);r<0?t.scrollbarYTop=0:r>s?t.scrollbarYTop=s:t.scrollbarYTop=r;var a=o.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));u(e,"top",a)}var i=null,r=null,a=function(t){n(t.pageY-r),l(e),t.stopPropagation(),t.preventDefault()},c=function(){o.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarY,"mousedown",function(n){r=n.pageY,i=o.toInt(s.css(t.scrollbarY,"top"))*t.railYRatio,o.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",c),n.stopPropagation(),n.preventDefault()})}var o=e("../../lib/helper"),s=e("../../lib/dom"),a=e("../instances"),l=e("../update-geometry"),u=e("../update-scroll");t.exports=function(e){var t=a.get(e);i(e,t),r(e,t)}},{"../../lib/dom":301,"../../lib/helper":304,"../instances":316,"../update-geometry":317,"../update-scroll":318}],310:[function(e,t,n){"use strict";function i(e,t){function n(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}var i=!1;t.event.bind(e,"mouseenter",function(){i=!0}),t.event.bind(e,"mouseleave",function(){i=!1});var s=!1;t.event.bind(t.ownerDocument,"keydown",function(u){if(!(u.isDefaultPrevented&&u.isDefaultPrevented()||u.defaultPrevented)){var c=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(i||c){var d=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(d){if("IFRAME"===d.tagName)d=d.contentDocument.activeElement;else for(;d.shadowRoot;)d=d.shadowRoot.activeElement;if(r.isEditable(d))return}var h=0,f=0;switch(u.which){case 37:h=u.metaKey?-t.contentWidth:u.altKey?-t.containerWidth:-30;break;case 38:f=u.metaKey?t.contentHeight:u.altKey?t.containerHeight:30;break;case 39:h=u.metaKey?t.contentWidth:u.altKey?t.containerWidth:30;break;case 40:f=u.metaKey?-t.contentHeight:u.altKey?-t.containerHeight:-30;break;case 33:f=90;break;case 32:f=u.shiftKey?90:-90;break;case 34:f=-90;break;case 35:f=u.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:f=u.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-f),l(e,"left",e.scrollLeft+h),a(e),s=n(h,f),s&&u.preventDefault()}}})}var r=e("../../lib/helper"),o=e("../../lib/dom"),s=e("../instances"),a=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){var t=s.get(e);i(e,t)}},{"../../lib/dom":301,"../../lib/helper":304,"../instances":316,"../update-geometry":317,"../update-scroll":318}],311:[function(e,t,n){"use strict";function i(e,t){
function n(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function i(e){var t=e.deltaX,n=-1*e.deltaY;return"undefined"!=typeof t&&"undefined"!=typeof n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}function r(t,n){var i=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(i){if(!window.getComputedStyle(i).overflow.match(/(scroll|auto)/))return!1;var r=i.scrollHeight-i.clientHeight;if(r>0&&!(0===i.scrollTop&&n>0||i.scrollTop===r&&n<0))return!0;var o=i.scrollLeft-i.clientWidth;if(o>0&&!(0===i.scrollLeft&&t<0||i.scrollLeft===o&&t>0))return!0}return!1}function a(a){var u=i(a),c=u[0],d=u[1];r(c,d)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(d?s(e,"top",e.scrollTop-d*t.settings.wheelSpeed):s(e,"top",e.scrollTop+c*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(c?s(e,"left",e.scrollLeft+c*t.settings.wheelSpeed):s(e,"left",e.scrollLeft-d*t.settings.wheelSpeed),l=!0):(s(e,"top",e.scrollTop-d*t.settings.wheelSpeed),s(e,"left",e.scrollLeft+c*t.settings.wheelSpeed)),o(e),l=l||n(c,d),l&&(a.stopPropagation(),a.preventDefault()))}var l=!1;"undefined"!=typeof window.onwheel?t.event.bind(e,"wheel",a):"undefined"!=typeof window.onmousewheel&&t.event.bind(e,"mousewheel",a)}var r=e("../instances"),o=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){var t=r.get(e);i(e,t)}},{"../instances":316,"../update-geometry":317,"../update-scroll":318}],312:[function(e,t,n){"use strict";function i(e,t){t.event.bind(e,"scroll",function(){o(e)})}var r=e("../instances"),o=e("../update-geometry");t.exports=function(e){var t=r.get(e);i(e,t)}},{"../instances":316,"../update-geometry":317}],313:[function(e,t,n){"use strict";function i(e,t){function n(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function i(){u||(u=setInterval(function(){return o.get(e)?(a(e,"top",e.scrollTop+c.top),a(e,"left",e.scrollLeft+c.left),void s(e)):void clearInterval(u)},50))}function l(){u&&(clearInterval(u),u=null),r.stopScrolling(e)}var u=null,c={top:0,left:0},d=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(n())?d=!0:(d=!1,l())}),t.event.bind(window,"mouseup",function(){d&&(d=!1,l())}),t.event.bind(window,"keyup",function(){d&&(d=!1,l())}),t.event.bind(window,"mousemove",function(t){if(d){var n={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};n.x<o.left+3?(c.left=-5,r.startScrolling(e,"x")):n.x>o.right-3?(c.left=5,r.startScrolling(e,"x")):c.left=0,n.y<o.top+3?(o.top+3-n.y<5?c.top=-5:c.top=-20,r.startScrolling(e,"y")):n.y>o.bottom-3?(n.y-o.bottom+3<5?c.top=5:c.top=20,r.startScrolling(e,"y")):c.top=0,0===c.top&&0===c.left?l():i()}})}var r=e("../../lib/helper"),o=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){var t=o.get(e);i(e,t)}},{"../../lib/helper":304,"../instances":316,"../update-geometry":317,"../update-scroll":318}],314:[function(e,t,n){"use strict";function i(e,t,n,i){function r(n,i){var r=e.scrollTop,o=e.scrollLeft,s=Math.abs(n),a=Math.abs(i);if(a>s){if(i<0&&r===t.contentHeight-t.containerHeight||i>0&&0===r)return!t.settings.swipePropagation}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!t.settings.swipePropagation;return!0}function l(t,n){a(e,"top",e.scrollTop-n),a(e,"left",e.scrollLeft-t),s(e)}function u(){_=!0}function c(){_=!1}function d(e){return e.targetTouches?e.targetTouches[0]:e}function h(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function f(e){if(h(e)){w=!0;var t=d(e);m.pageX=t.pageX,m.pageY=t.pageY,g=(new Date).getTime(),null!==y&&clearInterval(y),e.stopPropagation()}}function p(e){if(!w&&t.settings.swipePropagation&&f(e),!_&&w&&h(e)){var n=d(e),i={pageX:n.pageX,pageY:n.pageY},o=i.pageX-m.pageX,s=i.pageY-m.pageY;l(o,s),m=i;var a=(new Date).getTime(),u=a-g;u>0&&(b.x=o/u,b.y=s/u,g=a),r(o,s)&&(e.stopPropagation(),e.preventDefault())}}function v(){!_&&w&&(w=!1,clearInterval(y),y=setInterval(function(){return o.get(e)&&(b.x||b.y)?Math.abs(b.x)<.01&&Math.abs(b.y)<.01?void clearInterval(y):(l(30*b.x,30*b.y),b.x*=.8,void(b.y*=.8)):void clearInterval(y)},10))}var m={},g=0,b={},y=null,_=!1,w=!1;n?(t.event.bind(window,"touchstart",u),t.event.bind(window,"touchend",c),t.event.bind(e,"touchstart",f),t.event.bind(e,"touchmove",p),t.event.bind(e,"touchend",v)):i&&(window.PointerEvent?(t.event.bind(window,"pointerdown",u),t.event.bind(window,"pointerup",c),t.event.bind(e,"pointerdown",f),t.event.bind(e,"pointermove",p),t.event.bind(e,"pointerup",v)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",u),t.event.bind(window,"MSPointerUp",c),t.event.bind(e,"MSPointerDown",f),t.event.bind(e,"MSPointerMove",p),t.event.bind(e,"MSPointerUp",v)))}var r=e("../../lib/helper"),o=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){if(r.env.supportsTouch||r.env.supportsIePointer){var t=o.get(e);i(e,t,r.env.supportsTouch,r.env.supportsIePointer)}}},{"../../lib/helper":304,"../instances":316,"../update-geometry":317,"../update-scroll":318}],315:[function(e,t,n){"use strict";var i=e("../lib/helper"),r=e("../lib/class"),o=e("./instances"),s=e("./update-geometry"),a={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},l=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},r.add(e,"ps-container");var n=o.add(e);n.settings=i.extend(n.settings,t),r.add(e,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(t){a[t](e)}),l(e),s(e)}},{"../lib/class":300,"../lib/helper":304,"./handler/click-rail":308,"./handler/drag-scrollbar":309,"./handler/keyboard":310,"./handler/mouse-wheel":311,"./handler/native-scroll":312,"./handler/selection":313,"./handler/touch":314,"./instances":316,"./update-geometry":317}],316:[function(e,t,n){"use strict";function i(e){function t(){l.add(e,"ps-focus")}function n(){l.remove(e,"ps-focus")}var i=this;i.settings=a.clone(u),i.containerWidth=null,i.containerHeight=null,i.contentWidth=null,i.contentHeight=null,i.isRtl="rtl"===c.css(e,"direction"),i.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),i.negativeScrollAdjustment=i.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.event=new d,i.ownerDocument=e.ownerDocument||document,i.scrollbarXRail=c.appendTo(c.e("div","ps-scrollbar-x-rail"),e),i.scrollbarX=c.appendTo(c.e("div","ps-scrollbar-x"),i.scrollbarXRail),i.scrollbarX.setAttribute("tabindex",0),i.event.bind(i.scrollbarX,"focus",t),i.event.bind(i.scrollbarX,"blur",n),i.scrollbarXActive=null,i.scrollbarXWidth=null,i.scrollbarXLeft=null,i.scrollbarXBottom=a.toInt(c.css(i.scrollbarXRail,"bottom")),i.isScrollbarXUsingBottom=i.scrollbarXBottom===i.scrollbarXBottom,i.scrollbarXTop=i.isScrollbarXUsingBottom?null:a.toInt(c.css(i.scrollbarXRail,"top")),i.railBorderXWidth=a.toInt(c.css(i.scrollbarXRail,"borderLeftWidth"))+a.toInt(c.css(i.scrollbarXRail,"borderRightWidth")),c.css(i.scrollbarXRail,"display","block"),i.railXMarginWidth=a.toInt(c.css(i.scrollbarXRail,"marginLeft"))+a.toInt(c.css(i.scrollbarXRail,"marginRight")),c.css(i.scrollbarXRail,"display",""),i.railXWidth=null,i.railXRatio=null,i.scrollbarYRail=c.appendTo(c.e("div","ps-scrollbar-y-rail"),e),i.scrollbarY=c.appendTo(c.e("div","ps-scrollbar-y"),i.scrollbarYRail),i.scrollbarY.setAttribute("tabindex",0),i.event.bind(i.scrollbarY,"focus",t),i.event.bind(i.scrollbarY,"blur",n),i.scrollbarYActive=null,i.scrollbarYHeight=null,i.scrollbarYTop=null,i.scrollbarYRight=a.toInt(c.css(i.scrollbarYRail,"right")),i.isScrollbarYUsingRight=i.scrollbarYRight===i.scrollbarYRight,i.scrollbarYLeft=i.isScrollbarYUsingRight?null:a.toInt(c.css(i.scrollbarYRail,"left")),i.scrollbarYOuterWidth=i.isRtl?a.outerWidth(i.scrollbarY):null,i.railBorderYWidth=a.toInt(c.css(i.scrollbarYRail,"borderTopWidth"))+a.toInt(c.css(i.scrollbarYRail,"borderBottomWidth")),c.css(i.scrollbarYRail,"display","block"),i.railYMarginHeight=a.toInt(c.css(i.scrollbarYRail,"marginTop"))+a.toInt(c.css(i.scrollbarYRail,"marginBottom")),c.css(i.scrollbarYRail,"display",""),i.railYHeight=null,i.railYRatio=null}function r(e){return e.getAttribute("data-ps-id")}function o(e,t){e.setAttribute("data-ps-id",t)}function s(e){e.removeAttribute("data-ps-id")}var a=e("../lib/helper"),l=e("../lib/class"),u=e("./default-setting"),c=e("../lib/dom"),d=e("../lib/event-manager"),h=e("../lib/guid"),f={};n.add=function(e){var t=h();return o(e,t),f[t]=new i(e),f[t]},n.remove=function(e){delete f[r(e)],s(e)},n.get=function(e){return f[r(e)]}},{"../lib/class":300,"../lib/dom":301,"../lib/event-manager":302,"../lib/guid":303,"../lib/helper":304,"./default-setting":306}],317:[function(e,t,n){"use strict";function i(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function r(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,a.css(t.scrollbarXRail,n);var i={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft,a.css(t.scrollbarYRail,i),a.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),a.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var o=e("../lib/helper"),s=e("../lib/class"),a=e("../lib/dom"),l=e("./instances"),u=e("./update-scroll");t.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var n;e.contains(t.scrollbarXRail)||(n=a.queryChildren(e,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(n=a.queryChildren(e,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=i(t,o.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=o.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=i(t,o.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=o.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),r(e,t),t.scrollbarXActive?s.add(e,"ps-active-x"):(s.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,u(e,"left",0)),t.scrollbarYActive?s.add(e,"ps-active-y"):(s.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,u(e,"top",0))}},{"../lib/class":300,"../lib/dom":301,"../lib/helper":304,"./instances":316,"./update-scroll":318}],318:[function(e,t,n){"use strict";var i,r,o=e("./instances"),s=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};t.exports=function(e,t,n){if("undefined"==typeof e)throw"You must provide an element to the update-scroll function";if("undefined"==typeof t)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof n)throw"You must provide a value to the update-scroll function";"top"===t&&n<=0&&(e.scrollTop=n=0,e.dispatchEvent(s("ps-y-reach-start"))),"left"===t&&n<=0&&(e.scrollLeft=n=0,e.dispatchEvent(s("ps-x-reach-start")));var a=o.get(e);"top"===t&&n>=a.contentHeight-a.containerHeight&&(n=a.contentHeight-a.containerHeight,n-e.scrollTop<=1?n=e.scrollTop:e.scrollTop=n,e.dispatchEvent(s("ps-y-reach-end"))),"left"===t&&n>=a.contentWidth-a.containerWidth&&(n=a.contentWidth-a.containerWidth,n-e.scrollLeft<=1?n=e.scrollLeft:e.scrollLeft=n,e.dispatchEvent(s("ps-x-reach-end"))),i||(i=e.scrollTop),r||(r=e.scrollLeft),"top"===t&&n<i&&e.dispatchEvent(s("ps-scroll-up")),"top"===t&&n>i&&e.dispatchEvent(s("ps-scroll-down")),"left"===t&&n<r&&e.dispatchEvent(s("ps-scroll-left")),"left"===t&&n>r&&e.dispatchEvent(s("ps-scroll-right")),"top"===t&&(e.scrollTop=i=n,e.dispatchEvent(s("ps-scroll-y"))),"left"===t&&(e.scrollLeft=r=n,e.dispatchEvent(s("ps-scroll-x")))}},{"./instances":316}],319:[function(e,t,n){"use strict";var i=e("../lib/helper"),r=e("../lib/dom"),o=e("./instances"),s=e("./update-geometry"),a=e("./update-scroll");t.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.css(t.scrollbarXRail,"display","block"),r.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=i.toInt(r.css(t.scrollbarXRail,"marginLeft"))+i.toInt(r.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=i.toInt(r.css(t.scrollbarYRail,"marginTop"))+i.toInt(r.css(t.scrollbarYRail,"marginBottom")),r.css(t.scrollbarXRail,"display","none"),r.css(t.scrollbarYRail,"display","none"),s(e),a(e,"top",e.scrollTop),a(e,"left",e.scrollLeft),r.css(t.scrollbarXRail,"display",""),r.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":301,"../lib/helper":304,"./instances":316,"./update-geometry":317,"./update-scroll":318}],320:[function(e,t,n){"use strict";var i=e("./stringify"),r=e("./parse");t.exports={stringify:i,parse:r}},{"./parse":321,"./stringify":322}],321:[function(e,t,n){"use strict";var i=e("./utils"),r=Object.prototype.hasOwnProperty,o={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1,decoder:i.decode},s=function(e,t){for(var n={},i=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),o=0;o<i.length;++o){var s,a,l=i[o],u=l.indexOf("]=")===-1?l.indexOf("="):l.indexOf("]=")+1;u===-1?(s=t.decoder(l),a=t.strictNullHandling?null:""):(s=t.decoder(l.slice(0,u)),a=t.decoder(l.slice(u+1))),r.call(n,s)?n[s]=[].concat(n[s]).concat(a):n[s]=a}return n},a=function u(e,t,n){if(!e.length)return t;var i,r=e.shift();if("[]"===r)i=[],i=i.concat(u(e,t,n));else{i=n.plainObjects?Object.create(null):{};var o="["===r[0]&&"]"===r[r.length-1]?r.slice(1,r.length-1):r,s=parseInt(o,10);!isNaN(s)&&r!==o&&String(s)===o&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(i=[],i[s]=u(e,t,n)):i[o]=u(e,t,n)}return i},l=function(e,t,n){if(e){var i=n.allowDots?e.replace(/\.([^\.\[]+)/g,"[$1]"):e,o=/^([^\[\]]*)/,s=/(\[[^\[\]]*\])/g,l=o.exec(i),u=[];if(l[1]){if(!n.plainObjects&&r.call(Object.prototype,l[1])&&!n.allowPrototypes)return;u.push(l[1])}for(var c=0;null!==(l=s.exec(i))&&c<n.depth;)c+=1,(n.plainObjects||!r.call(Object.prototype,l[1].replace(/\[|\]/g,""))||n.allowPrototypes)&&u.push(l[1]);return l&&u.push("["+i.slice(l.index)+"]"),a(u,t,n)}};t.exports=function(e,t){var n=t||{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.delimiter="string"==typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=n.parseArrays!==!1,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===e||null===e||"undefined"==typeof e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?s(e,n):e,a=n.plainObjects?Object.create(null):{},u=Object.keys(r),c=0;c<u.length;++c){var d=u[c],h=l(d,r[d],n);a=i.merge(a,h,n)}return i.compact(a)}},{"./utils":323}],322:[function(e,t,n){"use strict";var i=e("./utils"),r={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o={delimiter:"&",strictNullHandling:!1,skipNulls:!1,encode:!0,encoder:i.encode},s=function a(e,t,n,r,o,s,l,u,c){var d=e;if("function"==typeof l)d=l(t,d);else if(d instanceof Date)d=d.toISOString();else if(null===d){if(r)return s?s(t):t;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||i.isBuffer(d))return s?[s(t)+"="+s(d)]:[t+"="+String(d)];var h=[];if("undefined"==typeof d)return h;var f;if(Array.isArray(l))f=l;else{var p=Object.keys(d);f=u?p.sort(u):p}for(var v=0;v<f.length;++v){var m=f[v];o&&null===d[m]||(h=Array.isArray(d)?h.concat(a(d[m],n(t,m),n,r,o,s,l,u,c)):h.concat(a(d[m],t+(c?"."+m:"["+m+"]"),n,r,o,s,l,u,c)))}return h};t.exports=function(e,t){var n,i,a=e,l=t||{},u="undefined"==typeof l.delimiter?o.delimiter:l.delimiter,c="boolean"==typeof l.strictNullHandling?l.strictNullHandling:o.strictNullHandling,d="boolean"==typeof l.skipNulls?l.skipNulls:o.skipNulls,h="boolean"==typeof l.encode?l.encode:o.encode,f=h?"function"==typeof l.encoder?l.encoder:o.encoder:null,p="function"==typeof l.sort?l.sort:null,v="undefined"!=typeof l.allowDots&&l.allowDots;if(null!==l.encoder&&void 0!==l.encoder&&"function"!=typeof l.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof l.filter?(i=l.filter,a=i("",a)):Array.isArray(l.filter)&&(n=i=l.filter);var m=[];if("object"!=typeof a||null===a)return"";var g;g=l.arrayFormat in r?l.arrayFormat:"indices"in l?l.indices?"indices":"repeat":"indices";var b=r[g];n||(n=Object.keys(a)),p&&n.sort(p);for(var y=0;y<n.length;++y){var _=n[y];d&&null===a[_]||(m=m.concat(s(a[_],_,b,c,d,f,i,p,v)))}return m.join(u)}},{"./utils":323}],323:[function(e,t,n){"use strict";var i=function(){for(var e=new Array(256),t=0;t<256;++t)e[t]="%"+((t<16?"0":"")+t.toString(16)).toUpperCase();return e}();n.arrayToObject=function(e,t){for(var n=t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)"undefined"!=typeof e[i]&&(n[i]=e[i]);return n},n.merge=function(e,t,i){if(!t)return e;if("object"!=typeof t){if(Array.isArray(e))e.push(t);else{if("object"!=typeof e)return[e,t];e[t]=!0}return e}if("object"!=typeof e)return[e].concat(t);var r=e;return Array.isArray(e)&&!Array.isArray(t)&&(r=n.arrayToObject(e,i)),Object.keys(t).reduce(function(e,r){var o=t[r];return Object.prototype.hasOwnProperty.call(e,r)?e[r]=n.merge(e[r],o,i):e[r]=o,e},r)},n.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},n.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var o=t.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=t.charAt(r):o<128?n+=i[o]:o<2048?n+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?n+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(r+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),n+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return n},n.compact=function(e,t){if("object"!=typeof e||null===e)return e;var i=t||[],r=i.indexOf(e);if(r!==-1)return i[r];if(i.push(e),Array.isArray(e)){for(var o=[],s=0;s<e.length;++s)e[s]&&"object"==typeof e[s]?o.push(n.compact(e[s],i)):"undefined"!=typeof e[s]&&o.push(e[s]);return o}for(var a=Object.keys(e),l=0;l<a.length;++l){var u=a[l];e[u]=n.compact(e[u],i)}return e},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},{}],324:[function(e,t,n){!function(){"use strict";function e(e){e.fn.swiper=function(t){var i;return e(this).each(function(){var e=new n(this,t);i||(i=e)}),i}}var t,n=function(e,r){function o(e){return Math.floor(e)}function s(){_.autoplayTimeoutId=setTimeout(function(){_.params.loop?(_.fixLoop(),_._slideNext(),_.emit("onAutoplay",_)):_.isEnd?r.autoplayStopOnLast?_.stopAutoplay():(_._slideTo(0),_.emit("onAutoplay",_)):(_._slideNext(),_.emit("onAutoplay",_))},_.params.autoplay)}function a(e,n){var i=t(e.target);if(!i.is(n))if("string"==typeof n)i=i.parents(n);else if(n.nodeType){var r;return i.parents().each(function(e,t){t===n&&(r=n)}),r?n:void 0}if(0!==i.length)return i[0]}function l(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver,i=new n(function(e){e.forEach(function(e){_.onResize(!0),_.emit("onObserverUpdate",_,e)})});i.observe(e,{attributes:"undefined"==typeof t.attributes||t.attributes,childList:"undefined"==typeof t.childList||t.childList,characterData:"undefined"==typeof t.characterData||t.characterData}),_.observers.push(i)}function u(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!_.params.allowSwipeToNext&&(_.isHorizontal()&&39===t||!_.isHorizontal()&&40===t))return!1;if(!_.params.allowSwipeToPrev&&(_.isHorizontal()&&37===t||!_.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var n=!1;if(_.container.parents(".swiper-slide").length>0&&0===_.container.parents(".swiper-slide-active").length)return;var i={left:window.pageXOffset,top:window.pageYOffset},r=window.innerWidth,o=window.innerHeight,s=_.container.offset();_.rtl&&(s.left=s.left-_.container[0].scrollLeft);for(var a=[[s.left,s.top],[s.left+_.width,s.top],[s.left,s.top+_.height],[s.left+_.width,s.top+_.height]],l=0;l<a.length;l++){var u=a[l];u[0]>=i.left&&u[0]<=i.left+r&&u[1]>=i.top&&u[1]<=i.top+o&&(n=!0)}if(!n)return}_.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!_.rtl||37===t&&_.rtl)&&_.slideNext(),(37===t&&!_.rtl||39===t&&_.rtl)&&_.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&_.slideNext(),38===t&&_.slidePrev())}}function c(e){e.originalEvent&&(e=e.originalEvent);var t=_.mousewheel.event,n=0,i=_.rtl?-1:1;if("mousewheel"===t)if(_.params.mousewheelForceToAxis)if(_.isHorizontal()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;n=e.wheelDeltaX*i}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;n=e.wheelDeltaY}else n=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*i:-e.wheelDeltaY;else if("DOMMouseScroll"===t)n=-e.detail;else if("wheel"===t)if(_.params.mousewheelForceToAxis)if(_.isHorizontal()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;n=-e.deltaX*i}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;n=-e.deltaY}else n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*i:-e.deltaY;if(0!==n){if(_.params.mousewheelInvert&&(n=-n),_.params.freeMode){var r=_.getWrapperTranslate()+n*_.params.mousewheelSensitivity,o=_.isBeginning,s=_.isEnd;if(r>=_.minTranslate()&&(r=_.minTranslate()),r<=_.maxTranslate()&&(r=_.maxTranslate()),_.setWrapperTransition(0),_.setWrapperTranslate(r),_.updateProgress(),_.updateActiveIndex(),(!o&&_.isBeginning||!s&&_.isEnd)&&_.updateClasses(),_.params.freeModeSticky?(clearTimeout(_.mousewheel.timeout),_.mousewheel.timeout=setTimeout(function(){_.slideReset()},300)):_.params.lazyLoading&&_.lazy&&_.lazy.load(),0===r||r===_.maxTranslate())return}else{if((new window.Date).getTime()-_.mousewheel.lastScrollTime>60)if(n<0)if(_.isEnd&&!_.params.loop||_.animating){if(_.params.mousewheelReleaseOnEdges)return!0}else _.slideNext();else if(_.isBeginning&&!_.params.loop||_.animating){if(_.params.mousewheelReleaseOnEdges)return!0}else _.slidePrev();_.mousewheel.lastScrollTime=(new window.Date).getTime()}return _.params.autoplay&&_.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function d(e,n){e=t(e);var i,r,o,s=_.rtl?-1:1;i=e.attr("data-swiper-parallax")||"0",r=e.attr("data-swiper-parallax-x"),o=e.attr("data-swiper-parallax-y"),r||o?(r=r||"0",o=o||"0"):_.isHorizontal()?(r=i,o="0"):(o=i,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*n*s+"%":r*n*s+"px",o=o.indexOf("%")>=0?parseInt(o,10)*n+"%":o*n+"px",e.transform("translate3d("+r+", "+o+",0px)")}function h(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof n))return new n(e,r);var f={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},p=r&&r.virtualTranslate;r=r||{};var v={};for(var m in r)if("object"!=typeof r[m]||null===r[m]||(r[m].nodeType||r[m]===window||r[m]===document||"undefined"!=typeof i&&r[m]instanceof i||"undefined"!=typeof jQuery&&r[m]instanceof jQuery))v[m]=r[m];else{v[m]={};for(var g in r[m])v[m][g]=r[m][g]}for(var b in f)if("undefined"==typeof r[b])r[b]=f[b];else if("object"==typeof r[b])for(var y in f[b])"undefined"==typeof r[b][y]&&(r[b][y]=f[b][y]);var _=this;if(_.params=r,_.originalParams=v,_.classNames=[],"undefined"!=typeof t&&"undefined"!=typeof i&&(t=i),("undefined"!=typeof t||(t="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i))&&(_.$=t,_.currentBreakpoint=void 0,_.getActiveBreakpoint=function(){if(!_.params.breakpoints)return!1;var e,t=!1,n=[];for(e in _.params.breakpoints)_.params.breakpoints.hasOwnProperty(e)&&n.push(e);n.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var i=0;i<n.length;i++)e=n[i],e>=window.innerWidth&&!t&&(t=e);return t||"max"},_.setBreakpoint=function(){var e=_.getActiveBreakpoint();if(e&&_.currentBreakpoint!==e){var t=e in _.params.breakpoints?_.params.breakpoints[e]:_.originalParams,n=_.params.loop&&t.slidesPerView!==_.params.slidesPerView;for(var i in t)_.params[i]=t[i];_.currentBreakpoint=e,n&&_.destroyLoop&&_.reLoop(!0)}},_.params.breakpoints&&_.setBreakpoint(),_.container=t(e),0!==_.container.length)){if(_.container.length>1){var w=[];return _.container.each(function(){w.push(new n(this,r))}),w}_.container[0].swiper=_,_.container.data("swiper",_),_.classNames.push("swiper-container-"+_.params.direction),_.params.freeMode&&_.classNames.push("swiper-container-free-mode"),_.support.flexbox||(_.classNames.push("swiper-container-no-flexbox"),_.params.slidesPerColumn=1),_.params.autoHeight&&_.classNames.push("swiper-container-autoheight"),(_.params.parallax||_.params.watchSlidesVisibility)&&(_.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(_.params.effect)>=0&&(_.support.transforms3d?(_.params.watchSlidesProgress=!0,_.classNames.push("swiper-container-3d")):_.params.effect="slide"),"slide"!==_.params.effect&&_.classNames.push("swiper-container-"+_.params.effect),"cube"===_.params.effect&&(_.params.resistanceRatio=0,_.params.slidesPerView=1,_.params.slidesPerColumn=1,_.params.slidesPerGroup=1,_.params.centeredSlides=!1,_.params.spaceBetween=0,_.params.virtualTranslate=!0,_.params.setWrapperSize=!1),"fade"!==_.params.effect&&"flip"!==_.params.effect||(_.params.slidesPerView=1,_.params.slidesPerColumn=1,_.params.slidesPerGroup=1,_.params.watchSlidesProgress=!0,_.params.spaceBetween=0,_.params.setWrapperSize=!1,"undefined"==typeof p&&(_.params.virtualTranslate=!0)),_.params.grabCursor&&_.support.touch&&(_.params.grabCursor=!1),_.wrapper=_.container.children("."+_.params.wrapperClass),_.params.pagination&&(_.paginationContainer=t(_.params.pagination),_.params.uniqueNavElements&&"string"==typeof _.params.pagination&&_.paginationContainer.length>1&&1===_.container.find(_.params.pagination).length&&(_.paginationContainer=_.container.find(_.params.pagination)),"bullets"===_.params.paginationType&&_.params.paginationClickable?_.paginationContainer.addClass("swiper-pagination-clickable"):_.params.paginationClickable=!1,_.paginationContainer.addClass("swiper-pagination-"+_.params.paginationType)),(_.params.nextButton||_.params.prevButton)&&(_.params.nextButton&&(_.nextButton=t(_.params.nextButton),
_.params.uniqueNavElements&&"string"==typeof _.params.nextButton&&_.nextButton.length>1&&1===_.container.find(_.params.nextButton).length&&(_.nextButton=_.container.find(_.params.nextButton))),_.params.prevButton&&(_.prevButton=t(_.params.prevButton),_.params.uniqueNavElements&&"string"==typeof _.params.prevButton&&_.prevButton.length>1&&1===_.container.find(_.params.prevButton).length&&(_.prevButton=_.container.find(_.params.prevButton)))),_.isHorizontal=function(){return"horizontal"===_.params.direction},_.rtl=_.isHorizontal()&&("rtl"===_.container[0].dir.toLowerCase()||"rtl"===_.container.css("direction")),_.rtl&&_.classNames.push("swiper-container-rtl"),_.rtl&&(_.wrongRTL="-webkit-box"===_.wrapper.css("display")),_.params.slidesPerColumn>1&&_.classNames.push("swiper-container-multirow"),_.device.android&&_.classNames.push("swiper-container-android"),_.container.addClass(_.classNames.join(" ")),_.translate=0,_.progress=0,_.velocity=0,_.lockSwipeToNext=function(){_.params.allowSwipeToNext=!1},_.lockSwipeToPrev=function(){_.params.allowSwipeToPrev=!1},_.lockSwipes=function(){_.params.allowSwipeToNext=_.params.allowSwipeToPrev=!1},_.unlockSwipeToNext=function(){_.params.allowSwipeToNext=!0},_.unlockSwipeToPrev=function(){_.params.allowSwipeToPrev=!0},_.unlockSwipes=function(){_.params.allowSwipeToNext=_.params.allowSwipeToPrev=!0},_.params.grabCursor&&(_.container[0].style.cursor="move",_.container[0].style.cursor="-webkit-grab",_.container[0].style.cursor="-moz-grab",_.container[0].style.cursor="grab"),_.imagesToLoad=[],_.imagesLoaded=0,_.loadImage=function(e,t,n,i,r){function o(){r&&r()}var s;e.complete&&i?o():t?(s=new window.Image,s.onload=o,s.onerror=o,n&&(s.srcset=n),t&&(s.src=t)):o()},_.preloadImages=function(){function e(){"undefined"!=typeof _&&null!==_&&(void 0!==_.imagesLoaded&&_.imagesLoaded++,_.imagesLoaded===_.imagesToLoad.length&&(_.params.updateOnImagesReady&&_.update(),_.emit("onImagesReady",_)))}_.imagesToLoad=_.container.find("img");for(var t=0;t<_.imagesToLoad.length;t++)_.loadImage(_.imagesToLoad[t],_.imagesToLoad[t].currentSrc||_.imagesToLoad[t].getAttribute("src"),_.imagesToLoad[t].srcset||_.imagesToLoad[t].getAttribute("srcset"),!0,e)},_.autoplayTimeoutId=void 0,_.autoplaying=!1,_.autoplayPaused=!1,_.startAutoplay=function(){return"undefined"==typeof _.autoplayTimeoutId&&(!!_.params.autoplay&&(!_.autoplaying&&(_.autoplaying=!0,_.emit("onAutoplayStart",_),void s())))},_.stopAutoplay=function(e){_.autoplayTimeoutId&&(_.autoplayTimeoutId&&clearTimeout(_.autoplayTimeoutId),_.autoplaying=!1,_.autoplayTimeoutId=void 0,_.emit("onAutoplayStop",_))},_.pauseAutoplay=function(e){_.autoplayPaused||(_.autoplayTimeoutId&&clearTimeout(_.autoplayTimeoutId),_.autoplayPaused=!0,0===e?(_.autoplayPaused=!1,s()):_.wrapper.transitionEnd(function(){_&&(_.autoplayPaused=!1,_.autoplaying?s():_.stopAutoplay())}))},_.minTranslate=function(){return-_.snapGrid[0]},_.maxTranslate=function(){return-_.snapGrid[_.snapGrid.length-1]},_.updateAutoHeight=function(){var e=_.slides.eq(_.activeIndex)[0];if("undefined"!=typeof e){var t=e.offsetHeight;t&&_.wrapper.css("height",t+"px")}},_.updateContainerSize=function(){var e,t;e="undefined"!=typeof _.params.width?_.params.width:_.container[0].clientWidth,t="undefined"!=typeof _.params.height?_.params.height:_.container[0].clientHeight,0===e&&_.isHorizontal()||0===t&&!_.isHorizontal()||(e=e-parseInt(_.container.css("padding-left"),10)-parseInt(_.container.css("padding-right"),10),t=t-parseInt(_.container.css("padding-top"),10)-parseInt(_.container.css("padding-bottom"),10),_.width=e,_.height=t,_.size=_.isHorizontal()?_.width:_.height)},_.updateSlidesSize=function(){_.slides=_.wrapper.children("."+_.params.slideClass),_.snapGrid=[],_.slidesGrid=[],_.slidesSizesGrid=[];var e,t=_.params.spaceBetween,n=-_.params.slidesOffsetBefore,i=0,r=0;if("undefined"!=typeof _.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*_.size),_.virtualSize=-t,_.rtl?_.slides.css({marginLeft:"",marginTop:""}):_.slides.css({marginRight:"",marginBottom:""});var s;_.params.slidesPerColumn>1&&(s=Math.floor(_.slides.length/_.params.slidesPerColumn)===_.slides.length/_.params.slidesPerColumn?_.slides.length:Math.ceil(_.slides.length/_.params.slidesPerColumn)*_.params.slidesPerColumn,"auto"!==_.params.slidesPerView&&"row"===_.params.slidesPerColumnFill&&(s=Math.max(s,_.params.slidesPerView*_.params.slidesPerColumn)));var a,l=_.params.slidesPerColumn,u=s/l,c=u-(_.params.slidesPerColumn*u-_.slides.length);for(e=0;e<_.slides.length;e++){a=0;var d=_.slides.eq(e);if(_.params.slidesPerColumn>1){var h,f,p;"column"===_.params.slidesPerColumnFill?(f=Math.floor(e/l),p=e-f*l,(f>c||f===c&&p===l-1)&&++p>=l&&(p=0,f++),h=f+p*s/l,d.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):(p=Math.floor(e/u),f=e-p*u),d.css({"margin-top":0!==p&&_.params.spaceBetween&&_.params.spaceBetween+"px"}).attr("data-swiper-column",f).attr("data-swiper-row",p)}"none"!==d.css("display")&&("auto"===_.params.slidesPerView?(a=_.isHorizontal()?d.outerWidth(!0):d.outerHeight(!0),_.params.roundLengths&&(a=o(a))):(a=(_.size-(_.params.slidesPerView-1)*t)/_.params.slidesPerView,_.params.roundLengths&&(a=o(a)),_.isHorizontal()?_.slides[e].style.width=a+"px":_.slides[e].style.height=a+"px"),_.slides[e].swiperSlideSize=a,_.slidesSizesGrid.push(a),_.params.centeredSlides?(n=n+a/2+i/2+t,0===e&&(n=n-_.size/2-t),Math.abs(n)<.001&&(n=0),r%_.params.slidesPerGroup===0&&_.snapGrid.push(n),_.slidesGrid.push(n)):(r%_.params.slidesPerGroup===0&&_.snapGrid.push(n),_.slidesGrid.push(n),n=n+a+t),_.virtualSize+=a+t,i=a,r++)}_.virtualSize=Math.max(_.virtualSize,_.size)+_.params.slidesOffsetAfter;var v;if(_.rtl&&_.wrongRTL&&("slide"===_.params.effect||"coverflow"===_.params.effect)&&_.wrapper.css({width:_.virtualSize+_.params.spaceBetween+"px"}),_.support.flexbox&&!_.params.setWrapperSize||(_.isHorizontal()?_.wrapper.css({width:_.virtualSize+_.params.spaceBetween+"px"}):_.wrapper.css({height:_.virtualSize+_.params.spaceBetween+"px"})),_.params.slidesPerColumn>1&&(_.virtualSize=(a+_.params.spaceBetween)*s,_.virtualSize=Math.ceil(_.virtualSize/_.params.slidesPerColumn)-_.params.spaceBetween,_.wrapper.css({width:_.virtualSize+_.params.spaceBetween+"px"}),_.params.centeredSlides)){for(v=[],e=0;e<_.snapGrid.length;e++)_.snapGrid[e]<_.virtualSize+_.snapGrid[0]&&v.push(_.snapGrid[e]);_.snapGrid=v}if(!_.params.centeredSlides){for(v=[],e=0;e<_.snapGrid.length;e++)_.snapGrid[e]<=_.virtualSize-_.size&&v.push(_.snapGrid[e]);_.snapGrid=v,Math.floor(_.virtualSize-_.size)-Math.floor(_.snapGrid[_.snapGrid.length-1])>1&&_.snapGrid.push(_.virtualSize-_.size)}0===_.snapGrid.length&&(_.snapGrid=[0]),0!==_.params.spaceBetween&&(_.isHorizontal()?_.rtl?_.slides.css({marginLeft:t+"px"}):_.slides.css({marginRight:t+"px"}):_.slides.css({marginBottom:t+"px"})),_.params.watchSlidesProgress&&_.updateSlidesOffset()}},_.updateSlidesOffset=function(){for(var e=0;e<_.slides.length;e++)_.slides[e].swiperSlideOffset=_.isHorizontal()?_.slides[e].offsetLeft:_.slides[e].offsetTop},_.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=_.translate||0),0!==_.slides.length){"undefined"==typeof _.slides[0].swiperSlideOffset&&_.updateSlidesOffset();var t=-e;_.rtl&&(t=e),_.slides.removeClass(_.params.slideVisibleClass);for(var n=0;n<_.slides.length;n++){var i=_.slides[n],r=(t-i.swiperSlideOffset)/(i.swiperSlideSize+_.params.spaceBetween);if(_.params.watchSlidesVisibility){var o=-(t-i.swiperSlideOffset),s=o+_.slidesSizesGrid[n],a=o>=0&&o<_.size||s>0&&s<=_.size||o<=0&&s>=_.size;a&&_.slides.eq(n).addClass(_.params.slideVisibleClass)}i.progress=_.rtl?-r:r}}},_.updateProgress=function(e){"undefined"==typeof e&&(e=_.translate||0);var t=_.maxTranslate()-_.minTranslate(),n=_.isBeginning,i=_.isEnd;0===t?(_.progress=0,_.isBeginning=_.isEnd=!0):(_.progress=(e-_.minTranslate())/t,_.isBeginning=_.progress<=0,_.isEnd=_.progress>=1),_.isBeginning&&!n&&_.emit("onReachBeginning",_),_.isEnd&&!i&&_.emit("onReachEnd",_),_.params.watchSlidesProgress&&_.updateSlidesProgress(e),_.emit("onProgress",_,_.progress)},_.updateActiveIndex=function(){var e,t,n,i=_.rtl?_.translate:-_.translate;for(t=0;t<_.slidesGrid.length;t++)"undefined"!=typeof _.slidesGrid[t+1]?i>=_.slidesGrid[t]&&i<_.slidesGrid[t+1]-(_.slidesGrid[t+1]-_.slidesGrid[t])/2?e=t:i>=_.slidesGrid[t]&&i<_.slidesGrid[t+1]&&(e=t+1):i>=_.slidesGrid[t]&&(e=t);(e<0||"undefined"==typeof e)&&(e=0),n=Math.floor(e/_.params.slidesPerGroup),n>=_.snapGrid.length&&(n=_.snapGrid.length-1),e!==_.activeIndex&&(_.snapIndex=n,_.previousIndex=_.activeIndex,_.activeIndex=e,_.updateClasses())},_.updateClasses=function(){_.slides.removeClass(_.params.slideActiveClass+" "+_.params.slideNextClass+" "+_.params.slidePrevClass);var e=_.slides.eq(_.activeIndex);e.addClass(_.params.slideActiveClass);var n=e.next("."+_.params.slideClass).addClass(_.params.slideNextClass);_.params.loop&&0===n.length&&_.slides.eq(0).addClass(_.params.slideNextClass);var i=e.prev("."+_.params.slideClass).addClass(_.params.slidePrevClass);if(_.params.loop&&0===i.length&&_.slides.eq(-1).addClass(_.params.slidePrevClass),_.paginationContainer&&_.paginationContainer.length>0){var r,o=_.params.loop?Math.ceil((_.slides.length-2*_.loopedSlides)/_.params.slidesPerGroup):_.snapGrid.length;if(_.params.loop?(r=Math.ceil((_.activeIndex-_.loopedSlides)/_.params.slidesPerGroup),r>_.slides.length-1-2*_.loopedSlides&&(r-=_.slides.length-2*_.loopedSlides),r>o-1&&(r-=o),r<0&&"bullets"!==_.params.paginationType&&(r=o+r)):r="undefined"!=typeof _.snapIndex?_.snapIndex:_.activeIndex||0,"bullets"===_.params.paginationType&&_.bullets&&_.bullets.length>0&&(_.bullets.removeClass(_.params.bulletActiveClass),_.paginationContainer.length>1?_.bullets.each(function(){t(this).index()===r&&t(this).addClass(_.params.bulletActiveClass)}):_.bullets.eq(r).addClass(_.params.bulletActiveClass)),"fraction"===_.params.paginationType&&(_.paginationContainer.find("."+_.params.paginationCurrentClass).text(r+1),_.paginationContainer.find("."+_.params.paginationTotalClass).text(o)),"progress"===_.params.paginationType){var s=(r+1)/o,a=s,l=1;_.isHorizontal()||(l=s,a=1),_.paginationContainer.find("."+_.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+a+") scaleY("+l+")").transition(_.params.speed)}"custom"===_.params.paginationType&&_.params.paginationCustomRender&&(_.paginationContainer.html(_.params.paginationCustomRender(_,r+1,o)),_.emit("onPaginationRendered",_,_.paginationContainer[0]))}_.params.loop||(_.params.prevButton&&_.prevButton&&_.prevButton.length>0&&(_.isBeginning?(_.prevButton.addClass(_.params.buttonDisabledClass),_.params.a11y&&_.a11y&&_.a11y.disable(_.prevButton)):(_.prevButton.removeClass(_.params.buttonDisabledClass),_.params.a11y&&_.a11y&&_.a11y.enable(_.prevButton))),_.params.nextButton&&_.nextButton&&_.nextButton.length>0&&(_.isEnd?(_.nextButton.addClass(_.params.buttonDisabledClass),_.params.a11y&&_.a11y&&_.a11y.disable(_.nextButton)):(_.nextButton.removeClass(_.params.buttonDisabledClass),_.params.a11y&&_.a11y&&_.a11y.enable(_.nextButton))))},_.updatePagination=function(){if(_.params.pagination&&_.paginationContainer&&_.paginationContainer.length>0){var e="";if("bullets"===_.params.paginationType){for(var t=_.params.loop?Math.ceil((_.slides.length-2*_.loopedSlides)/_.params.slidesPerGroup):_.snapGrid.length,n=0;n<t;n++)e+=_.params.paginationBulletRender?_.params.paginationBulletRender(n,_.params.bulletClass):"<"+_.params.paginationElement+' class="'+_.params.bulletClass+'"></'+_.params.paginationElement+">";_.paginationContainer.html(e),_.bullets=_.paginationContainer.find("."+_.params.bulletClass),_.params.paginationClickable&&_.params.a11y&&_.a11y&&_.a11y.initPagination()}"fraction"===_.params.paginationType&&(e=_.params.paginationFractionRender?_.params.paginationFractionRender(_,_.params.paginationCurrentClass,_.params.paginationTotalClass):'<span class="'+_.params.paginationCurrentClass+'"></span> / <span class="'+_.params.paginationTotalClass+'"></span>',_.paginationContainer.html(e)),"progress"===_.params.paginationType&&(e=_.params.paginationProgressRender?_.params.paginationProgressRender(_,_.params.paginationProgressbarClass):'<span class="'+_.params.paginationProgressbarClass+'"></span>',_.paginationContainer.html(e)),"custom"!==_.params.paginationType&&_.emit("onPaginationRendered",_,_.paginationContainer[0])}},_.update=function(e){function t(){i=Math.min(Math.max(_.translate,_.maxTranslate()),_.minTranslate()),_.setWrapperTranslate(i),_.updateActiveIndex(),_.updateClasses()}if(_.updateContainerSize(),_.updateSlidesSize(),_.updateProgress(),_.updatePagination(),_.updateClasses(),_.params.scrollbar&&_.scrollbar&&_.scrollbar.set(),e){var n,i;_.controller&&_.controller.spline&&(_.controller.spline=void 0),_.params.freeMode?(t(),_.params.autoHeight&&_.updateAutoHeight()):(n=("auto"===_.params.slidesPerView||_.params.slidesPerView>1)&&_.isEnd&&!_.params.centeredSlides?_.slideTo(_.slides.length-1,0,!1,!0):_.slideTo(_.activeIndex,0,!1,!0),n||t())}else _.params.autoHeight&&_.updateAutoHeight()},_.onResize=function(e){_.params.breakpoints&&_.setBreakpoint();var t=_.params.allowSwipeToPrev,n=_.params.allowSwipeToNext;_.params.allowSwipeToPrev=_.params.allowSwipeToNext=!0,_.updateContainerSize(),_.updateSlidesSize(),("auto"===_.params.slidesPerView||_.params.freeMode||e)&&_.updatePagination(),_.params.scrollbar&&_.scrollbar&&_.scrollbar.set(),_.controller&&_.controller.spline&&(_.controller.spline=void 0);var i=!1;if(_.params.freeMode){var r=Math.min(Math.max(_.translate,_.maxTranslate()),_.minTranslate());_.setWrapperTranslate(r),_.updateActiveIndex(),_.updateClasses(),_.params.autoHeight&&_.updateAutoHeight()}else _.updateClasses(),i=("auto"===_.params.slidesPerView||_.params.slidesPerView>1)&&_.isEnd&&!_.params.centeredSlides?_.slideTo(_.slides.length-1,0,!1,!0):_.slideTo(_.activeIndex,0,!1,!0);_.params.lazyLoading&&!i&&_.lazy&&_.lazy.load(),_.params.allowSwipeToPrev=t,_.params.allowSwipeToNext=n};var E=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?E=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(E=["MSPointerDown","MSPointerMove","MSPointerUp"]),_.touchEvents={start:_.support.touch||!_.params.simulateTouch?"touchstart":E[0],move:_.support.touch||!_.params.simulateTouch?"touchmove":E[1],end:_.support.touch||!_.params.simulateTouch?"touchend":E[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===_.params.touchEventsTarget?_.container:_.wrapper).addClass("swiper-wp8-"+_.params.direction),_.initEvents=function(e){var t=e?"off":"on",n=e?"removeEventListener":"addEventListener",i="container"===_.params.touchEventsTarget?_.container[0]:_.wrapper[0],o=_.support.touch?i:document,s=!!_.params.nested;_.browser.ie?(i[n](_.touchEvents.start,_.onTouchStart,!1),o[n](_.touchEvents.move,_.onTouchMove,s),o[n](_.touchEvents.end,_.onTouchEnd,!1)):(_.support.touch&&(i[n](_.touchEvents.start,_.onTouchStart,!1),i[n](_.touchEvents.move,_.onTouchMove,s),i[n](_.touchEvents.end,_.onTouchEnd,!1)),!r.simulateTouch||_.device.ios||_.device.android||(i[n]("mousedown",_.onTouchStart,!1),document[n]("mousemove",_.onTouchMove,s),document[n]("mouseup",_.onTouchEnd,!1))),window[n]("resize",_.onResize),_.params.nextButton&&_.nextButton&&_.nextButton.length>0&&(_.nextButton[t]("click",_.onClickNext),_.params.a11y&&_.a11y&&_.nextButton[t]("keydown",_.a11y.onEnterKey)),_.params.prevButton&&_.prevButton&&_.prevButton.length>0&&(_.prevButton[t]("click",_.onClickPrev),_.params.a11y&&_.a11y&&_.prevButton[t]("keydown",_.a11y.onEnterKey)),_.params.pagination&&_.params.paginationClickable&&(_.paginationContainer[t]("click","."+_.params.bulletClass,_.onClickIndex),_.params.a11y&&_.a11y&&_.paginationContainer[t]("keydown","."+_.params.bulletClass,_.a11y.onEnterKey)),(_.params.preventClicks||_.params.preventClicksPropagation)&&i[n]("click",_.preventClicks,!0)},_.attachEvents=function(){_.initEvents()},_.detachEvents=function(){_.initEvents(!0)},_.allowClick=!0,_.preventClicks=function(e){_.allowClick||(_.params.preventClicks&&e.preventDefault(),_.params.preventClicksPropagation&&_.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},_.onClickNext=function(e){e.preventDefault(),_.isEnd&&!_.params.loop||_.slideNext()},_.onClickPrev=function(e){e.preventDefault(),_.isBeginning&&!_.params.loop||_.slidePrev()},_.onClickIndex=function(e){e.preventDefault();var n=t(this).index()*_.params.slidesPerGroup;_.params.loop&&(n+=_.loopedSlides),_.slideTo(n)},_.updateClickedSlide=function(e){var n=a(e,"."+_.params.slideClass),i=!1;if(n)for(var r=0;r<_.slides.length;r++)_.slides[r]===n&&(i=!0);if(!n||!i)return _.clickedSlide=void 0,void(_.clickedIndex=void 0);if(_.clickedSlide=n,_.clickedIndex=t(n).index(),_.params.slideToClickedSlide&&void 0!==_.clickedIndex&&_.clickedIndex!==_.activeIndex){var o,s=_.clickedIndex;if(_.params.loop){if(_.animating)return;o=t(_.clickedSlide).attr("data-swiper-slide-index"),_.params.centeredSlides?s<_.loopedSlides-_.params.slidesPerView/2||s>_.slides.length-_.loopedSlides+_.params.slidesPerView/2?(_.fixLoop(),s=_.wrapper.children("."+_.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){_.slideTo(s)},0)):_.slideTo(s):s>_.slides.length-_.params.slidesPerView?(_.fixLoop(),s=_.wrapper.children("."+_.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){_.slideTo(s)},0)):_.slideTo(s)}else _.slideTo(s)}};var I,T,S,C,x,A,O,N,M,P,k="input, select, textarea, button",R=Date.now(),L=[];_.animating=!1,_.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var D,j;if(_.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),D="touchstart"===e.type,D||!("which"in e)||3!==e.which){if(_.params.noSwiping&&a(e,"."+_.params.noSwipingClass))return void(_.allowClick=!0);if(!_.params.swipeHandler||a(e,_.params.swipeHandler)){var n=_.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,i=_.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(_.device.ios&&_.params.iOSEdgeSwipeDetection&&n<=_.params.iOSEdgeSwipeThreshold)){if(I=!0,T=!1,S=!0,x=void 0,j=void 0,_.touches.startX=n,_.touches.startY=i,C=Date.now(),_.allowClick=!0,_.updateContainerSize(),_.swipeDirection=void 0,_.params.threshold>0&&(N=!1),"touchstart"!==e.type){var r=!0;t(e.target).is(k)&&(r=!1),document.activeElement&&t(document.activeElement).is(k)&&document.activeElement.blur(),r&&e.preventDefault()}_.emit("onTouchStart",_,e)}}}},_.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!D||"mousemove"!==e.type){if(e.preventedByNestedSwiper)return _.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void(_.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);if(_.params.onlyExternal)return _.allowClick=!1,void(I&&(_.touches.startX=_.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,_.touches.startY=_.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,C=Date.now()));if(D&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(k))return T=!0,void(_.allowClick=!1);if(S&&_.emit("onTouchMove",_,e),!(e.targetTouches&&e.targetTouches.length>1)){if(_.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,_.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof x){var n=180*Math.atan2(Math.abs(_.touches.currentY-_.touches.startY),Math.abs(_.touches.currentX-_.touches.startX))/Math.PI;x=_.isHorizontal()?n>_.params.touchAngle:90-n>_.params.touchAngle}if(x&&_.emit("onTouchMoveOpposite",_,e),"undefined"==typeof j&&_.browser.ieTouch&&(_.touches.currentX===_.touches.startX&&_.touches.currentY===_.touches.startY||(j=!0)),I){if(x)return void(I=!1);if(j||!_.browser.ieTouch){_.allowClick=!1,_.emit("onSliderMove",_,e),e.preventDefault(),_.params.touchMoveStopPropagation&&!_.params.nested&&e.stopPropagation(),T||(r.loop&&_.fixLoop(),O=_.getWrapperTranslate(),_.setWrapperTransition(0),_.animating&&_.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),_.params.autoplay&&_.autoplaying&&(_.params.autoplayDisableOnInteraction?_.stopAutoplay():_.pauseAutoplay()),P=!1,_.params.grabCursor&&(_.container[0].style.cursor="move",_.container[0].style.cursor="-webkit-grabbing",_.container[0].style.cursor="-moz-grabbin",_.container[0].style.cursor="grabbing")),T=!0;var i=_.touches.diff=_.isHorizontal()?_.touches.currentX-_.touches.startX:_.touches.currentY-_.touches.startY;i*=_.params.touchRatio,_.rtl&&(i=-i),_.swipeDirection=i>0?"prev":"next",A=i+O;var o=!0;if(i>0&&A>_.minTranslate()?(o=!1,_.params.resistance&&(A=_.minTranslate()-1+Math.pow(-_.minTranslate()+O+i,_.params.resistanceRatio))):i<0&&A<_.maxTranslate()&&(o=!1,_.params.resistance&&(A=_.maxTranslate()+1-Math.pow(_.maxTranslate()-O-i,_.params.resistanceRatio))),o&&(e.preventedByNestedSwiper=!0),!_.params.allowSwipeToNext&&"next"===_.swipeDirection&&A<O&&(A=O),!_.params.allowSwipeToPrev&&"prev"===_.swipeDirection&&A>O&&(A=O),_.params.followFinger){if(_.params.threshold>0){if(!(Math.abs(i)>_.params.threshold||N))return void(A=O);if(!N)return N=!0,_.touches.startX=_.touches.currentX,_.touches.startY=_.touches.currentY,A=O,void(_.touches.diff=_.isHorizontal()?_.touches.currentX-_.touches.startX:_.touches.currentY-_.touches.startY)}(_.params.freeMode||_.params.watchSlidesProgress)&&_.updateActiveIndex(),_.params.freeMode&&(0===L.length&&L.push({position:_.touches[_.isHorizontal()?"startX":"startY"],time:C}),L.push({position:_.touches[_.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),_.updateProgress(A),_.setWrapperTranslate(A)}}}}}},_.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),S&&_.emit("onTouchEnd",_,e),S=!1,I){_.params.grabCursor&&T&&I&&(_.container[0].style.cursor="move",_.container[0].style.cursor="-webkit-grab",_.container[0].style.cursor="-moz-grab",_.container[0].style.cursor="grab");var n=Date.now(),i=n-C;if(_.allowClick&&(_.updateClickedSlide(e),_.emit("onTap",_,e),i<300&&n-R>300&&(M&&clearTimeout(M),M=setTimeout(function(){_&&(_.params.paginationHide&&_.paginationContainer.length>0&&!t(e.target).hasClass(_.params.bulletClass)&&_.paginationContainer.toggleClass(_.params.paginationHiddenClass),_.emit("onClick",_,e))},300)),i<300&&n-R<300&&(M&&clearTimeout(M),_.emit("onDoubleTap",_,e))),R=Date.now(),setTimeout(function(){_&&(_.allowClick=!0)},0),!I||!T||!_.swipeDirection||0===_.touches.diff||A===O)return void(I=T=!1);I=T=!1;var r;if(r=_.params.followFinger?_.rtl?_.translate:-_.translate:-A,_.params.freeMode){if(r<-_.minTranslate())return void _.slideTo(_.activeIndex);if(r>-_.maxTranslate())return void(_.slides.length<_.snapGrid.length?_.slideTo(_.snapGrid.length-1):_.slideTo(_.slides.length-1));if(_.params.freeModeMomentum){if(L.length>1){var o=L.pop(),s=L.pop(),a=o.position-s.position,l=o.time-s.time;_.velocity=a/l,_.velocity=_.velocity/2,Math.abs(_.velocity)<_.params.freeModeMinimumVelocity&&(_.velocity=0),(l>150||(new window.Date).getTime()-o.time>300)&&(_.velocity=0)}else _.velocity=0;L.length=0;var u=1e3*_.params.freeModeMomentumRatio,c=_.velocity*u,d=_.translate+c;_.rtl&&(d=-d);var h,f=!1,p=20*Math.abs(_.velocity)*_.params.freeModeMomentumBounceRatio;if(d<_.maxTranslate())_.params.freeModeMomentumBounce?(d+_.maxTranslate()<-p&&(d=_.maxTranslate()-p),h=_.maxTranslate(),f=!0,P=!0):d=_.maxTranslate();else if(d>_.minTranslate())_.params.freeModeMomentumBounce?(d-_.minTranslate()>p&&(d=_.minTranslate()+p),h=_.minTranslate(),f=!0,P=!0):d=_.minTranslate();else if(_.params.freeModeSticky){var v,m=0;for(m=0;m<_.snapGrid.length;m+=1)if(_.snapGrid[m]>-d){v=m;break}d=Math.abs(_.snapGrid[v]-d)<Math.abs(_.snapGrid[v-1]-d)||"next"===_.swipeDirection?_.snapGrid[v]:_.snapGrid[v-1],_.rtl||(d=-d)}if(0!==_.velocity)u=_.rtl?Math.abs((-d-_.translate)/_.velocity):Math.abs((d-_.translate)/_.velocity);else if(_.params.freeModeSticky)return void _.slideReset();_.params.freeModeMomentumBounce&&f?(_.updateProgress(h),_.setWrapperTransition(u),_.setWrapperTranslate(d),_.onTransitionStart(),_.animating=!0,_.wrapper.transitionEnd(function(){_&&P&&(_.emit("onMomentumBounce",_),_.setWrapperTransition(_.params.speed),_.setWrapperTranslate(h),_.wrapper.transitionEnd(function(){_&&_.onTransitionEnd()}))})):_.velocity?(_.updateProgress(d),_.setWrapperTransition(u),_.setWrapperTranslate(d),_.onTransitionStart(),_.animating||(_.animating=!0,_.wrapper.transitionEnd(function(){_&&_.onTransitionEnd()}))):_.updateProgress(d),_.updateActiveIndex()}return void((!_.params.freeModeMomentum||i>=_.params.longSwipesMs)&&(_.updateProgress(),_.updateActiveIndex()))}var g,b=0,y=_.slidesSizesGrid[0];for(g=0;g<_.slidesGrid.length;g+=_.params.slidesPerGroup)"undefined"!=typeof _.slidesGrid[g+_.params.slidesPerGroup]?r>=_.slidesGrid[g]&&r<_.slidesGrid[g+_.params.slidesPerGroup]&&(b=g,y=_.slidesGrid[g+_.params.slidesPerGroup]-_.slidesGrid[g]):r>=_.slidesGrid[g]&&(b=g,y=_.slidesGrid[_.slidesGrid.length-1]-_.slidesGrid[_.slidesGrid.length-2]);var w=(r-_.slidesGrid[b])/y;if(i>_.params.longSwipesMs){if(!_.params.longSwipes)return void _.slideTo(_.activeIndex);"next"===_.swipeDirection&&(w>=_.params.longSwipesRatio?_.slideTo(b+_.params.slidesPerGroup):_.slideTo(b)),"prev"===_.swipeDirection&&(w>1-_.params.longSwipesRatio?_.slideTo(b+_.params.slidesPerGroup):_.slideTo(b))}else{if(!_.params.shortSwipes)return void _.slideTo(_.activeIndex);"next"===_.swipeDirection&&_.slideTo(b+_.params.slidesPerGroup),"prev"===_.swipeDirection&&_.slideTo(b)}}},_._slideTo=function(e,t){return _.slideTo(e,t,!0,!0)},_.slideTo=function(e,t,n,i){"undefined"==typeof n&&(n=!0),"undefined"==typeof e&&(e=0),e<0&&(e=0),_.snapIndex=Math.floor(e/_.params.slidesPerGroup),_.snapIndex>=_.snapGrid.length&&(_.snapIndex=_.snapGrid.length-1);var r=-_.snapGrid[_.snapIndex];_.params.autoplay&&_.autoplaying&&(i||!_.params.autoplayDisableOnInteraction?_.pauseAutoplay(t):_.stopAutoplay()),_.updateProgress(r);for(var o=0;o<_.slidesGrid.length;o++)-Math.floor(100*r)>=Math.floor(100*_.slidesGrid[o])&&(e=o);return!(!_.params.allowSwipeToNext&&r<_.translate&&r<_.minTranslate())&&(!(!_.params.allowSwipeToPrev&&r>_.translate&&r>_.maxTranslate()&&(_.activeIndex||0)!==e)&&("undefined"==typeof t&&(t=_.params.speed),_.previousIndex=_.activeIndex||0,_.activeIndex=e,_.rtl&&-r===_.translate||!_.rtl&&r===_.translate?(_.params.autoHeight&&_.updateAutoHeight(),_.updateClasses(),"slide"!==_.params.effect&&_.setWrapperTranslate(r),!1):(_.updateClasses(),_.onTransitionStart(n),0===t?(_.setWrapperTranslate(r),_.setWrapperTransition(0),_.onTransitionEnd(n)):(_.setWrapperTranslate(r),_.setWrapperTransition(t),_.animating||(_.animating=!0,_.wrapper.transitionEnd(function(){_&&_.onTransitionEnd(n)}))),!0)))},_.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),_.params.autoHeight&&_.updateAutoHeight(),_.lazy&&_.lazy.onTransitionStart(),e&&(_.emit("onTransitionStart",_),_.activeIndex!==_.previousIndex&&(_.emit("onSlideChangeStart",_),_.activeIndex>_.previousIndex?_.emit("onSlideNextStart",_):_.emit("onSlidePrevStart",_)))},_.onTransitionEnd=function(e){_.animating=!1,_.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),_.lazy&&_.lazy.onTransitionEnd(),e&&(_.emit("onTransitionEnd",_),_.activeIndex!==_.previousIndex&&(_.emit("onSlideChangeEnd",_),_.activeIndex>_.previousIndex?_.emit("onSlideNextEnd",_):_.emit("onSlidePrevEnd",_))),_.params.hashnav&&_.hashnav&&_.hashnav.setHash()},_.slideNext=function(e,t,n){if(_.params.loop){if(_.animating)return!1;_.fixLoop();_.container[0].clientLeft;return _.slideTo(_.activeIndex+_.params.slidesPerGroup,t,e,n)}return _.slideTo(_.activeIndex+_.params.slidesPerGroup,t,e,n)},_._slideNext=function(e){return _.slideNext(!0,e,!0)},_.slidePrev=function(e,t,n){if(_.params.loop){if(_.animating)return!1;_.fixLoop();_.container[0].clientLeft;return _.slideTo(_.activeIndex-1,t,e,n)}return _.slideTo(_.activeIndex-1,t,e,n)},_._slidePrev=function(e){return _.slidePrev(!0,e,!0)},_.slideReset=function(e,t,n){return _.slideTo(_.activeIndex,t,e)},_.setWrapperTransition=function(e,t){_.wrapper.transition(e),"slide"!==_.params.effect&&_.effects[_.params.effect]&&_.effects[_.params.effect].setTransition(e),_.params.parallax&&_.parallax&&_.parallax.setTransition(e),_.params.scrollbar&&_.scrollbar&&_.scrollbar.setTransition(e),_.params.control&&_.controller&&_.controller.setTransition(e,t),_.emit("onSetTransition",_,e)},_.setWrapperTranslate=function(e,t,n){var i=0,r=0,s=0;_.isHorizontal()?i=_.rtl?-e:e:r=e,_.params.roundLengths&&(i=o(i),r=o(r)),_.params.virtualTranslate||(_.support.transforms3d?_.wrapper.transform("translate3d("+i+"px, "+r+"px, "+s+"px)"):_.wrapper.transform("translate("+i+"px, "+r+"px)")),_.translate=_.isHorizontal()?i:r;var a,l=_.maxTranslate()-_.minTranslate();a=0===l?0:(e-_.minTranslate())/l,a!==_.progress&&_.updateProgress(e),t&&_.updateActiveIndex(),"slide"!==_.params.effect&&_.effects[_.params.effect]&&_.effects[_.params.effect].setTranslate(_.translate),_.params.parallax&&_.parallax&&_.parallax.setTranslate(_.translate),_.params.scrollbar&&_.scrollbar&&_.scrollbar.setTranslate(_.translate),_.params.control&&_.controller&&_.controller.setTranslate(_.translate,n),_.emit("onSetTranslate",_,_.translate)},_.getTranslate=function(e,t){var n,i,r,o;return"undefined"==typeof t&&(t="x"),_.params.virtualTranslate?_.rtl?-_.translate:_.translate:(r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(i=r.transform||r.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),o=new window.WebKitCSSMatrix("none"===i?"":i)):(o=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=window.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),_.rtl&&i&&(i=-i),i||0)},_.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=_.isHorizontal()?"x":"y"),_.getTranslate(_.wrapper[0],e)},_.observers=[],_.initObservers=function(){if(_.params.observeParents)for(var e=_.container.parents(),t=0;t<e.length;t++)l(e[t]);l(_.container[0],{childList:!1}),l(_.wrapper[0],{attributes:!1})},_.disconnectObservers=function(){for(var e=0;e<_.observers.length;e++)_.observers[e].disconnect();_.observers=[]},_.createLoop=function(){_.wrapper.children("."+_.params.slideClass+"."+_.params.slideDuplicateClass).remove();var e=_.wrapper.children("."+_.params.slideClass);"auto"!==_.params.slidesPerView||_.params.loopedSlides||(_.params.loopedSlides=e.length),_.loopedSlides=parseInt(_.params.loopedSlides||_.params.slidesPerView,10),_.loopedSlides=_.loopedSlides+_.params.loopAdditionalSlides,_.loopedSlides>e.length&&(_.loopedSlides=e.length);var n,i=[],r=[];for(e.each(function(n,o){var s=t(this);n<_.loopedSlides&&r.push(o),n<e.length&&n>=e.length-_.loopedSlides&&i.push(o),s.attr("data-swiper-slide-index",n)}),n=0;n<r.length;n++)_.wrapper.append(t(r[n].cloneNode(!0)).addClass(_.params.slideDuplicateClass));for(n=i.length-1;n>=0;n--)_.wrapper.prepend(t(i[n].cloneNode(!0)).addClass(_.params.slideDuplicateClass))},_.destroyLoop=function(){_.wrapper.children("."+_.params.slideClass+"."+_.params.slideDuplicateClass).remove(),_.slides.removeAttr("data-swiper-slide-index")},_.reLoop=function(e){var t=_.activeIndex-_.loopedSlides;_.destroyLoop(),_.createLoop(),_.updateSlidesSize(),e&&_.slideTo(t+_.loopedSlides,0,!1)},_.fixLoop=function(){var e;_.activeIndex<_.loopedSlides?(e=_.slides.length-3*_.loopedSlides+_.activeIndex,e+=_.loopedSlides,_.slideTo(e,0,!1,!0)):("auto"===_.params.slidesPerView&&_.activeIndex>=2*_.loopedSlides||_.activeIndex>_.slides.length-2*_.params.slidesPerView)&&(e=-_.slides.length+_.activeIndex+_.loopedSlides,
e+=_.loopedSlides,_.slideTo(e,0,!1,!0))},_.appendSlide=function(e){if(_.params.loop&&_.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&_.wrapper.append(e[t]);else _.wrapper.append(e);_.params.loop&&_.createLoop(),_.params.observer&&_.support.observer||_.update(!0)},_.prependSlide=function(e){_.params.loop&&_.destroyLoop();var t=_.activeIndex+1;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)e[n]&&_.wrapper.prepend(e[n]);t=_.activeIndex+e.length}else _.wrapper.prepend(e);_.params.loop&&_.createLoop(),_.params.observer&&_.support.observer||_.update(!0),_.slideTo(t,0,!1)},_.removeSlide=function(e){_.params.loop&&(_.destroyLoop(),_.slides=_.wrapper.children("."+_.params.slideClass));var t,n=_.activeIndex;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)t=e[i],_.slides[t]&&_.slides.eq(t).remove(),t<n&&n--;n=Math.max(n,0)}else t=e,_.slides[t]&&_.slides.eq(t).remove(),t<n&&n--,n=Math.max(n,0);_.params.loop&&_.createLoop(),_.params.observer&&_.support.observer||_.update(!0),_.params.loop?_.slideTo(n+_.loopedSlides,0,!1):_.slideTo(n,0,!1)},_.removeAllSlides=function(){for(var e=[],t=0;t<_.slides.length;t++)e.push(t);_.removeSlide(e)},_.effects={fade:{setTranslate:function(){for(var e=0;e<_.slides.length;e++){var t=_.slides.eq(e),n=t[0].swiperSlideOffset,i=-n;_.params.virtualTranslate||(i-=_.translate);var r=0;_.isHorizontal()||(r=i,i=0);var o=_.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:o}).transform("translate3d("+i+"px, "+r+"px, 0px)")}},setTransition:function(e){if(_.slides.transition(e),_.params.virtualTranslate&&0!==e){var t=!1;_.slides.transitionEnd(function(){if(!t&&_){t=!0,_.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<e.length;n++)_.wrapper.trigger(e[n])}})}}},flip:{setTranslate:function(){for(var e=0;e<_.slides.length;e++){var n=_.slides.eq(e),i=n[0].progress;_.params.flip.limitRotation&&(i=Math.max(Math.min(n[0].progress,1),-1));var r=n[0].swiperSlideOffset,o=-180*i,s=o,a=0,l=-r,u=0;if(_.isHorizontal()?_.rtl&&(s=-s):(u=l,l=0,a=-s,s=0),n[0].style.zIndex=-Math.abs(Math.round(i))+_.slides.length,_.params.flip.slideShadows){var c=_.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),d=_.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===c.length&&(c=t('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"left":"top")+'"></div>'),n.append(c)),0===d.length&&(d=t('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"right":"bottom")+'"></div>'),n.append(d)),c.length&&(c[0].style.opacity=Math.max(-i,0)),d.length&&(d[0].style.opacity=Math.max(i,0))}n.transform("translate3d("+l+"px, "+u+"px, 0px) rotateX("+a+"deg) rotateY("+s+"deg)")}},setTransition:function(e){if(_.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),_.params.virtualTranslate&&0!==e){var n=!1;_.slides.eq(_.activeIndex).transitionEnd(function(){if(!n&&_&&t(this).hasClass(_.params.slideActiveClass)){n=!0,_.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<e.length;i++)_.wrapper.trigger(e[i])}})}}},cube:{setTranslate:function(){var e,n=0;_.params.cube.shadow&&(_.isHorizontal()?(e=_.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),_.wrapper.append(e)),e.css({height:_.width+"px"})):(e=_.container.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),_.container.append(e))));for(var i=0;i<_.slides.length;i++){var r=_.slides.eq(i),o=90*i,s=Math.floor(o/360);_.rtl&&(o=-o,s=Math.floor(-o/360));var a=Math.max(Math.min(r[0].progress,1),-1),l=0,u=0,c=0;i%4===0?(l=4*-s*_.size,c=0):(i-1)%4===0?(l=0,c=4*-s*_.size):(i-2)%4===0?(l=_.size+4*s*_.size,c=_.size):(i-3)%4===0&&(l=-_.size,c=3*_.size+4*_.size*s),_.rtl&&(l=-l),_.isHorizontal()||(u=l,l=0);var d="rotateX("+(_.isHorizontal()?0:-o)+"deg) rotateY("+(_.isHorizontal()?o:0)+"deg) translate3d("+l+"px, "+u+"px, "+c+"px)";if(a<=1&&a>-1&&(n=90*i+90*a,_.rtl&&(n=90*-i-90*a)),r.transform(d),_.params.cube.slideShadows){var h=_.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),f=_.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===h.length&&(h=t('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"left":"top")+'"></div>'),r.append(h)),0===f.length&&(f=t('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"right":"bottom")+'"></div>'),r.append(f)),h.length&&(h[0].style.opacity=Math.max(-a,0)),f.length&&(f[0].style.opacity=Math.max(a,0))}}if(_.wrapper.css({"-webkit-transform-origin":"50% 50% -"+_.size/2+"px","-moz-transform-origin":"50% 50% -"+_.size/2+"px","-ms-transform-origin":"50% 50% -"+_.size/2+"px","transform-origin":"50% 50% -"+_.size/2+"px"}),_.params.cube.shadow)if(_.isHorizontal())e.transform("translate3d(0px, "+(_.width/2+_.params.cube.shadowOffset)+"px, "+-_.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+_.params.cube.shadowScale+")");else{var p=Math.abs(n)-90*Math.floor(Math.abs(n)/90),v=1.5-(Math.sin(2*p*Math.PI/360)/2+Math.cos(2*p*Math.PI/360)/2),m=_.params.cube.shadowScale,g=_.params.cube.shadowScale/v,b=_.params.cube.shadowOffset;e.transform("scale3d("+m+", 1, "+g+") translate3d(0px, "+(_.height/2+b)+"px, "+-_.height/2/g+"px) rotateX(-90deg)")}var y=_.isSafari||_.isUiWebView?-_.size/2:0;_.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(_.isHorizontal()?0:n)+"deg) rotateY("+(_.isHorizontal()?-n:0)+"deg)")},setTransition:function(e){_.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),_.params.cube.shadow&&!_.isHorizontal()&&_.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=_.translate,n=_.isHorizontal()?-e+_.width/2:-e+_.height/2,i=_.isHorizontal()?_.params.coverflow.rotate:-_.params.coverflow.rotate,r=_.params.coverflow.depth,o=0,s=_.slides.length;o<s;o++){var a=_.slides.eq(o),l=_.slidesSizesGrid[o],u=a[0].swiperSlideOffset,c=(n-u-l/2)/l*_.params.coverflow.modifier,d=_.isHorizontal()?i*c:0,h=_.isHorizontal()?0:i*c,f=-r*Math.abs(c),p=_.isHorizontal()?0:_.params.coverflow.stretch*c,v=_.isHorizontal()?_.params.coverflow.stretch*c:0;Math.abs(v)<.001&&(v=0),Math.abs(p)<.001&&(p=0),Math.abs(f)<.001&&(f=0),Math.abs(d)<.001&&(d=0),Math.abs(h)<.001&&(h=0);var m="translate3d("+v+"px,"+p+"px,"+f+"px)  rotateX("+h+"deg) rotateY("+d+"deg)";if(a.transform(m),a[0].style.zIndex=-Math.abs(Math.round(c))+1,_.params.coverflow.slideShadows){var g=_.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),b=_.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===g.length&&(g=t('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"left":"top")+'"></div>'),a.append(g)),0===b.length&&(b=t('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"right":"bottom")+'"></div>'),a.append(b)),g.length&&(g[0].style.opacity=c>0?c:0),b.length&&(b[0].style.opacity=-c>0?-c:0)}}if(_.browser.ie){var y=_.wrapper[0].style;y.perspectiveOrigin=n+"px 50%"}},setTransition:function(e){_.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},_.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,n){if("undefined"!=typeof e&&("undefined"==typeof n&&(n=!0),0!==_.slides.length)){var i=_.slides.eq(e),r=i.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!i.hasClass("swiper-lazy")||i.hasClass("swiper-lazy-loaded")||i.hasClass("swiper-lazy-loading")||(r=r.add(i[0])),0!==r.length&&r.each(function(){var e=t(this);e.addClass("swiper-lazy-loading");var r=e.attr("data-background"),o=e.attr("data-src"),s=e.attr("data-srcset");_.loadImage(e[0],o||r,s,!1,function(){if(r?(e.css("background-image",'url("'+r+'")'),e.removeAttr("data-background")):(s&&(e.attr("srcset",s),e.removeAttr("data-srcset")),o&&(e.attr("src",o),e.removeAttr("data-src"))),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),i.find(".swiper-lazy-preloader, .preloader").remove(),_.params.loop&&n){var t=i.attr("data-swiper-slide-index");if(i.hasClass(_.params.slideDuplicateClass)){var a=_.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+_.params.slideDuplicateClass+")");_.lazy.loadImageInSlide(a.index(),!1)}else{var l=_.wrapper.children("."+_.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');_.lazy.loadImageInSlide(l.index(),!1)}}_.emit("onLazyImageReady",_,i[0],e[0])}),_.emit("onLazyImageLoad",_,i[0],e[0])})}},load:function(){var e;if(_.params.watchSlidesVisibility)_.wrapper.children("."+_.params.slideVisibleClass).each(function(){_.lazy.loadImageInSlide(t(this).index())});else if(_.params.slidesPerView>1)for(e=_.activeIndex;e<_.activeIndex+_.params.slidesPerView;e++)_.slides[e]&&_.lazy.loadImageInSlide(e);else _.lazy.loadImageInSlide(_.activeIndex);if(_.params.lazyLoadingInPrevNext)if(_.params.slidesPerView>1||_.params.lazyLoadingInPrevNextAmount&&_.params.lazyLoadingInPrevNextAmount>1){var n=_.params.lazyLoadingInPrevNextAmount,i=_.params.slidesPerView,r=Math.min(_.activeIndex+i+Math.max(n,i),_.slides.length),o=Math.max(_.activeIndex-Math.max(i,n),0);for(e=_.activeIndex+_.params.slidesPerView;e<r;e++)_.slides[e]&&_.lazy.loadImageInSlide(e);for(e=o;e<_.activeIndex;e++)_.slides[e]&&_.lazy.loadImageInSlide(e)}else{var s=_.wrapper.children("."+_.params.slideNextClass);s.length>0&&_.lazy.loadImageInSlide(s.index());var a=_.wrapper.children("."+_.params.slidePrevClass);a.length>0&&_.lazy.loadImageInSlide(a.index())}},onTransitionStart:function(){_.params.lazyLoading&&(_.params.lazyLoadingOnTransitionStart||!_.params.lazyLoadingOnTransitionStart&&!_.lazy.initialImageLoaded)&&_.lazy.load()},onTransitionEnd:function(){_.params.lazyLoading&&!_.params.lazyLoadingOnTransitionStart&&_.lazy.load()}},_.scrollbar={isTouched:!1,setDragPosition:function(e){var t=_.scrollbar,n=_.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,i=n-t.track.offset()[_.isHorizontal()?"left":"top"]-t.dragSize/2,r=-_.minTranslate()*t.moveDivider,o=-_.maxTranslate()*t.moveDivider;i<r?i=r:i>o&&(i=o),i=-i/t.moveDivider,_.updateProgress(i),_.setWrapperTranslate(i,!0)},dragStart:function(e){var t=_.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),_.params.scrollbarHide&&t.track.css("opacity",1),_.wrapper.transition(100),t.drag.transition(100),_.emit("onScrollbarDragStart",_)},dragMove:function(e){var t=_.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),_.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),_.emit("onScrollbarDragMove",_))},dragEnd:function(e){var t=_.scrollbar;t.isTouched&&(t.isTouched=!1,_.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),_.emit("onScrollbarDragEnd",_),_.params.scrollbarSnapOnRelease&&_.slideReset())},enableDraggable:function(){var e=_.scrollbar,n=_.support.touch?e.track:document;t(e.track).on(_.touchEvents.start,e.dragStart),t(n).on(_.touchEvents.move,e.dragMove),t(n).on(_.touchEvents.end,e.dragEnd)},disableDraggable:function(){var e=_.scrollbar,n=_.support.touch?e.track:document;t(e.track).off(_.touchEvents.start,e.dragStart),t(n).off(_.touchEvents.move,e.dragMove),t(n).off(_.touchEvents.end,e.dragEnd)},set:function(){if(_.params.scrollbar){var e=_.scrollbar;e.track=t(_.params.scrollbar),_.params.uniqueNavElements&&"string"==typeof _.params.scrollbar&&e.track.length>1&&1===_.container.find(_.params.scrollbar).length&&(e.track=_.container.find(_.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=t('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=_.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=_.size/_.virtualSize,e.moveDivider=e.divider*(e.trackSize/_.size),e.dragSize=e.trackSize*e.divider,_.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",_.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(_.params.scrollbar){var e,t=_.scrollbar,n=(_.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*_.progress,_.rtl&&_.isHorizontal()?(e=-e,e>0?(n=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(n=t.trackSize+e)):e<0?(n=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(n=t.trackSize-e),_.isHorizontal()?(_.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=n+"px"):(_.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=n+"px"),_.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){_.params.scrollbar&&_.scrollbar.drag.transition(e)}},_.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var n,i;this.x.length;this.interpolate=function(e){return e?(i=r(this.x,e),n=i-1,(e-this.x[n])*(this.y[i]-this.y[n])/(this.x[i]-this.x[n])+this.y[n]):0};var r=function(){var e,t,n;return function(i,r){for(t=-1,e=i.length;e-t>1;)i[n=e+t>>1]<=r?t=n:e=n;return e}}()},getInterpolateFunction:function(e){_.controller.spline||(_.controller.spline=_.params.loop?new _.controller.LinearSpline(_.slidesGrid,e.slidesGrid):new _.controller.LinearSpline(_.snapGrid,e.snapGrid))},setTranslate:function(e,t){function i(t){e=t.rtl&&"horizontal"===t.params.direction?-_.translate:_.translate,"slide"===_.params.controlBy&&(_.controller.getInterpolateFunction(t),o=-_.controller.spline.interpolate(-e)),o&&"container"!==_.params.controlBy||(r=(t.maxTranslate()-t.minTranslate())/(_.maxTranslate()-_.minTranslate()),o=(e-_.minTranslate())*r+t.minTranslate()),_.params.controlInverse&&(o=t.maxTranslate()-o),t.updateProgress(o),t.setWrapperTranslate(o,!1,_),t.updateActiveIndex()}var r,o,s=_.params.control;if(_.isArray(s))for(var a=0;a<s.length;a++)s[a]!==t&&s[a]instanceof n&&i(s[a]);else s instanceof n&&t!==s&&i(s)},setTransition:function(e,t){function i(t){t.setWrapperTransition(e,_),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){o&&(t.params.loop&&"slide"===_.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var r,o=_.params.control;if(_.isArray(o))for(r=0;r<o.length;r++)o[r]!==t&&o[r]instanceof n&&i(o[r]);else o instanceof n&&t!==o&&i(o)}},_.hashnav={init:function(){if(_.params.hashnav){_.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,n=0,i=_.slides.length;n<i;n++){var r=_.slides.eq(n),o=r.attr("data-hash");if(o===e&&!r.hasClass(_.params.slideDuplicateClass)){var s=r.index();_.slideTo(s,t,_.params.runCallbacksOnInit,!0)}}}},setHash:function(){_.hashnav.initialized&&_.params.hashnav&&(document.location.hash=_.slides.eq(_.activeIndex).attr("data-hash")||"")}},_.disableKeyboardControl=function(){_.params.keyboardControl=!1,t(document).off("keydown",u)},_.enableKeyboardControl=function(){_.params.keyboardControl=!0,t(document).on("keydown",u)},_.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},_.params.mousewheelControl){try{new window.WheelEvent("wheel"),_.mousewheel.event="wheel"}catch(B){(window.WheelEvent||_.container[0]&&"wheel"in _.container[0])&&(_.mousewheel.event="wheel")}!_.mousewheel.event&&window.WheelEvent,_.mousewheel.event||void 0===document.onmousewheel||(_.mousewheel.event="mousewheel"),_.mousewheel.event||(_.mousewheel.event="DOMMouseScroll")}_.disableMousewheelControl=function(){return!!_.mousewheel.event&&(_.container.off(_.mousewheel.event,c),!0)},_.enableMousewheelControl=function(){return!!_.mousewheel.event&&(_.container.on(_.mousewheel.event,c),!0)},_.parallax={setTranslate:function(){_.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,_.progress)}),_.slides.each(function(){var e=t(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);d(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=_.params.speed),_.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=t(this),i=parseInt(n.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),n.transition(i)})}},_._plugins=[];for(var V in _.plugins){var H=_.plugins[V](_,_.params[V]);H&&_._plugins.push(H)}return _.callPlugins=function(e){for(var t=0;t<_._plugins.length;t++)e in _._plugins[t]&&_._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},_.emitterEventListeners={},_.emit=function(e){_.params[e]&&_.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(_.emitterEventListeners[e])for(t=0;t<_.emitterEventListeners[e].length;t++)_.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);_.callPlugins&&_.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},_.on=function(e,t){return e=h(e),_.emitterEventListeners[e]||(_.emitterEventListeners[e]=[]),_.emitterEventListeners[e].push(t),_},_.off=function(e,t){var n;if(e=h(e),"undefined"==typeof t)return _.emitterEventListeners[e]=[],_;if(_.emitterEventListeners[e]&&0!==_.emitterEventListeners[e].length){for(n=0;n<_.emitterEventListeners[e].length;n++)_.emitterEventListeners[e][n]===t&&_.emitterEventListeners[e].splice(n,1);return _}},_.once=function(e,t){e=h(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),_.off(e,n)};return _.on(e,n),_},_.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(t(e.target).is(_.params.nextButton)?(_.onClickNext(e),_.isEnd?_.a11y.notify(_.params.lastSlideMessage):_.a11y.notify(_.params.nextSlideMessage)):t(e.target).is(_.params.prevButton)&&(_.onClickPrev(e),_.isBeginning?_.a11y.notify(_.params.firstSlideMessage):_.a11y.notify(_.params.prevSlideMessage)),t(e.target).is("."+_.params.bulletClass)&&t(e.target)[0].click())},liveRegion:t('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=_.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){_.params.nextButton&&_.nextButton&&_.nextButton.length>0&&(_.a11y.makeFocusable(_.nextButton),_.a11y.addRole(_.nextButton,"button"),_.a11y.addLabel(_.nextButton,_.params.nextSlideMessage)),_.params.prevButton&&_.prevButton&&_.prevButton.length>0&&(_.a11y.makeFocusable(_.prevButton),_.a11y.addRole(_.prevButton,"button"),_.a11y.addLabel(_.prevButton,_.params.prevSlideMessage)),t(_.container).append(_.a11y.liveRegion)},initPagination:function(){_.params.pagination&&_.params.paginationClickable&&_.bullets&&_.bullets.length&&_.bullets.each(function(){var e=t(this);_.a11y.makeFocusable(e),_.a11y.addRole(e,"button"),_.a11y.addLabel(e,_.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){_.a11y.liveRegion&&_.a11y.liveRegion.length>0&&_.a11y.liveRegion.remove()}},_.init=function(){_.params.loop&&_.createLoop(),_.updateContainerSize(),_.updateSlidesSize(),_.updatePagination(),_.params.scrollbar&&_.scrollbar&&(_.scrollbar.set(),_.params.scrollbarDraggable&&_.scrollbar.enableDraggable()),"slide"!==_.params.effect&&_.effects[_.params.effect]&&(_.params.loop||_.updateProgress(),_.effects[_.params.effect].setTranslate()),_.params.loop?_.slideTo(_.params.initialSlide+_.loopedSlides,0,_.params.runCallbacksOnInit):(_.slideTo(_.params.initialSlide,0,_.params.runCallbacksOnInit),0===_.params.initialSlide&&(_.parallax&&_.params.parallax&&_.parallax.setTranslate(),_.lazy&&_.params.lazyLoading&&(_.lazy.load(),_.lazy.initialImageLoaded=!0))),_.attachEvents(),_.params.observer&&_.support.observer&&_.initObservers(),_.params.preloadImages&&!_.params.lazyLoading&&_.preloadImages(),_.params.autoplay&&_.startAutoplay(),_.params.keyboardControl&&_.enableKeyboardControl&&_.enableKeyboardControl(),_.params.mousewheelControl&&_.enableMousewheelControl&&_.enableMousewheelControl(),_.params.hashnav&&_.hashnav&&_.hashnav.init(),_.params.a11y&&_.a11y&&_.a11y.init(),_.emit("onInit",_)},_.cleanupStyles=function(){_.container.removeClass(_.classNames.join(" ")).removeAttr("style"),_.wrapper.removeAttr("style"),_.slides&&_.slides.length&&_.slides.removeClass([_.params.slideVisibleClass,_.params.slideActiveClass,_.params.slideNextClass,_.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),_.paginationContainer&&_.paginationContainer.length&&_.paginationContainer.removeClass(_.params.paginationHiddenClass),_.bullets&&_.bullets.length&&_.bullets.removeClass(_.params.bulletActiveClass),_.params.prevButton&&t(_.params.prevButton).removeClass(_.params.buttonDisabledClass),_.params.nextButton&&t(_.params.nextButton).removeClass(_.params.buttonDisabledClass),_.params.scrollbar&&_.scrollbar&&(_.scrollbar.track&&_.scrollbar.track.length&&_.scrollbar.track.removeAttr("style"),_.scrollbar.drag&&_.scrollbar.drag.length&&_.scrollbar.drag.removeAttr("style"))},_.destroy=function(e,t){_.detachEvents(),_.stopAutoplay(),_.params.scrollbar&&_.scrollbar&&_.params.scrollbarDraggable&&_.scrollbar.disableDraggable(),_.params.loop&&_.destroyLoop(),t&&_.cleanupStyles(),_.disconnectObservers(),_.params.keyboardControl&&_.disableKeyboardControl&&_.disableKeyboardControl(),_.params.mousewheelControl&&_.disableMousewheelControl&&_.disableMousewheelControl(),_.params.a11y&&_.a11y&&_.a11y.destroy(),_.emit("onDestroy"),e!==!1&&(_=null)},_.init(),_}};n.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),i=e.match(/(iPod)(.*OS\s([\d_]+))?/),r=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||r||i,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var i=(function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++)t[n]=e[n];return t.length=e.length,this},t=function(t,n){var i=[],r=0;if(t&&!n&&t instanceof e)return t;if(t)if("string"==typeof t){var o,s,a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var l="div";for(0===a.indexOf("<li")&&(l="ul"),0===a.indexOf("<tr")&&(l="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(l="tr"),0===a.indexOf("<tbody")&&(l="table"),0===a.indexOf("<option")&&(l="select"),s=document.createElement(l),s.innerHTML=t,r=0;r<s.childNodes.length;r++)i.push(s.childNodes[r])}else for(o=n||"#"!==t[0]||t.match(/[ .<>:~]/)?(n||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],r=0;r<o.length;r++)o[r]&&i.push(o[r])}else if(t.nodeType||t===window||t===document)i.push(t);else if(t.length>0&&t[0].nodeType)for(r=0;r<t.length;r++)i.push(t[r]);return new e(i)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.remove(t[n]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.toggle(t[n]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if("undefined"!=typeof t){for(var n=0;n<this.length;n++){var i=this[n];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[e]=t}return this}if(this[0]){var r=this[0].getAttribute("data-"+e);return r?r:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,i,r){function o(e){var r=e.target;if(t(r).is(n))i.call(r,e);else for(var o=t(r).parents(),s=0;s<o.length;s++)t(o[s]).is(n)&&i.call(o[s],e)}var s,a,l=e.split(" ");for(s=0;s<this.length;s++)if("function"==typeof n||n===!1)for("function"==typeof n&&(i=arguments[1],r=arguments[2]||!1),a=0;a<l.length;a++)this[s].addEventListener(l[a],i,r);else for(a=0;a<l.length;a++)this[s].dom7LiveListeners||(this[s].dom7LiveListeners=[]),this[s].dom7LiveListeners.push({listener:i,liveListener:o}),this[s].addEventListener(l[a],o,r);return this},off:function(e,t,n,i){for(var r=e.split(" "),o=0;o<r.length;o++)for(var s=0;s<this.length;s++)if("function"==typeof t||t===!1)"function"==typeof t&&(n=arguments[1],i=arguments[2]||!1),this[s].removeEventListener(r[o],n,i);else if(this[s].dom7LiveListeners)for(var a=0;a<this[s].dom7LiveListeners.length;a++)this[s].dom7LiveListeners[a].listener===n&&this[s].removeEventListener(r[o],this[s].dom7LiveListeners[a].liveListener,i);return this},once:function(e,t,n,i){function r(s){n(s),o.off(e,t,r,i)}var o=this;"function"==typeof t&&(t=!1,n=arguments[1],i=arguments[2]),o.on(e,t,r,i)},trigger:function(e,t){for(var n=0;n<this.length;n++){var i;try{i=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(r){i=document.createEvent("Event"),i.initEvent(e,!0,!0),i.detail=t}this[n].dispatchEvent(i)}return this},transitionEnd:function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<i.length;n++)r.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(n=0;n<i.length;n++)r.on(i[n],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),n=document.body,i=e.clientTop||n.clientTop||0,r=e.clientLeft||n.clientLeft||0,o=window.pageYOffset||e.scrollTop,s=window.pageXOffset||e.scrollLeft;return{top:t.top+o-i,left:t.left+s-r}}return null},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n++)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n++)this[n].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(n){if(!this[0])return!1;var i,r;if("string"==typeof n){var o=this[0];if(o===document)return n===document;if(o===window)return n===window;if(o.matches)return o.matches(n);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(n);if(o.mozMatchesSelector)return o.mozMatchesSelector(n);if(o.msMatchesSelector)return o.msMatchesSelector(n);for(i=t(n),r=0;r<i.length;r++)if(i[r]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof e){for(i=n.nodeType?[n]:n,r=0;r<i.length;r++)if(i[r]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if("undefined"==typeof t)return this;var n,i=this.length;return t>i-1?new e([]):t<0?(n=i+t,new e(n<0?[]:[this[n]])):new e([this[t]])},append:function(t){var n,i;for(n=0;n<this.length;n++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t;r.firstChild;)this[n].appendChild(r.firstChild)}else if(t instanceof e)for(i=0;i<t.length;i++)this[n].appendChild(t[i]);else this[n].appendChild(t);return this},prepend:function(t){var n,i;for(n=0;n<this.length;n++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t,i=r.childNodes.length-1;i>=0;i--)this[n].insertBefore(r.childNodes[i],this[n].childNodes[0])}else if(t instanceof e)for(i=0;i<t.length;i++)this[n].insertBefore(t[i],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},insertBefore:function(e){for(var n=t(e),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0]);else if(n.length>1)for(var r=0;r<n.length;r++)n[r].parentNode.insertBefore(this[i].cloneNode(!0),n[r])},insertAfter:function(e){for(var n=t(e),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0].nextSibling);else if(n.length>1)for(var r=0;r<n.length;r++)n[r].parentNode.insertBefore(this[i].cloneNode(!0),n[r].nextSibling)},next:function(n){return new e(this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[]);
},nextAll:function(n){var i=[],r=this[0];if(!r)return new e([]);for(;r.nextElementSibling;){var o=r.nextElementSibling;n?t(o).is(n)&&i.push(o):i.push(o),r=o}return new e(i)},prev:function(n){return new e(this.length>0?n?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var i=[],r=this[0];if(!r)return new e([]);for(;r.previousElementSibling;){var o=r.previousElementSibling;n?t(o).is(n)&&i.push(o):i.push(o),r=o}return new e(i)},parent:function(e){for(var n=[],i=0;i<this.length;i++)e?t(this[i].parentNode).is(e)&&n.push(this[i].parentNode):n.push(this[i].parentNode);return t(t.unique(n))},parents:function(e){for(var n=[],i=0;i<this.length;i++)for(var r=this[i].parentNode;r;)e?t(r).is(e)&&n.push(r):n.push(r),r=r.parentNode;return t(t.unique(n))},find:function(t){for(var n=[],i=0;i<this.length;i++)for(var r=this[i].querySelectorAll(t),o=0;o<r.length;o++)n.push(r[o]);return new e(n)},children:function(n){for(var i=[],r=0;r<this.length;r++)for(var o=this[r].childNodes,s=0;s<o.length;s++)n?1===o[s].nodeType&&t(o[s]).is(n)&&i.push(o[s]):1===o[s].nodeType&&i.push(o[s]);return new e(t.unique(i))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,n,i=this;for(e=0;e<arguments.length;e++){var r=t(arguments[e]);for(n=0;n<r.length;n++)i[i.length]=r[n],i.length++}return i}},t.fn=e.prototype,t.unique=function(e){for(var t=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t},t}()),r=["jQuery","Zepto","Dom7"],o=0;o<r.length;o++)window[r[o]]&&e(window[r[o]]);var s;s="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i,s&&("transitionEnd"in s.fn||(s.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<i.length;n++)r.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(n=0;n<i.length;n++)r.on(i[n],t);return this}),"transform"in s.fn||(s.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in s.fn||(s.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this})),window.Swiper=n}(),"undefined"!=typeof t?t.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper})},{}],325:[function(require,module,exports){var timeago=function(){var o={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},obj={};return obj.ago=function(e){var t,n=Math.round,r=function(e,t){return t+" "+e+(t>1?"s":"")+" ago"},s=(new Date).getTime()-new Date(e).getTime();for(i in o){if(n(s)<o[i])return r(t||"m",n(s/(o[t]||1)));t=i}return r(i,n(s/o[i]))},obj.today=function(){var e=new Date,t=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),n=new Array("January","February","March","April","May","June","July","August","September","October","November","December");return t[e.getDay()]+", "+n[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},obj.timefriendly=function(s){var t=s.match(/(\d).([a-z]*?)s?$/);return t[1]*eval(o[t[2]])},obj.mintoread=function(e,t,n){var i=Math.round(e.split(" ").length/(n||200));return(i||"< 1")+(t||" min to read")},obj};"undefined"!=typeof module&&module.exports&&(module.exports=timeago)},{}],326:[function(e,t,n){function i(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=i,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],327:[function(e,t,n){(function(e){var i=i||function(){var e=[];return{getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)},update:function(t,n){if(0===e.length)return!1;var r=0;for(t=void 0!==t?t:i.now();r<e.length;)e[r].update(t)||n?r++:e.splice(r,1);return!0}}}();!function(){void 0===this.window&&void 0!==this.process?i.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e3}:void 0!==this.window&&void 0!==window.performance&&void 0!==window.performance.now?i.now=window.performance.now.bind(window.performance):void 0!==Date.now?i.now=Date.now:i.now=function(){return(new Date).getTime()}}(),i.Tween=function(e){var t=e,n={},r={},o={},s=1e3,a=0,l=!1,u=!1,c=!1,d=0,h=null,f=i.Easing.Linear.None,p=i.Interpolation.Linear,v=[],m=null,g=!1,b=null,y=null,_=null;for(var w in e)n[w]=parseFloat(e[w],10);this.to=function(e,t){return void 0!==t&&(s=t),r=e,this},this.start=function(e){i.add(this),u=!0,g=!1,h=void 0!==e?e:i.now(),h+=d;for(var s in r){if(r[s]instanceof Array){if(0===r[s].length)continue;r[s]=[t[s]].concat(r[s])}void 0!==n[s]&&(n[s]=t[s],n[s]instanceof Array==!1&&(n[s]*=1),o[s]=n[s]||0)}return this},this.stop=function(){return u?(i.remove(this),u=!1,null!==_&&_.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=v.length;e<t;e++)v[e].stop()},this.delay=function(e){return d=e,this},this.repeat=function(e){return a=e,this},this.yoyo=function(e){return l=e,this},this.easing=function(e){return f=e,this},this.interpolation=function(e){return p=e,this},this.chain=function(){return v=arguments,this},this.onStart=function(e){return m=e,this},this.onUpdate=function(e){return b=e,this},this.onComplete=function(e){return y=e,this},this.onStop=function(e){return _=e,this},this.update=function(e){var i,u,_;if(e<h)return!0;g===!1&&(null!==m&&m.call(t),g=!0),u=(e-h)/s,u=u>1?1:u,_=f(u);for(i in r)if(void 0!==n[i]){var w=n[i]||0,E=r[i];E instanceof Array?t[i]=p(E,_):("string"==typeof E&&(E="+"===E.charAt(0)||"-"===E.charAt(0)?w+parseFloat(E,10):parseFloat(E,10)),"number"==typeof E&&(t[i]=w+(E-w)*_))}if(null!==b&&b.call(t,_),1===u){if(a>0){isFinite(a)&&a--;for(i in o){if("string"==typeof r[i]&&(o[i]=o[i]+parseFloat(r[i],10)),l){var I=o[i];o[i]=r[i],r[i]=I}n[i]=o[i]}return l&&(c=!c),h=e+d,!0}null!==y&&y.call(t);for(var T=0,S=v.length;T<S;T++)v[T].start(h+s);return!1}return!0}},i.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-i.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*i.Easing.Bounce.In(2*e):.5*i.Easing.Bounce.Out(2*e-1)+.5}}},i.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),s=i.Interpolation.Utils.Linear;return t<0?s(e[0],e[1],r):t>1?s(e[n],e[n-1],n-r):s(e[o],e[o+1>n?n:o+1],r-o)},Bezier:function(e,t){for(var n=0,r=e.length-1,o=Math.pow,s=i.Interpolation.Utils.Bernstein,a=0;a<=r;a++)n+=o(1-t,r-a)*o(t,a)*e[a]*s(r,a);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),s=i.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(r=n*(1+t))),s(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],r-o)):t<0?e[0]-(s(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(s(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):s(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],r-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=i.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var i=t;i>1;i--)n*=i;return e[t]=n,n}}(),CatmullRom:function(e,t,n,i,r){var o=.5*(n-e),s=.5*(i-t),a=r*r,l=r*a;return(2*t-2*n+o+s)*l+(-3*t+3*n-2*o-s)*a+o*r+t}}},function(e){"function"==typeof define&&define.amd?define([],function(){return i}):"undefined"!=typeof t&&"object"==typeof n?t.exports=i:void 0!==e&&(e.TWEEN=i)}(this)}).call(this,e("_process"))},{_process:24}],328:[function(e,t,n){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader;return t.readAsArrayBuffer(e),s(t)}function l(e){var t=new FileReader;return t.readAsText(e),s(t)}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob?(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=o(this);return e?e:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(d.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function f(e){var t=new r,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),i=n.shift().trim(),r=n.join(":").trim();t.append(i,r)}),t}function p(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};r.prototype.append=function(e,i){e=t(e),i=n(i);var r=this.map[e];r||(r=[],this.map[e]=r),r.push(i)},r.prototype["delete"]=function(e){delete this.map[t(e)]},r.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},r.prototype.getAll=function(e){return this.map[t(e)]||[]},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,i){this.map[t(e)]=[n(i)]},r.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(i){e.call(t,i,n,this)},this)},this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),i(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),i(e)},v.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this)},u.call(d.prototype),u.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];p.redirect=function(e,t){if(g.indexOf(t)===-1)throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=d,e.Response=p,e.fetch=function(e,t){return new Promise(function(n,i){function r(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var o;o=d.prototype.isPrototypeOf(e)&&!t?e:new d(e,t);var s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:f(s),url:r()},t="response"in s?s.response:s.responseText;n(new p(t,e))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&v.blob&&(s.responseType="blob"),o.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],329:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<e.length;n++)t(e[n])}function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,n){var i=e;return d(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=f(t,{uri:e}),i.callback=n,i}function s(e,t,n){return t=o(e,t,n),a(t)}function a(e){function t(){4===d.readyState&&o()}function n(){var e=void 0;if(e=d.response?d.response:d.responseText||l(d),w)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(v),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,u(e,c)}function o(){if(!p){var t;clearTimeout(v),t=e.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var i=c,r=null;return 0!==t?(i={body:n(),statusCode:t,method:g,headers:{},url:m,rawRequest:d},d.getAllResponseHeaders&&(i.headers=h(d.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),u(r,i,i.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var a=!1,u=function(t,n,i){a||(a=!0,e.callback(t,n,i))},c={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:d},d=e.xhr||null;d||(d=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var f,p,v,m=d.url=e.uri||e.url,g=d.method=e.method||"GET",b=e.body||e.data||null,y=d.headers=e.headers||{},_=!!e.sync,w=!1;if("json"in e&&(w=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),b=JSON.stringify(e.json))),d.onreadystatechange=t,d.onload=o,d.onerror=i,d.onprogress=function(){},d.ontimeout=i,d.open(g,m,!_,e.username,e.password),_||(d.withCredentials=!!e.withCredentials),!_&&e.timeout>0&&(v=setTimeout(function(){p=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)},e.timeout)),d.setRequestHeader)for(f in y)y.hasOwnProperty(f)&&d.setRequestHeader(f,y[f]);else if(e.headers&&!r(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(d),d.send(b),d}function l(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function u(){}var c=e("global/window"),d=e("is-function"),h=e("parse-headers"),f=e("xtend");t.exports=s,s.XMLHttpRequest=c.XMLHttpRequest||u,s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:c.XDomainRequest,i(["get","put","post","patch","head","delete"],function(e){s["delete"===e?"del":e]=function(t,n,i){return n=o(t,n,i),n.method=e.toUpperCase(),a(n)}})},{"global/window":34,"is-function":35,"parse-headers":298,xtend:330}],330:[function(e,t,n){function i(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}t.exports=i;var r=Object.prototype.hasOwnProperty},{}],331:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("lodash.assignin"),a=i(s),l=e("views/AppView"),u=i(l),c=e("router/AppRouter"),d=i(c),h=e("models/AppModel"),f=i(h),p=e("common/UrlHelper"),v=i(p),m=e("common/Channel"),g=i(m),b=e("common/Constants"),y=i(b),_=function(){function e(){r(this,e)}return o(e,[{key:"start",value:function(){this.removeGlobalErrorHandler();var e=u["default"].getInstance(),t=d["default"].getInstance(),n=f["default"].getInstance(JSON.parse(e.el.getAttribute("data-app-model")));v["default"].setup(),(0,a["default"])(window,{appView:e,appRouter:t,appModel:n,Constants:y["default"],Channel:g["default"]}),t.start()}},{key:"removeGlobalErrorHandler",value:function(){clearTimeout(window.DM_APP_ERROR.timer),window.removeEventListener("error",window.DM_APP_ERROR.errorFn,!1)}}]),e}();n["default"]=_},{"common/Channel":335,"common/Constants":336,"common/UrlHelper":346,"lodash.assignin":42,"models/AppModel":350,"router/AppRouter":354,"views/AppView":361}],332:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=e("./App"),o=i(r),s=new o["default"];s.start()},{"./App":331}],333:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=(i(r),e("ampersand-collection")),s=i(o),a=e("models/SearchResultModel"),l=i(a),u=s["default"].extend({model:l["default"],constructor:function(){u.__super__.constructor.apply(this)}});n["default"]=u},{"ampersand-collection":11,"lodash.assign":41,"models/SearchResultModel":353}],334:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=5,r={page:function(e){var t=[e],n=["send","pageview"];r._send(n.concat(t))},action:function(e,t,n){var i=[e,t,n],o=["send","event"];r._send(o.concat(i))},_send:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?1:arguments[1];window.ga&&window.ga.loaded?window.ga.apply(null,e):t<=i&&setTimeout(r._send.bind(null,e,t+1),1e3)}};n["default"]=r},{}],335:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=i(r),s=e("ampersand-events"),a=i(s),l=a["default"].createEmitter(),u={request:function(e){if(this._requests&&this._requests[e]){var t=this._requests[e];return t.callback.call(t.context)}},reply:function(e,t,n){return this._requests||(this._requests={}),this._requests[e]={callback:t,context:n||this},this},stopReplying:function(e,t,n){return e||t||n?delete this._requests[e]:delete this._requests,this}},c=(0,o["default"])(l,u);n["default"]=c},{"ampersand-events":14,"lodash.assign":41}],336:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={};i.EVENT_SCROLL="EVENT_SCROLL",i.EVENT_SCROLL_END="EVENT_SCROLL_END",i.EVENT_RESIZE="EVENT_RESIZE",i.EVENT_BREAKPOINT_CHANGE="EVENT_BREAKPOINT_CHANGE",i.EVENT_APP_START="EVENT_APP_START",i.EVENT_CHANGE_VIEW_START="EVENT_CHANGE_VIEW_START",i.EVENT_CHANGE_VIEW_COMPLETE="EVENT_CHANGE_VIEW_COMPLETE",i.EVENT_CHANGE_PARTIAL_VIEW="EVENT_CHANGE_PARTIAL_VIEW",i.EVENT_UPDATE_SCROLL_ITEMS="EVENT_UPDATE_SCROLL_ITEMS",i.EVENT_HASH_CHANGED="EVENT_HASH_CHANGED",i.EVENT_ANCHOR_CHANGED="EVENT_ANCHOR_CHANGED",i.EVENT_PAGE_LOAD_START="EVENT_PAGE_LOAD_START",i.EVENT_PAGE_LOAD_PROGRESS="EVENT_PAGE_LOAD_PROGRESS",i.EVENT_PAGE_LOAD_END="EVENT_PAGE_LOAD_END",i.EVENT_PAGE_LOAD_ABORT="EVENT_PAGE_LOAD_ABORT",i.EVENT_PAGE_LOAD_ERROR="EVENT_PAGE_LOAD_ERROR",i.EVENT_SHOW_GLOBAL_LOADING="EVENT_SHOW_GLOBAL_LOADING",i.EVENT_HIDE_GLOBAL_LOADING="EVENT_HIDE_GLOBAL_LOADING",i.SCROLL_THROTTLE=25,i.SCROLL_END_THROTTLE=50,i.SCROLL_THRESHOLD=.85,i.SCROLL_SHOW_TIMEOUT=300,i.RESIZE_DEBOUNCE=250,i.RESIZE_CHANGE_THRESHOLD=100,i.SCROLL_ITEM_SELECTOR="data-scroll-item",i.SCROLL_ITEM_SHOW="show",i.SCROLL_ITEM_EVENT="data-scroll-item-event",i.SLIDER_SLIDE_SPEED=350,i.SLIDER_REWIND_SPEED=700,i.SLIDER_SNAPBACK_SPEED=300,i.SLIDER_EASE="easeOutCubic",i.HAS_ANNOUNCEMENT="EVENT_HAS_ANNOUNCEMENT",i.ANNOUNCEMENT_REMOVED="EVENT_ANNOUNCEMENT_REMOVED",i.HAS_HERO_HEADER="EVENT_HAS_HERO_HEADER",i.MENU_OPEN="EVENT_MENU_OPEN_TOGGLE",i.NAV_ITEM_ENTER="EVENT_NAV_ITEM_ENTER",i.NAV_ITEM_LEAVE="EVENT_NAV_ITEM_LEAVE",i.NAV_MASK_CLICK="EVENT_NAV_MASK_CLICK",i.SEARCH_TOGGLE="EVENT_SEARCH_OPEN_TOGGLE",i.EVENT_HIDE_SEARCH="EVENT_HIDE_SEARCH",i.SEARCH_NO_RESULTS_MSG="No results found, sorry!",i.SKIP_KEYS=[16,17,18,91,93],i.REQUEST_VIEW_DIMENSIONS="REQUEST_VIEW_DIMENSIONS",i.REQUEST_PAGE_MODEL="REQUEST_PAGE_MODEL",i.REQUEST_INDEXED_BLOCKS="REQUEST_INDEXED_BLOCKS",i.FORM_INVALID_FIELDS_MSG="Please fill out all required fields.",i.FORM_REQUEST_SUCCESS_MSG="Thanks for your application. We'll be in touch!",i.FORM_REQUEST_ERROR_MSG="Something went wrong, please try again.",i.FORM_CAPCHA_ERROR_MSG="Please correctly complete the reCAPTCHA.",n["default"]=i},{}],337:[function(e,t,n){"use strict";function i(){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}function r(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}Object.defineProperty(n,"__esModule",{value:!0});var o={ua:window.navigator.userAgent.toLowerCase(),tests:{ios:function(){return/ipad|iphone|ipod/.test(o.ua)&&!window.MSStream},iphone:function(){return/iphone/.test(o.ua)&&!window.MSStream},android:function(){return o.ua.indexOf("android")>-1},"ios-or-android":function(){return/iphone/.test(o.ua)&&!window.MSStream||o.ua.indexOf("android")>-1},safari:function(){return o.ua.indexOf("safari")>-1&&o.ua.indexOf("chrome")===-1},firefox:function(){return o.ua.indexOf("firefox")>-1},chrome:function(){return/chrome/.test(o.ua)&&/Google Inc/.test(navigator.vendor)},chrome_ios:function(){return o.ua.match("crios")},windows:function(){return o.ua.indexOf("windows")>-1&&o.ua.indexOf("windows phone")<0},osx:function(){return navigator.platform.toLowerCase().indexOf("mac")>-1},old_ie:function(){return document.documentElement.classList.contains("lte-ie9")},xhr2:function(){return"FormData"in window},"webkit-text-stroke":function(){var e=document.createElement("h1");return!!("webkitTextStroke"in e.style||"textStroke"in e.style)},dm_scroll_transition:function(){return Modernizr.csstransitions&&Modernizr.csstransforms3d},dm_page_transitions:function(){return Modernizr.history&&Modernizr.csstransitions},dm_interactive_branding:function(){return!Modernizr.old_ie},mix_blend_mode:function(){return!(Modernizr.ios&&i()[0]<9)&&(!(Modernizr.chrome&&r()<47)&&Modernizr.testProp("mixBlendMode"))},font_smoothing:function(){return Modernizr.ios||Modernizr.osx||Modernizr.android}},POWER_HIGH:"high",POWER_MEDIUM:"medium",POWER_LOW:"low",power:null,_setupPower:function(){var e=Math.max(window.screen.width,window.screen.height),t=o.POWER_HIGH;e<700?t=o.POWER_LOW:(e<1200||Modernizr.safari)&&(t=o.POWER_MEDIUM),o.power=t},setup:function(){for(var e in o.tests)Modernizr.addTest(e,o.tests[e]);o._setupPower(),o._checkForRemove()},_checkForRemove:function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}};n["default"]=o},{}],338:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("common/Channel"),o=i(r),s=e("common/Constants"),a=i(s),l=e("common/MediaQueries"),u=i(l),c={el:null,cmdPressed:!1,colTmpl:'<div class="guide-col"></div>',setup:function(){c.addGridMarkup(),c.bindEvents()},addGridMarkup:function(){for(var e=c.getColCount(),t="",n=0;n<e;n++)t+=c.colTmpl;var i=document.createElement("div");i.className="cf container grid-guides",i.setAttribute("data-grid-guides",!0),i.insertAdjacentHTML("beforeend",t);var r=document.querySelector("body");r.appendChild(i),c.el=document.querySelector("[data-grid-guides]")},bindEvents:function(){window.addEventListener("keydown",c.onWindowKeyDown),window.addEventListener("keyup",c.onWindowKeyUp),o["default"].on(a["default"].EVENT_RESIZE,c.onResize)},getColCount:function(){var e=u["default"].getDeviceState();switch(e){case u["default"].DESKTOP:return 12;case u["default"].TABLETPORTRAIT:case u["default"].TABLETLANDSCAPE:return 6;default:return 4}},onWindowKeyDown:function(e){91!==e.keyCode&&93!==e.keyCode||(c.cmdPressed=!0),c.cmdPressed&&186===e.keyCode&&c.toggleGuides()},onWindowKeyUp:function(e){91!==e.keyCode&&93!==e.keyCode||(c.cmdPressed=!1)},onResize:function(){c.el.remove(),c.addGridMarkup(),"true"===window.localStorage.getItem("DM_GRID_GUIDES_ENABLED")&&c.toggleGuides(!1)},toggleGuides:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];c.el.classList.toggle("show-guides"),e&&window.localStorage.setItem("DM_GRID_GUIDES_ENABLED","true"!==window.localStorage.getItem("DM_GRID_GUIDES_ENABLED"))}};n["default"]=c},{"common/Channel":335,"common/Constants":336,"common/MediaQueries":340}],339:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("lodash.uniqueid"),a=i(s),l=e("lodash.random"),u=i(l),c=e("lodash.find"),d=i(c),h=e("common/Device"),f=i(h),p=e("../../../interactive-branding/src/Four"),v=i(p),m=e("../../../interactive-branding/src/Four/defaults"),g=i(m),b={deepmind:{GUIDES_colour:"#95d2ff",CONTAINER_colour:"transparent",POINTS_maxVelocity:.6,GUIDES_fixedRoam:1},applied:{GUIDES_colour:"#78f0f5",CONTAINER_colour:"transparent"},research:{GUIDES_colour:"#B0AAD2",CONTAINER_colour:"transparent"},"ethics-society":{GUIDES_colour:"#C44280",CONTAINER_colour:"transparent"}},y={deepmind:["blue","external"],applied:["green"],research:["purple","publication"],"ethics-society":["ethics"]},_={ITEM_DATA_ATTR:"ib-hover-item",TARGET_DATA_ATTR:"ib-hover-target",items:[],getItemFromEl:function(e){var t=e.getAttribute("data-"+_.ITEM_DATA_ATTR),n=(0,d["default"])(_.items,{id:t});return n||(n=_.createItem(e)),n},getThemeName:function(e){var t=e.getAttribute("data-"+_.TARGET_DATA_ATTR),n=void 0;if(b[t])n=t;else{var i=function(e){y[e].forEach(function(i){i===t&&(n=e)})};for(var r in y)i(r)}return n},createItem:function(e){var t=(0,a["default"])(),n=e.querySelector("[data-"+_.TARGET_DATA_ATTR+"]");if(!n||!n.clientWidth||!n.clientHeight)return null;var i=n.parentNode,r=_.getThemeName(n),s=new v["default"]((0,o["default"])({},g["default"][r][f["default"].POWER_HIGH],b[r],{parentNode:n.parentNode,isInteractive:!1,autoplay:!1,compositing:"darken",clearOnRender:!0,autoResetPoints:!1,autoPlayGuides:!1,guideHideDelay:3e3,POINTS_count:10,GUIDES_count:5,GUIDES_pointCount:1,GUIDES_tweenTime:800,GUIDE_INFLUENCE_persist:!0,startPoint:{x:1,y:1}}));s.canvas.classList.add("grad-map--ib-target"),i.replaceChild(s.canvas,n),e.setAttribute("data-"+_.ITEM_DATA_ATTR,t);var l={id:t,el:e,node:n,IB:s,timer:null,shown:!1};return _.items.push(l),l},setItemIBPoints:function(e){var t=e.IB;t.startPoint={x:-(.1*t.width),y:(0,u["default"])(.1*t.height,.9*t.height)},t.finishPoint={x:1.1*t.width,y:(0,u["default"])(.1*t.height,.9*t.height)},t.controlPoints=[{x:(0,u["default"])(.3*t.width,.7*t.width),y:(0,u["default"])(t.height*-.2,1.2*t.height)}]},showItem:function(e){e.el.classList.add("show-ib"),e.shown=!0;var t=e.IB;t.play(),t.animating||_.animateItem(e)},hideItem:function(e){e.el.classList.remove("show-ib"),e.shown=!1,clearTimeout(e.timer);var t=e.IB;t.pause()},animateItem:function(e){this.setItemIBPoints(e);var t=e.IB;t.setupGuides().playGuidesAnimation({onHideComplete:function(){e.shown&&(e.timer=setTimeout(function(){_.showItem(e)},1e3))}})},onMouseEnter:function(e){var t=e.target,n=_.getItemFromEl(t);n&&_.showItem(n)},onMouseLeave:function(e){var t=e.target,n=_.getItemFromEl(t);n&&_.hideItem(n)},remove:function(e){var t=_.getItemFromEl(e);if(t){var n=_.items.indexOf(t);_.items.splice(n,1),t.IB.destroy()}}};n["default"]=_,window.InteractiveBrandingHover=_},{"../../../interactive-branding/src/Four":4,"../../../interactive-branding/src/Four/defaults":3,"common/Device":337,"lodash.assignin":42,"lodash.find":44,"lodash.random":50,"lodash.uniqueid":57}],340:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={DESKTOP:"desktop breakpoint",TABLETPORTRAIT:"tabletportrait breakpoint",TABLETLANDSCAPE:"tabletlandscape breakpoint",DEFAULT:"default breakpoint",JS_EL:null,EL_CLASSNAME:"js-mediaqueries",
setup:function(){i.JS_EL=document.createElement("div"),i.JS_EL.className=i.EL_CLASSNAME,document.body.appendChild(i.JS_EL),i.CASCADE=[i.DESKTOP,i.TABLETLANDSCAPE,i.TABLETPORTRAIT,i.DEFAULT]},getDeviceState:function(){var e=/('|")/,t=window.getComputedStyle(i.JS_EL).getPropertyValue("font-family");return e.test(t.charAt(0))&&e.test(t.charAt(t.length-1))&&(t=t.substr(1,t.length-2)),t},isLargerThanBreakpoint:function(e){var t=i.getDeviceState(),n=i.CASCADE.indexOf(t),r=i.CASCADE.indexOf(e);return n<=r},isSmallerThanBreakpoint:function(e){var t=i.getDeviceState(),n=i.CASCADE.indexOf(t),r=i.CASCADE.indexOf(e);return n>r}};n["default"]=i},{}],341:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=0;return e.offset>t.offset?n=1:e.offset<t.offset?n=-1:e.offset===t.offset&&e.idx>t.idx?n=1:e.offset===t.offset&&e.idx<t.idx&&(n=-1),n}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("lodash.assign"),l=i(a),u=e("lodash.throttle"),c=i(u),d=e("common/ViewAutoBinder"),h=i(d),f=e("common/Channel"),p=i(f),v=e("common/Constants"),m=i(v),g=e("common/Singleton"),b=i(g),y=e("utils/DOM"),_=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),this.items=[],this._bindClassMethods(),this.appView=t.appView||window.appView,this.bindEvents()}return s(e,[{key:"_bindClassMethods",value:function(){this.onScroll=(0,c["default"])(this.onScroll.bind(this),m["default"].SCROLL_THROTTLE),this.onScrollEnd=this.onScrollEnd.bind(this),this.onResize=this.onResize.bind(this),this.onChangeViewComplete=this.onChangeViewComplete.bind(this)}},{key:"bindEvents",value:function(){Modernizr.dm_scroll_transition&&(p["default"].on(m["default"].EVENT_SCROLL,this.onScroll),p["default"].on(m["default"].EVENT_SCROLL_END,this.onScrollEnd),p["default"].on(m["default"].EVENT_RESIZE,this.onResize),p["default"].on(m["default"].EVENT_CHANGE_VIEW_COMPLETE,this.onChangeViewComplete),p["default"].on(m["default"].EVENT_UPDATE_SCROLL_ITEMS,this.onChangeViewComplete))}},{key:"initialPageLoad",value:function(){this.getItems(),this.resetItems()}},{key:"onScroll",value:function(){this.checkItemsPositions(!0)}},{key:"onScrollEnd",value:function(){this.resetItems()}},{key:"onResize",value:function(){this.resetItems()}},{key:"onChangeViewComplete",value:function(){this.getItems(),this.resetItems()}},{key:"resetItems",value:function(){this.items=this.items.filter(function(e){return!e.el.classList.contains(m["default"].SCROLL_ITEM_SHOW)}),this.updateItems(),this.checkItemsPositions(!1)}},{key:"getItems",value:function(e){var t=e||this.appView.wrapper;this.items=t.queryAll("["+m["default"].SCROLL_ITEM_SELECTOR+"]").filter(function(e){return!e.classList.contains(m["default"].SCROLL_ITEM_SHOW)}).map(function(e,t){return{el:e,idx:t,height:(0,y.getElHeight)(e),offset:(0,y.getElOffset)(e)}}).sort(o)}},{key:"updateItems",value:function(){this.items=this.items.map(function(e){return e.height=(0,y.getElHeight)(e.el),e.offset=(0,y.getElOffset)(e.el),e}).sort(o)}},{key:"checkItemsPositions",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];if(this.items.length){if(!Modernizr.dm_scroll_transition)return void this.showAllFallback();var t=e?m["default"].SCROLL_THRESHOLD:1,n=this.appView.lastScrollY+this.appView.dimensions.height*t,i=this.items.filter(function(t){if(n>t.offset)return t.shouldDelay=!(!e&&n>t.offset+t.height),t});i.length&&(this.showItems(i),this.items=this.items.slice(i.length,this.items.length))}}},{key:"showItems",value:function(e){var t=this,n=0;e.forEach(function(e,i){!function(e){var i=0;e.shouldDelay&&(i=m["default"].SCROLL_SHOW_TIMEOUT*n,n++),setTimeout(function(){t.showItem(e.el)},i)}(e,i)})}},{key:"showItem",value:function(e){e.classList.contains(m["default"].SCROLL_ITEM_SHOW)||(e.classList.add(m["default"].SCROLL_ITEM_SHOW),e.hasAttribute(m["default"].SCROLL_ITEM_EVENT)&&this.showItemEvent(e))}},{key:"showItemEvent",value:function(e){var t=h["default"].getElViewId(e);if(!t)return void e.setAttribute(m["default"].SCROLL_ITEM_EVENT,"immediate");var n=h["default"].getViewById(t);n&&n.showFromScroll()}},{key:"showAllFallback",value:function(){var e=this;this.items.forEach(function(t){t.el.hasAttribute(m["default"].SCROLL_ITEM_EVENT)&&e.showItemEvent(t.el)})}}]),e}();n["default"]=(0,l["default"])(_,b["default"])},{"common/Channel":335,"common/Constants":336,"common/Singleton":344,"common/ViewAutoBinder":348,"lodash.assign":41,"lodash.throttle":56,"utils/DOM":355}],342:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("tween.js"),o=i(r),s=e("views/AppView"),a=i(s),l=e("utils/DOM"),u={offset:0,minTime:100,maxTime:600},c=500,d={scrolling:!1,currentTween:null,scrollTo:function(e,t){var n=e.offset||u.offset,i=e.maxTime||u.maxTime,r=e.minTime||u.minTime,s=a["default"].getInstance(),h=(0,l.getElHeight)(s.el),f=("number"==typeof e.target?e.target:(0,l.getElOffset)(e.target))+n;f=Math.min(h-s.dimensions.height,f);var p=s.lastScrollY-f;p=p<0?p*-1:p;var v=void 0;v=0===p?0:p>c?i+r:p/c*i+r;var m={y:s.lastScrollY};new o["default"].Tween(m).to({y:f},v).onUpdate(function(){window.scrollTo(0,this.y)}).onStart(function(){d.scrolling=!0}).onComplete(function(){d.scrolling=!1,t&&"function"==typeof t&&t()}).easing(o["default"].Easing.Cubic.InOut).start();d.update()},update:function(){o["default"].update(),d.scrolling&&requestAnimationFrame(d.update)}};n["default"]=d},{"tween.js":327,"utils/DOM":355,"views/AppView":361}],343:[function(e,t,n){"use strict";function i(e,t,n){var i=window.screen.availWidth-t>>1,r=window.screen.availHeight-n>>1;window.open(e,"","top="+r+",left="+i+",width="+t+",height="+n+",location=no,menubar=no")}Object.defineProperty(n,"__esModule",{value:!0});var r={CONFIG_DATA_ATTR:"share-config",email:function(){var e=arguments.length<=0||void 0===arguments[0]?{url:"",title:"",description:""}:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=encodeURIComponent(e.url),i=e.title?encodeURIComponent(e.title):"",r=e.description?encodeURIComponent(e.description)+"%0D%0A%0D%0A":"",o="mailto:?subject="+i+"&body="+r+n;return t?o:void(window.location=o)},googleplus:function(){var e=arguments.length<=0||void 0===arguments[0]?{url:""}:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=encodeURIComponent(e.url),r="https://plus.google.com/share?url="+n;return t?r:void i(r,505,385)},facebook:function(){var e=arguments.length<=0||void 0===arguments[0]?{url:"",title:""}:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=encodeURIComponent(e.url),r=encodeURIComponent(e.title),o="http://www.facebook.com/share.php?u="+n+"&t="+r;return t?o:void i(o,600,300)},twitter:function(){var e=arguments.length<=0||void 0===arguments[0]?{url:"",title:""}:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=encodeURIComponent(e.url),r=encodeURIComponent(e.title),o="http://twitter.com/intent/tweet/?text="+r+"&url="+n;return t?o:void i(o,600,300)},reddit:function(){var e=arguments.length<=0||void 0===arguments[0]?{url:"",title:""}:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=encodeURIComponent(e.url),r=encodeURIComponent(e.title),o="http://www.reddit.com/submit?url="+n+"&title="+r;return t?o:void i(o,900,600)},linkedin:function(){var e=arguments.length<=0||void 0===arguments[0]?{url:"",title:"",summary:"",source:"Google DeepMind"}:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=encodeURIComponent(e.url),r=encodeURIComponent(e.title),o=encodeURIComponent(e.summary),s=encodeURIComponent(e.source),a="https://www.linkedin.com/shareArticle?mini=true&url="+n+"&title="+r+"&summary="+o+"&source="+s;return t?a:void i(a,900,600)},sms:function(){var e=arguments.length<=0||void 0===arguments[0]?{url:"",title:""}:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=encodeURIComponent(e.url),i=e.title?encodeURIComponent(e.title)+"%0D%0A%0D%0A":"",r=Modernizr.ios?"&":"?",o="sms:"+r+"body="+i+n;return t?o:void(window.location.href=o)},whatsapp:function(){var e=arguments.length<=0||void 0===arguments[0]?{url:"",title:""}:arguments[0],t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=encodeURIComponent(e.url),i=e.title?encodeURIComponent(e.title)+"%0D%0A%0D%0A":"",r="whatsapp://send?text="+i+n;return t?r:void(window.location.href=r)}};n["default"]=r},{}],344:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={getInstance:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._instance||(this._instance=new this(e)),this._instance}}},{}],345:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("time-ago"),a=i(s),l=e("lodash.assign"),u=i(l),c=e("common/Channel"),d=i(c),h=e("common/Constants"),f=i(h),p=e("common/Singleton"),v=i(p),m={MIN:"min",HOUR:"hour",DAY:"day",ALL:"all"},g=36e5,b=864e5,y=6048e5,_=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),this._bindClassMethods(),this.appView=t.appView,this.time=(0,a["default"])(),d["default"].on(f["default"].EVENT_CHANGE_VIEW_COMPLETE,this.onViewChangeComplete)}return o(e,[{key:"_bindClassMethods",value:function(){this.onViewChangeComplete=this.onViewChangeComplete.bind(this)}},{key:"reset",value:function(){this.getItems(),this.update(m.ALL),window.clearInterval(this.intervalMinute),window.clearInterval(this.intervalHour),window.clearInterval(this.intervalDay),this.intervalMinute=setInterval(this.update.bind(this,m.MIN),6e4),this.intervalHour=setInterval(this.update.bind(this,m.HOUR),36e5),this.intervalDay=setInterval(this.update.bind(this,m.DAY),864e5)}},{key:"onViewChangeComplete",value:function(){this.reset()}},{key:"getItems",value:function(){var e=this;this.items=this.appView.queryAll("[data-timestamp]").map(function(t){var n=t,i=parseInt(n.getAttribute("data-timestamp"),10),r=e._getTimeType(i);return{el:n,time:i,type:r}}).filter(function(e){return Date.now()-e.time<y})}},{key:"_getTimeType",value:function(e){var t=Date.now()-e,n=m.DAY;return t<g?n=m.MIN:t<b&&(n=m.HOUR),n}},{key:"update",value:function(e){var t=this;this.items.filter(function(t){return e===t.type||e===m.ALL}).forEach(function(e){e.el.textContent=t.time.ago(e.time),e.type=t._getTimeType(e.time)})}}]),e}();window.TimestampManager=_,n["default"]=(0,u["default"])(_,v["default"])},{"common/Channel":335,"common/Constants":336,"common/Singleton":344,"lodash.assign":41,"time-ago":325}],346:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.last"),o=i(r),s=e("lodash.isempty"),a=i(s),l=e("models/AppModel"),u=i(l),c=e("utils/serializeToQueryString"),d=i(c),h={fileExtRe:/\./,absoluteUrlRe:/^(f|ht)tps?:\/\//i},f=[],p={setup:function(){var e=u["default"].getInstance();h.basePathRe=new RegExp("^/"+e.get("basePath"),"i"),h.baseUrlRe=new RegExp(e.get("baseUrl"),"i")},_getUriSegments:function(e){var t=p.getRelativeHref(e),n=t?t.split("/"):[];return n},isSafeUrl:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=!1,n=p._getUriSegments(e);return""===e||"/"===e||""===n[0]?t=!0:h.fileExtRe.test((0,o["default"])(n))?t=!1:h.absoluteUrlRe.test(e)&&!h.baseUrlRe.test(e)?t=!1:f.indexOf(n[0])===-1&&(t=!0),t},getRelativeHref:function(e){var t=u["default"].getInstance(),n=h.baseUrlRe.test(e)?e.split(t.get("baseUrl"))[1]:e;return n=t.get("basePath")&&h.basePathRe.test(n)?n.split(t.get("basePath"))[1]:n,n=n&&"/"===n.charAt(0)?n.substr(1):n},getFullUrlFromRouteObject:function(e){var t=u["default"].getInstance(),n=p.getFullPathFromRouteObject(e),i=t.get("baseUrl")+"/"+n;return i},getFullPathFromRouteObject:function(e){var t=e.route||"";return(0,a["default"])(e.query)?t:t+"?"+(0,d["default"])(e.query)}};n["default"]=p},{"lodash.isempty":46,"lodash.last":47,"models/AppModel":350,"utils/serializeToQueryString":360}],347:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.uniqueid"),o=i(r),s=e("native-promise-only"),a=i(s),l={API_LOADED:!1,_activePromise:null,create:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1],n=new a["default"](function(n,i){l._activePromise={resolve:n,reject:i},t.id="yt_player_"+(0,o["default"])(),l.API_LOADED?l._createPlayer(e,t):(window.onYouTubeIframeAPIReady=l._firstLoadComplete.bind(null,e,t),l._loadAPI())});return n},play:function(e){e.playVideo&&"function"==typeof e.playVideo&&e.playVideo()},pause:function(e){e.pauseVideo&&"function"==typeof e.pauseVideo&&e.pauseVideo()},destroy:function(e){e.destroy()},_loadAPI:function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},_firstLoadComplete:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];l.API_LOADED=!0,l._createPlayer(e,t)},_createPlayer:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];new YT.Player(t.id,{videoId:e.video_id,playerVars:{color:"white",theme:"dark",showinfo:0,rel:0},events:{onReady:function(e){return l._activePromise.resolve(e.target)}}})}};n["default"]=l},{"lodash.uniqueid":57,"native-promise-only":297}],348:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("lodash.find"),s=i(o),a=e("lodash.uniqueid"),l=i(a),u=e("utils/DOM"),c={TMPL_DATA_ATTR:"dm-tmpl",APP_ID_DATA_ATTR:"dm-id",allViews:[],bindView:function(e){c._setup(e);var t=e.queryAll("[data-"+c.TMPL_DATA_ATTR+"]").filter(c._filterEls);c.bindViewTemplates(e,t)},bindViewTemplates:function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=e.modules.map(function(e){return e.prototype.template}),i=[];return t.forEach(function(t){var r=t.getAttribute("data-"+c.TMPL_DATA_ATTR),o=(0,s["default"])(e.modules,function(e){return e.prototype.template===r});if(n.indexOf(r)>-1&&!t.hasAttribute("data-"+c.APP_ID_DATA_ATTR)){var a=c._autoBindSubView(e,t,o);i.push(a)}}),i},unbindView:function(e){var t=(0,s["default"])(c.allViews,{id:e.dm_id}),n=c.allViews.indexOf(t);c.allViews.splice(n,1)},getTemplateRef:function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},getViewTemplates:function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=[];t=t.map(function(e){return c.getTemplateRef(e.prototype.template)});for(var i in e._views)t.indexOf(i)>-1&&(Array.isArray(e._views[i])?n.push.apply(n,r(e._views[i])):n.push(e._views[i]));return n},getViewById:function(e){e="string"==typeof e?e:e.toString();var t=(0,s["default"])(c.allViews,{id:e}),n=!!t&&t.view;return n},getElViewId:function(e){var t=void 0;if(e.hasAttribute("data-"+c.APP_ID_DATA_ATTR)&&(t=e.getAttribute("data-"+c.APP_ID_DATA_ATTR)),!t){var n=(0,u.closest)(e,function(e){return e.hasAttribute&&e.hasAttribute("data-"+c.APP_ID_DATA_ATTR)});n&&(t=n.getAttribute("data-"+c.APP_ID_DATA_ATTR))}return t},_setup:function(e){e._views=e._views||{}},_autoBindSubView:function(e,t,n){var i=c.getTemplateRef(n.prototype.template),r=new n({el:t});e._views[i]?Array.isArray(e._views[i])?e._views[i].push(r):e._views[i]=[e._views[i],r]:e._views[i]=r,e.addChild(r);var o=(0,l["default"])();return r.dm_id=o,t.setAttribute("data-"+c.APP_ID_DATA_ATTR,o),c.allViews.push({id:o,view:r}),r},_filterEls:function(e){return!e.hasAttribute("data-"+c.APP_ID_DATA_ATTR)}};n["default"]=c},{"lodash.find":44,"lodash.uniqueid":57,"utils/DOM":355}],349:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={findChildren:function(e,t){if(!e._views)return!1;var n=[];for(var i in e._views)n=n.concat(Array.isArray(e._views[i])?e._views[i]:[e._views[i]]);return t=Array.isArray(t)?t:[t],n.filter(function(e){return t.reduce(function(t,n){return t||e instanceof n},!1)})}};n["default"]=i},{}],350:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=i(r),s=e("ampersand-model"),a=i(s),l=e("common/Singleton"),u=i(l),c=a["default"].extend({props:{baseUrl:"string",basePath:"string",homePath:"string",routeBlacklist:"array",apiBasePath:"string",apiBaseUrl:"string",gaCode:"string"},constructor:function(){if(c.__super__.constructor.apply(this,arguments),!this.get("baseUrl")){var e=this.get("basePath")?"/"+this.get("basePath"):"";this.set("baseUrl",window.location.protocol+"//"+window.location.host+e)}if(!this.get("apiBaseUrl")){var t=this.get("apiBasePath")?"/"+this.get("apiBasePath"):"";this.set("apiBaseUrl",window.location.protocol+"//"+window.location.host+t)}}});n["default"]=(0,o["default"])(c,u["default"])},{"ampersand-model":16,"common/Singleton":344,"lodash.assign":41}],351:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=i(r),s=e("ampersand-model"),a=i(s),l=e("common/Singleton"),u=i(l),c="DM_LOCAL_STORE",d=a["default"].extend({props:{viewedAnnouncements:"array"},hasInitialised:!1,initialize:function(){var e=JSON.parse(localStorage.getItem(c))||{};for(var t in e)this.set(t,e[t]);this.hasInitialised=!0},set:function(){a["default"].__super__.set.apply(this,arguments),this.hasInitialised&&localStorage.setItem(c,JSON.stringify(this.toJSON()))}});n["default"]=(0,o["default"])(d,u["default"])},{"ampersand-model":16,"common/Singleton":344,"lodash.assign":41}],352:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t={},n=e.querySelectorAll("[data-dm-page-partial]");return n=Array.prototype.slice.call(n),n.forEach(function(e){var n=e.getAttribute("data-dm-page-partial");t[n]?t[n].push(e):t[n]=[e]}),t}Object.defineProperty(n,"__esModule",{value:!0}),n.getPagePartials=r;var o=e("ampersand-model"),s=i(o),a=e("native-promise-only"),l=i(a),u=e("common/Channel"),c=i(u),d=e("common/Constants"),h=i(d),f=3e4,p=s["default"].extend({_promise:{resolve:null,reject:null},_xhr:null,props:{document:"object",page:"object",pageType:"string",pageUrl:"string",pagePartials:"object",title:"string",description:"string"},requiredProps:["document","page","pageType","pageUrl","title"],ajaxConfig:function(){if(Modernizr.xhr2)return{xhr:this.getXhr.call(this),responseType:"document"}},url:function(){return this.get("pageUrl")},fetch:function(){var e=this,t=arguments,n=void 0,i=new l["default"](function(i,r){e._promise={resolve:i,reject:r},e._xhr=n=p.__super__.fetch.apply(e,t),e.once("sync",e.onSync.bind(e))});return{promise:i,xhr:n}},parse:function(e,t){var n=e,i=e.querySelector("[data-dm-page]"),o=i?i.getAttribute("data-dm-page"):null,s=r(i),a=e.querySelector("title").textContent,l=e.querySelector('meta[name="description"]')?e.querySelector('meta[name="description"]').getAttribute("content"):null;return{document:n,page:i,pageType:o,pagePartials:s,title:a,description:l}},hasCorrectData:function(){var e=this.toJSON(),t=this.requiredProps.filter(function(t){return!!e[t]});return t.length===this.requiredProps.length},getXhr:function(){var e=new window.XMLHttpRequest;return e.addEventListener("loadstart",this.onStart,!1),e.addEventListener("progress",this.onProgress,!1),e.addEventListener("load",this.onComplete.bind(this),!1),e.addEventListener("error",this.onError.bind(this),!1),e.addEventListener("abort",this.onAbort.bind(this),!1),e},onStart:function(){c["default"].trigger(h["default"].EVENT_PAGE_LOAD_START)},onProgress:function(e){var t=e.loaded/f*100;c["default"].trigger(h["default"].EVENT_PAGE_LOAD_PROGRESS,t)},onComplete:function(){this._xhr.status>400&&this._promise.reject(this),c["default"].trigger(h["default"].EVENT_PAGE_LOAD_END)},onAbort:function(){c["default"].trigger(h["default"].EVENT_PAGE_LOAD_ABORT)},onError:function(){this._promise.reject(this),c["default"].trigger(h["default"].EVENT_PAGE_LOAD_ERROR)},onSync:function(){this.hasCorrectData()?this._promise.resolve(this):this._promise.reject(this)}});n["default"]=p},{"ampersand-model":16,"common/Channel":335,"common/Constants":336,"native-promise-only":297}],353:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.srcset=e.srcset.map(function(e){return e.replace(/\s/g,"+")}),e}Object.defineProperty(n,"__esModule",{value:!0});var o=e("ampersand-model"),s=i(o),a=s["default"].extend({props:{id:"string",title:"string",context:"string",type:"string",subtitle:"string",thumbnail:"object",datePublished:"date",pageUrl:"string"},constructor:function(){a.__super__.constructor.apply(this,arguments),this.get("thumbnail")&&this.set("thumbnail",r(this.get("thumbnail")))}});n["default"]=a},{"ampersand-model":16}],354:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("ampersand-router"),o=i(r),s=e("lodash.assign"),a=i(s),l=e("lodash.isempty"),u=i(l),c=e("views/AppView"),d=i(c),h=e("models/AppModel"),f=i(h),p=e("common/Channel"),v=i(p),m=e("common/Constants"),g=i(m),b=e("common/Singleton"),y=i(b),_=e("common/UrlHelper"),w=i(_),E=e("utils/parseQueryString"),I=i(E),T=o["default"].extend({FIRST_ROUTE:!0,routes:{"*route":"hashChanged"},routeCount:0,current:{route:null,query:null},previous:{route:null,query:null},params:null,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),T.__super__.constructor.call(this,e)},execute:function(e,t,n){t.push((0,I["default"])(t.pop())),e&&e.apply(this,t)},start:function(){this.disableScrollRestoration();var e=f["default"].getInstance();if(Modernizr.dm_page_transitions)this.history.start({pushState:!0,hashChange:!1,root:"/"+e.get("basePath")});else{this.current={route:w["default"].getRelativeHref(window.location.pathname),query:(0,I["default"])(window.location.search.split("?")[1])};var t=d["default"].getInstance();t.wrapper.onHashChanged(this.current,{},{FIRST_ROUTE:!0})}window.addEventListener("hashchange",this.onAnchorChange,!1),this.getAnchor()&&this.onAnchorChange()},_bindClassMethods:function(){this.onAnchorChange=this.onAnchorChange.bind(this)},hashChanged:function(e,t){t=(0,u["default"])(t)?null:t,this.previous=this.current,this.current={route:e,query:t},this.params={FIRST_ROUTE:this.FIRST_ROUTE},this.FIRST_ROUTE&&(this.FIRST_ROUTE=!1),v["default"].trigger(g["default"].EVENT_HASH_CHANGED,this.current,this.previous,this.params),this.routeCount++},navigateTo:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=w["default"].getRelativeHref(e)||"/";this.params=n,this.navigate(i,t)},onAnchorChange:function(){var e=this.getAnchor();v["default"].trigger(g["default"].EVENT_ANCHOR_CHANGED,e)},changeAnchor:function(e){var t=this.getAnchor();if(window.history.pushState){if(!e)return window.history.pushState("",document.title,window.location.pathname),void this.onAnchorChange();if(e!==t){var n=t?"replaceState":"pushState";window.history[n](null,null,"#"+e)}}},getAnchor:function(){return window.location.hash.slice(1)||null},disableScrollRestoration:function(){Modernizr.dm_page_transitions&&"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")}});n["default"]=(0,a["default"])(T,y["default"])},{"ampersand-router":18,"common/Channel":335,"common/Constants":336,"common/Singleton":344,"common/UrlHelper":346,"lodash.assign":41,"lodash.isempty":46,"models/AppModel":350,"utils/parseQueryString":357,"views/AppView":361}],355:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={toggleClass:function(e,t){if(t=t.indexOf(" ")!==-1?t.split(" "):t,Array.isArray(t))return void t.forEach(function(t){return i.toggleClass(e,t)});if(e.classList)e.classList.toggle(t);else{var n=e.className.split(" "),r=n.indexOf(t);r>=0?n.splice(r,1):n.push(t),e.className=n.join(" ")}},hasClass:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},getElHeight:function(e){var t=e.offsetHeight,n=getComputedStyle(e),i=n.marginTop,r=n.marginBottom;return t+parseInt(i,10)+parseInt(r,10)},queryAll:function(e){var t=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return[].concat(Array.prototype.slice.call(t.querySelectorAll(e)))},closest:function(e,t){return e&&(t(e)?e:r(e.parentNode,t))},setTransform:function(e,t){e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t},getElOffset:function(e){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=getComputedStyle(e),i=n.marginTop;return Math.floor(e.getBoundingClientRect().top+t-parseInt(i,10))}};n["default"]=i;var r=(n.toggleClass=i.toggleClass,n.hasClass=i.hasClass,n.getElHeight=i.getElHeight,n.queryAll=i.queryAll,i.closest);n.closest=r;n.setTransform=i.setTransform,n.getElOffset=i.getElOffset},{}],356:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("common/Scroller"),a=i(s),l=e("utils/DOM"),u=function(){function e(t){r(this,e),this.els=(0,l.queryAll)(t+":not([data-depends-on])"),this.dependable=(0,l.queryAll)(t+"[data-depends-on]")}return o(e,[{key:"validate",value:function(){var t=[].concat(this.els,this.dependable.filter(e.dependableSatisfied)).filter(e.findInvalid),n=[].concat(this.els,this.dependable.filter(e.dependableSatisfied)).filter(e.findValid);return t.forEach(e.markInvalid),n.forEach(e.markValid),e.scrollToInvalid(t[0]),0===t.length}}],[{key:"findInvalid",value:function(t){return e.EMAIL_FIELD_REGEX.test(t.name)?!e.EMAIL_REGEX.test(t.value):"radio"===t.type||"checkbox"===t.type?t.checked===!1:""===t.value}},{key:"findValid",value:function(t){return e.EMAIL_FIELD_REGEX.test(t.name)?e.EMAIL_REGEX.test(t.value):"radio"===t.type||"checkbox"===t.type?t.checked===!0:""!==t.value}},{key:"dependableSatisfied",value:function(e){var t='[name="'+e.getAttribute("data-depends-on")+'"]',n=document.querySelector(t);return!!n&&(""!==e.value&&""===n.value||!(""===e.value&&""!==n.value||""!==e.value&&""!==n.value))}},{key:"markInvalid",value:function(e){"file"!==e.type&&"image"!==e.type||e.classList.add("form--field-invalid"),["select-one","radio","checkbox"].indexOf(e.type)!==-1&&(e.parentNode.parentNode.classList.add("form--field-invalid"),e.parentNode.parentNode.classList.remove("form--field-valid")),e.parentNode.classList.add("form--field-invalid"),e.parentNode.classList.remove("form--field-valid")}},{key:"markValid",value:function(t){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if("file"!==t.type&&"image"!==t.type||t.classList.remove("form--field-invalid"),t.hasAttribute("data-depends-on")&&""!==t.value&&e.markValid(document.querySelector('[name="'+t.getAttribute("data-depends-on")+'"]'),!0),["select-one","radio","checkbox"].indexOf(t.type)!==-1&&t.parentNode.parentNode.classList.remove("form--field-invalid"),t.parentNode.classList.remove("form--field-invalid"),!n){var i=["select-one","radio","checkbox"].indexOf(t.type)!==-1?t.parentNode.parentNode:t.parentNode;i.classList.add("form--field-valid")}}},{key:"scrollToInvalid",value:function(e){e&&a["default"].scrollTo({target:e.parentNode,offset:-86},function(){e.focus()})}},{key:"EMAIL_FIELD_REGEX",get:function(){return/e?mail/i}},{key:"EMAIL_REGEX",get:function(){return/.+@.+/i}}]),e}();n["default"]=u},{"common/Scroller":342,"utils/DOM":355}],357:[function(e,t,n){"use strict";function i(e){return decodeURIComponent(e.replace(o," "))}function r(e){if(!e)return{};for(var t={},n=s.exec(e);n;)t[i(n[1])]=i(n[2]),n=s.exec(e);return t}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=/\+/g,s=/([^&=]+)=?([^&]*)/g},{}],358:[function(e,t,n){"use strict";function i(e){var t=Array.prototype.slice.call(e.querySelectorAll("script"));t.length&&t.forEach(function(e){var t=document.createElement("script");t.src=e.src,document.body.appendChild(t)})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],359:[function(e,t,n){"use strict";function i(e){var t,n=[];if("object"==("undefined"==typeof e?"undefined":r(e))&&"FORM"==e.nodeName)for(var i=e.elements.length,o=0;o<i;o++)if(t=e.elements[o],t.name&&!t.disabled&&"file"!=t.type&&"reset"!=t.type&&"submit"!=t.type&&"button"!=t.type)if("select-multiple"==t.type)for(j=e.elements[o].options.length-1;j>=0;j--)t.options[j].selected&&(n[n.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.options[j].value));else("checkbox"!=t.type&&"radio"!=t.type||t.checked)&&""!=t.value&&(n[n.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value));return n.join("&").replace(/%20/g,"+")}Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n["default"]=i},{}],360:[function(e,t,n){"use strict";function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],361:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=i(r),s=e("lodash.debounce"),a=i(s),l=e("views/abstract/AbstractView"),u=i(l),c=e("router/AppRouter"),d=i(c),h=e("common/Device"),f=i(h),p=e("common/MediaQueries"),v=i(p),m=e("common/GridGuides"),g=(i(m),e("common/Channel")),b=i(g),y=e("common/Constants"),_=i(y),w=e("common/Singleton"),E=i(w),I=e("common/UrlHelper"),T=i(I),S=e("common/ScrollItemInView"),C=i(S),x=e("common/TimestampManager"),A=i(x),O=e("views/core/Header"),N=i(O),M=e("views/core/Wrapper"),P=i(M),k=e("views/components/Search"),R=i(k),L=e("views/components/Announcement"),D=i(L),j=e("views/components/Slideshow"),B=i(j),V=e("views/components/CookieBanner"),H=i(V),F=e("utils/DOM"),U=[91,17,16],G=u["default"].extend({template:"dm-app",body:null,header:null,footer:null,wrapper:null,search:null,dimensions:{width:0,height:0},events:{"click .nav-mask":"onNavMaskClick","click a":"onLinkClick","click [data-slideshow-image]":"onSlideshowImageClick"},keysDown:{},constructor:function(){this._bindClassMethods(),G.__super__.constructor.call(this)},init:function(){f["default"].setup(),v["default"].setup(),this.body=document.querySelector("body"),
this.header=N["default"].getInstance(),this.wrapper=P["default"].getInstance(),this.search=R["default"].getInstance(),this.cookieBanner=new H["default"]({el:this.query('[data-dm-tmpl="'+H["default"].prototype.template+'"]')}),this.addChild(this.header).addChild(this.wrapper).addChild(this.search).addChild(this.cookieBanner),this.query("[data-announcement]")&&(this.announcement=D["default"].getInstance(),this.addChild(this.announcement)),this.scrollItemInView=C["default"].getInstance({appView:this}),this.timestampManager=A["default"].getInstance({appView:this}),this.begin()},_bindClassMethods:function(){this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this),this.scrollUpdate=this.scrollUpdate.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onBlur=this.onBlur.bind(this),this.onPageOrAnchorChange=this.onPageOrAnchorChange.bind(this),this.onViewChangeComplete=this.onViewChangeComplete.bind(this),this.onDimensionsRequest=this.onDimensionsRequest.bind(this)},bindEvents:function(){var e=this;this.onResize(),this.onResize=(0,a["default"])(this.onResize.bind(this),_["default"].RESIZE_DEBOUNCE),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),window.addEventListener("resize",this.onResize),window.addEventListener("scroll",this.onScroll),window.addEventListener("blur",this.onBlur),this.listenTo(b["default"],_["default"].MENU_OPEN,function(t){e.body.classList.toggle("overlay--is-open"),setTimeout(function(){e.body.classList.toggle("nav--is-hidden")},t?0:800)}),this.listenTo(b["default"],_["default"].SEARCH_TOGGLE,function(){e.body.classList.toggle("overlay--is-open")}),this.listenTo(b["default"],_["default"].EVENT_HIDE_SEARCH,function(){e.body.classList.remove("overlay--is-open")}),this.listenTo(b["default"],_["default"].NAV_ITEM_ENTER,function(t){var n=t.className.replace(/[a-z-].*--/g,"").split(" ")[0];["nav-item--hover","nav-item--hover-"+n].forEach(function(t){return e.body.classList.add(t)})}),this.listenTo(b["default"],_["default"].NAV_ITEM_LEAVE,function(t){var n=t.className.replace(/[a-z-].*--/g,"").split(" ")[0];["nav-item--hover","nav-item--hover-"+n].forEach(function(t){return e.body.classList.remove(t)})}),this.listenTo(b["default"],_["default"].EVENT_ANCHOR_CHANGED,this.onPageOrAnchorChange),this.listenTo(b["default"],_["default"].EVENT_CHANGE_VIEW_COMPLETE,this.onPageOrAnchorChange),this.listenTo(b["default"],_["default"].EVENT_CHANGE_VIEW_COMPLETE,this.onViewChangeComplete),this.listenTo(b["default"],_["default"].ANNOUNCEMENT_REMOVED,this.onAnnouncementRemove)},bindReplies:function(){b["default"].reply(_["default"].REQUEST_VIEW_DIMENSIONS,this.onDimensionsRequest)},begin:function(){b["default"].trigger(_["default"].EVENT_APP_START),this.bindEvents(),this.bindReplies(),this.onScroll(),this.scrollItemInView.initialPageLoad(),this.timestampManager.reset()},onKeyDown:function(e){this.keysDown[e.keyCode]=!0},onKeyUp:function(e){delete this.keysDown[e.keyCode]},onBlur:function(){this.keysDown={}},onPageOrAnchorChange:function(){this.checkForSlideshow()},onViewChangeComplete:function(){this.announcement&&(this.remove(this.announcement),this.announcement=null)},onAnnouncementRemove:function(){this.announcement&&(this.remove(this.announcement),this.announcement=null)},onDimensionsRequest:function(){return this.dimensions},onScroll:function(e){this.lastScrollY=window.pageYOffset,this.requestTick()},requestTick:function(){this.ticking||(window.requestAnimationFrame(this.scrollUpdate),this.ticking=!0)},scrollUpdate:function(){var e=this;this.ticking=!1,clearTimeout(this.timerScroll),this.timerScroll=setTimeout(function(){b["default"].trigger(_["default"].EVENT_SCROLL_END,e.lastScrollY)},_["default"].SCROLL_END_THROTTLE),b["default"].trigger(_["default"].EVENT_SCROLL,this.lastScrollY)},onResize:function(e){var t=this.dimensions;this.setViewportDimensions();var n=Math.abs(t.width-this.dimensions.width)>_["default"].RESIZE_CHANGE_THRESHOLD;b["default"].trigger(_["default"].EVENT_RESIZE,this.dimensions,n)},onNavMaskClick:function(e){b["default"].trigger(_["default"].NAV_MASK_CLICK,{})},onLinkClick:function(e){var t=e.delegateTarget;if(!t.hasAttribute("data-ignore-link-click")){var n=t.href;return!!n&&void this.navigateToUrl(n,e)}},onSlideshowImageClick:function(e){var t=e.delegateTarget;this.openSlideshow(t)},checkForSlideshow:function(){var e=d["default"].getInstance(),t=e.getAnchor(),n=this.query('[data-slideshow-image="'+t+'"]');n&&this.openSlideshow(n)},openSlideshow:function(e){var t=(0,F.closest)(e,function(e){return e.hasAttribute&&e.hasAttribute("data-dm-page")});if(t&&!this.slideshow){var n=document.createElement("div"),i=t.getAttribute("data-context");n.setAttribute("data-dm-tmpl",B["default"].prototype.template),this.el.appendChild(n),this.slideshow=new B["default"]({el:n,page:t,imageTarget:e,context:i}),this.addChild(this.slideshow),this.body.classList.add("overflow-hidden")}var r=d["default"].getInstance();r.changeAnchor(e.getAttribute("data-slideshow-image"))},closeSlideshow:function(){this.remove(this.slideshow),this.slideshow=null,this.body.classList.remove("overflow-hidden")},navigateToUrl:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=d["default"].getInstance();this.header.menu.isOpen&&T["default"].getRelativeHref(e)===n.current.route&&this.header.menu.toggle(),Modernizr.dm_page_transitions&&this.noUtilityKeysPressed()&&T["default"].isSafeUrl(e)?(t.preventDefault(),n.navigateTo(e)):T["default"].isSafeUrl(e)||(t&&t.preventDefault(),window.open(e))},noUtilityKeysPressed:function(){var e=this;return!U.filter(function(t){return e.keysDown[t]}).length},setViewportDimensions:function(){var e=this.getWindowWidth(),t=this.getWindowHeight();this.dimensions={width:e,height:t}},getWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}});n["default"]=(0,o["default"])(G,E["default"])},{"common/Channel":335,"common/Constants":336,"common/Device":337,"common/GridGuides":338,"common/MediaQueries":340,"common/ScrollItemInView":341,"common/Singleton":344,"common/TimestampManager":345,"common/UrlHelper":346,"lodash.assign":41,"lodash.debounce":43,"router/AppRouter":354,"utils/DOM":355,"views/abstract/AbstractView":362,"views/components/Announcement":364,"views/components/CookieBanner":367,"views/components/Search":398,"views/components/Slideshow":404,"views/core/Header":413,"views/core/Wrapper":416}],362:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("ampersand-view"),o=i(r),s=e("lodash.assign"),a=i(s),l=e("lodash.template"),u=(i(l),e("../../common/ViewAutoBinder")),c=i(u),d=o["default"].extend({autoRender:!1,events:{},id:null,dm_id:null,children:null,template:null,templateStr:null,templateVars:null,modules:null,autobindOnInstantiation:!0,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=(0,a["default"])(e,this.getElFromConfig(e)),d.__super__.constructor.call(this,e),this.template&&this.modules&&this.modules.length&&this.autobindOnInstantiation&&c["default"].bindView(this),this._upsertBindings()},getElFromConfig:function(e){var t=void 0;return t=e.el?e.el:document.querySelector("[data-"+c["default"].TMPL_DATA_ATTR+'="'+this.template+'"]'),{el:t}},initialize:function(){d.__super__.initialize.call(this),this.children=[],this.init()},init:function(){},update:function(){},showFromScroll:function(){},render:function(){},addChild:function(e){return e.el&&this.children.push(e),this},replace:function(e,t){t.el&&this.children.push(t);var n=t.el||t,i=this._findChild(this.el.children,e);this.el.replaceChild(i,n)},remove:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];if(e){var n=e.el||e;n&&e.dispose&&e.dispose(),n&&this.children.indexOf(e)>-1&&(this.children=this.children.filter(function(t){return t!==e})),e.children.length&&e.children.forEach(function(n){e.remove(n,t)}),t&&n.remove()}},mouseEnabled:function(e){this.el.style.pointerEvents=e?"auto":"none"},CSSTranslate:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"%":arguments[2],i=arguments[3],r=void 0;return r=Modernizr.csstransforms3d?"translate3d("+(e+n)+", "+(t+n)+", 0":"translate("+(e+n)+", "+(t+n)+")",i&&(r=r+" scale("+i+")"),r},removeAllChildren:function(){var e=this;this.children.forEach(function(t){return e.remove(t)})},triggerChildren:function(e,t){var n=this;t=t||this.children,t.forEach(function(t){t.trigger(e),chil.children.length&&n.triggerChildren(e,t.children)})},callChildren:function(e,t,n){var i=this;n=n||this.children,n.forEach(function(n){n[e]&&n[e](t),n.children.length&&i.callChildren(e,t,n.children)})},callChildrenAndSelf:function(e,t,n){n=n||this.children,this[e]&&this[e](t),this.callChildren(e,t,n)},dispose:function(){this.undelegateEvents(),this.stopListening(),c["default"].unbindView(this)}});n["default"]=d},{"../../common/ViewAutoBinder":348,"ampersand-view":22,"lodash.assign":41,"lodash.template":54}],363:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("../../common/ViewAutoBinder"),a=i(s),l=e("../../router/AppRouter"),u=i(l),c=e("common/Channel"),d=i(c),h=e("common/Constants"),f=i(h),p=e("common/Scroller"),v=i(p),m=o["default"].extend({autobindOnInstantiation:!1,_pageUrl:null,_title:null,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{pageUrl:"",title:""}:arguments[0];this._pageUrl=e.pageUrl,this._title=e.title,m.__super__.constructor.call(this,e)},show:function(e){a["default"].bindView(this);var t=u["default"].getInstance().getAnchor();t&&this.scrollToBlock(t),e&&"function"==typeof e&&e()},scrollToBlock:function(e){var t=d["default"].request(f["default"].REQUEST_INDEXED_BLOCKS).filter(function(t){return t.getAttribute("id")===e})[0];t&&v["default"].scrollTo({target:t})},hide:function(e){this.el.classList.add("is-animating-out"),setTimeout(function(){e&&"function"==typeof e&&e()},500)}});n["default"]=m},{"../../common/ViewAutoBinder":348,"../../router/AppRouter":354,"common/Channel":335,"common/Constants":336,"common/Scroller":342,"views/abstract/AbstractView":362}],364:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("common/Channel"),u=i(l),c=e("common/Constants"),d=i(c),h=e("common/Singleton"),f=i(h),p=e("models/LocalStorageModel"),v=i(p),m=a["default"].extend({template:"announcement",events:{"click [data-close-btn]":"dispose"},constructor:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];m.__super__.constructor.call(this),this.announcementId=this.el.getAttribute("data-announcement");var e=v["default"].getInstance(),t=e.get("viewedAnnouncements")||[];t.length&&t.indexOf(this.announcementId)!==-1||(this.el.classList.remove("pre-remove"),t.push(this.announcementId),e.set("viewedAnnouncements",t))},init:function(){u["default"].trigger(d["default"].HAS_ANNOUNCEMENT,this.el)},dispose:function(){var e=this;this.el.classList.add("pre-remove"),setTimeout(function(){u["default"].trigger(d["default"].ANNOUNCEMENT_REMOVED),u["default"].trigger(d["default"].EVENT_UPDATE_SCROLL_ITEMS),m.__super__.dispose.call(e)},400)}});n["default"]=(0,o["default"])(m,f["default"])},{"common/Channel":335,"common/Constants":336,"common/Singleton":344,"lodash.assign":41,"models/LocalStorageModel":351,"views/abstract/AbstractView":362}],365:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("lodash.random"),a=i(s),l=e("views/abstract/AbstractView"),u=i(l),c=e("common/Channel"),d=i(c),h=e("common/Constants"),f=i(h),p=e("common/Device"),v=i(p),m=e("common/MediaQueries"),g=(i(m),e("utils/DOM")),b=e("../../../../../interactive-branding/src/Four"),y=i(b),_=e("../../../../../interactive-branding/src/Four/defaults"),w=i(_),E=u["default"].extend({template:"article-cover",dims:{width:null,height:null},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),E.__super__.constructor.call(this,e)},_bindClassMethods:function(){this.onResize=this.onResize.bind(this),this.onScroll=this.onScroll.bind(this)},init:function(){d["default"].trigger(f["default"].HAS_HERO_HEADER,this.el),this.hasIB=Modernizr.dm_interactive_branding&&!!this.query("[data-ib-target]"),this.theme=this.el.getAttribute("data-theme"),this.IBnode=this.query("[data-ib-target]"),this.hasIB&&this.setupIB(),this.cacheDimensions(),this.bindEvents(),this.hasIB&&setTimeout(this.showIB.bind(this),1e3)},cacheDimensions:function(){var e=this.el.clientWidth,t=this.el.clientHeight,n=(0,g.getElOffset)(this.el);this.dims={width:e,height:t,top:n}},onResize:function(e,t){t&&(this.cacheDimensions(),!this.firstResize&&this.hasIB&&(this.IB.resize(this.dims.IBWidth,this.dims.IBHeight),this.showIB())),this.firstResize=!1},onScroll:function(e){this.hasIB&&(e>this.dims.IBTop+this.dims.IBHeight?this.IB.isPaused||this.IB.pause():this.IB.isPaused&&this.IB.play())},bindEvents:function(){this.listenTo(d["default"],f["default"].EVENT_RESIZE,this.onResize),this.listenTo(d["default"],f["default"].EVENT_SCROLL,this.onScroll)},unbindEvents:function(){},dispose:function(){this.unbindEvents(),this.hasIB&&this.IB.destroy(),E.__super__.dispose.apply(this,arguments)},setupIB:function(){var e=void 0;e="applied"===this.theme?"#CDEDEF":"research"===this.theme?"#7969C7":"#D5ECFC";var t=void 0;t=v["default"].power===v["default"].POWER_HIGH?{POINTS_count:12,CONNECTIONS_strength:.9,GUIDES_count:3,GUIDES_pointCount:2}:v["default"].power===v["default"].POWER_MEDIUM?{POINTS_count:9,CONNECTIONS_strength:.7,GUIDES_count:2,GUIDES_pointCount:2}:{POINTS_count:8,CONNECTIONS_strength:.7,GUIDES_count:1,GUIDES_pointCount:1},this.IB=new y["default"]((0,o["default"])({},w["default"].deepmind[v["default"].POWER_HIGH],{parentNode:this.IBnode,isInteractive:!1,autoplay:!1,clearOnRender:!0,CONNECTIONS_strengthAlpha:1,CONNECTIONS_colourOne:e,CONNECTIONS_colourTwo:"#FBFDFF",CONNECTIONS_colourThree:"#FBFDFF",GUIDES_colour:e,GUIDES_maxWidth:.5,GUIDE_INFLUENCE_persist:!0,CONTAINER_colour:"transparent"},t))},showIB:function(){this.IB.startPoint={x:0,y:.4*this.IB.height},this.IB.finishPoint={x:this.IB.width,y:.8*this.IB.height},this.IB.controlPoints=[{x:(0,a["default"])(.5,.8)*this.IB.width,y:(0,a["default"])(.6,.7)*this.IB.height}],this.IB.play().setupGuides().playGuidesAnimation({onShowComplete:function(){}}),this.IBnode.classList.add("show")}});n["default"]=E},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"common/Channel":335,"common/Constants":336,"common/Device":337,"common/MediaQueries":340,"lodash.assignin":42,"lodash.random":50,"utils/DOM":355,"views/abstract/AbstractView":362}],366:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("common/InteractiveBrandingHover"),a=i(s),l=o["default"].extend({template:"breaker",constructor:function(){l.__super__.constructor.apply(this,arguments),this.breakerHoverItems=this.queryAll("[data-ib-hover-item]"),this.bindEvents()},bindEvents:function(){Modernizr.touchevents||this.breakerHoverItems.forEach(function(e){e.addEventListener("mouseenter",a["default"].onMouseEnter,!1),e.addEventListener("mouseleave",a["default"].onMouseLeave,!1)})},unbindEvents:function(){Modernizr.touchevents||this.breakerHoverItems.forEach(function(e){e.removeEventListener("mouseenter",a["default"].onMouseEnter,!1),e.removeEventListener("mouseleave",a["default"].onMouseLeave,!1)})},dispose:function(){this.unbindEvents(),Modernizr.touchevents||this.breakerHoverItems.forEach(function(e){return a["default"].remove(e)}),l.__super__.dispose.apply(this,arguments)}});n["default"]=l},{"common/InteractiveBrandingHover":339,"views/abstract/AbstractView":362}],367:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=o["default"].extend({template:"cookie-banner",COOKIE_TIMEOUT:33696e6,SET_COOKIE_DELAY:5e3,events:{"click [data-close]":"onCloseBtnClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s.__super__.constructor.call(this,e)},init:function(){var e=this.el.getAttribute("data-last-updated");this.cookieName="hasConsent-"+e,setTimeout(this.checkForCompliance.bind(this),4e3)},checkForCompliance:function(){return!this.hasConsent()&&(this.showBanner(),void(this.setCookieTimer=setTimeout(this.setCookie.bind(this),this.SET_COOKIE_DELAY)))},hasConsent:function(){return document.cookie.indexOf(this.cookieName+"=true")>-1},setCookie:function(){var e=new Date;e.setTime(e.getTime()+this.COOKIE_TIMEOUT),document.cookie=this.cookieName+"=true;expires="+e.toGMTString()+";path=/"},onCloseBtnClick:function(){clearTimeout(this.setCookieTimer),this.hideBanner(),this.setCookie()},showBanner:function(){var e=this;this.el.classList.remove("is-hidden"),setTimeout(function(){e.el.classList.add("is-active")},100)},hideBanner:function(){var e=this;this.el.classList.remove("is-active"),setTimeout(function(){e.el.classList.add("is-hidden")},300)}});n["default"]=s},{"views/abstract/AbstractView":362}],368:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("lodash.random"),a=i(s),l=e("views/abstract/AbstractView"),u=i(l),c=e("common/Channel"),d=i(c),h=e("common/Constants"),f=i(h),p=e("common/Device"),v=i(p),m=e("../../../../../interactive-branding/src/Four"),g=i(m),b=e("../../../../../interactive-branding/src/Four/defaults"),y=i(b),_=u["default"].extend({template:"culture",dims:{width:null,height:null},firstResize:!0,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),_.__super__.constructor.call(this,e)},_bindClassMethods:function(){this.onResize=this.onResize.bind(this)},init:function(){this.hasIB=Modernizr.dm_interactive_branding,this.IBnode=this.query("[data-ib-target]"),this.hasIB&&this.setupIB(),this.cacheDimensions(),this.bindEvents(),"immediate"===this.el.getAttribute(f["default"].SCROLL_ITEM_EVENT)&&this.showFromScroll()},showFromScroll:function(){this.hasIB&&setTimeout(this.showIB.bind(this),1500)},cacheDimensions:function(){var e=this.el.clientWidth,t=this.el.clientHeight;this.dims={width:e,height:t,top:top}},onResize:function(e,t){t&&(this.cacheDimensions(),!this.firstResize&&this.hasIB&&(this.IB.resize(this.dims.width,this.dims.height),this.showIB()),this.firstResize=!1)},bindEvents:function(){d["default"].on(f["default"].EVENT_RESIZE,this.onResize)},unbindEvents:function(){d["default"].off(f["default"].EVENT_RESIZE,this.onResize)},dispose:function(){this.unbindEvents(),this.hasIB&&this.IB.destroy(),_.__super__.dispose.apply(this,arguments)},setupIB:function(){this.IB=new g["default"]((0,o["default"])({},y["default"].deepmind[v["default"].POWER_HIGH],{parentNode:this.IBnode,isInteractive:!1,autoplay:!1,clearOnRender:!0,POINTS_count:14,CONNECTIONS_strength:.4,CONNECTIONS_strengthAlpha:1,GUIDES_colour:"#2F9EEF",GUIDES_maxWidth:1.2,CONTAINER_colour:"transparent",GUIDE_INFLUENCE_persist:!0,GUIDE_INFLUENCE_strengthBoost:.3,CONNECTIONS_colourOne:"#2F9EEF",CONNECTIONS_colourTwo:"#D9EAF6",CONNECTIONS_colourThree:"#D9EAF6"}))},showIB:function(){var e=this;this.IB.startPoint={x:0,y:0},this.IB.finishPoint={x:this.IB.width,y:.8*this.IB.height},this.IB.controlPoints=[{x:(0,a["default"])(.2,.3)*this.IB.width,y:(0,a["default"])(.5,.7)*this.IB.height}],this.IB.play().setupGuides().playGuidesAnimation({onShowComplete:function(){e.IB.pause()}})}});n["default"]=_},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"common/Channel":335,"common/Constants":336,"common/Device":337,"lodash.assignin":42,"lodash.random":50,"views/abstract/AbstractView":362}],369:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("common/Channel"),a=i(s),l=e("common/Constants"),u=i(l),c=e("utils/DOM"),d=o["default"].extend({template:"edi-fieldset",events:{"click [data-edi-toggle]":"onToggleClick"},dimensions:{ediHeight:0},shown:!1,ctaText:{HIDDEN:"Show&nbsp;More",SHOWN:"Show&nbsp;Less"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),d.__super__.constructor.call(this,e),this.toggleBtn=this.query("[data-edi-toggle]"),this.wrapper=this.query("[data-edi-wrapper]"),this.inner=this.query("[data-edi-inner]"),this.cacheDimensions(),this.bindEvents()},_bindClassMethods:function(){this.onResize=this.onResize.bind(this)},bindEvents:function(){this.listenTo(a["default"],u["default"].EVENT_RESIZE,this.onResize)},onResize:function(){this.cacheDimensions(),this.shown&&this.setHeight()},cacheDimensions:function(){var e=(0,c.getElHeight)(this.inner);this.dimensions={height:e}},onToggleClick:function(e){this.shown?this.hide():this.show()},show:function(){this.toggleBtn.innerHTML=this.ctaText.SHOWN,this.setHeight(),this.wrapper.classList.add("is-open"),this.shown=!0},hide:function(){this.toggleBtn.innerHTML=this.ctaText.HIDDEN,this.unsetHeight(),this.wrapper.classList.remove("is-open"),this.shown=!1},setHeight:function(){this.wrapper.style.height=this.dimensions.height+"px"},unsetHeight:function(){this.wrapper.style.height="0px"}});n["default"]=d},{"common/Channel":335,"common/Constants":336,"utils/DOM":355,"views/abstract/AbstractView":362}],370:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("common/Channel"),a=i(s),l=e("common/Constants"),u=i(l),c=e("router/AppRouter"),d=i(c),h=e("utils/replaceScriptTags"),f=i(h),p=o["default"].extend({template:"embed",constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),p.__super__.constructor.call(this,e)},init:function(){this.iframe=this.query("iframe"),this.bindEvents(),this.requestFrameDimensions();var e=d["default"].getInstance();e.routeCount>1&&(0,f["default"])(this.el),window.em=this},dispose:function(){this.unbindEvents(),p.__super__.dispose.apply(this,arguments)},_bindClassMethods:function(){this.onResize=this.onResize.bind(this),this.onWindowMessage=this.onWindowMessage.bind(this),this.onFrameLoad=this.onFrameLoad.bind(this)},bindEvents:function(){this.listenTo(a["default"],u["default"].EVENT_RESIZE,this.onResize),window.addEventListener("message",this.onWindowMessage,!1),this.iframe&&this.iframe.addEventListener("load",this.onFrameLoad,!1)},unbindEvents:function(){window.addEventListener("message",this.onWindowMessage,!1),this.iframe&&this.iframe.addEventListener("load",this.onFrameLoad,!1)},onResize:function(){this.requestFrameDimensions()},onWindowMessage:function(e){if(this.iframe){var t=JSON.parse(e.data);"requestDimensions"===t.type&&t.messageId===this.cid&&this.updateDimensions(t.dimensions)}},onFrameLoad:function(){this.requestFrameDimensions()},requestFrameDimensions:function(){this.iframe&&this.iframe.contentWindow.postMessage(JSON.stringify({type:"requestDimensions",messageId:this.cid}),"*")},updateDimensions:function(e){this.iframe.style.height=e.height+"px"}});n["default"]=p},{"common/Channel":335,"common/Constants":336,"router/AppRouter":354,"utils/replaceScriptTags":358,"views/abstract/AbstractView":362}],371:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.debounce"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("utils/DOM"),u=e("common/MediaQueries"),c=i(u),d=e("common/Channel"),h=i(d),f=e("common/Constants"),p=i(f),v=a["default"].extend({template:"faq",events:{"click [data-faq-question]":"onQuestionClick"},questionSelector:"[data-faq-question]",answerContainer:null,activeAnswer:null,questions:null,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),v.__super__.constructor.call(this,e),this.questions=this.queryAll(this.questionSelector)},_bindClassMethods:function(){this.onResize=(0,o["default"])(this.onResize.bind(this),p["default"].RESIZE_DEBOUNCE)},init:function(){this.currentBreakpoint=c["default"].getDeviceState(),this.answerContainerOuter=this.query("[data-faq-answer-container]"),this.answerContainer=this.query("[data-faq-answer-container] .faq-item--answer"),c["default"].isLargerThanBreakpoint(c["default"].DESKTOP)&&(this.activeAnswer=this.query("[data-faq-answer]"),this.activeAnswer.parentNode.classList.toggle("faq-list--item-active"),this.updateDesktopAnswerHeight()),this.listenTo(h["default"],p["default"].EVENT_RESIZE,this.onResize)},onResize:function(){var e=c["default"].getDeviceState();e!==c["default"].DEFAULT&&e!==c["default"].TABLETPORTRAIT?(this.updateDesktopAnswerHeight(),this.currentBreakpoint!==c["default"].DEFAULT&&this.currentBreakpoint!==c["default"].TABLETPORTRAIT||this.resetAcrossBreakpoints()):e!==c["default"].DEFAULT&&e!==c["default"].TABLETPORTRAIT||this.currentBreakpoint===c["default"].DEFAULT||this.currentBreakpoint===c["default"].TABLETPORTRAIT||this.resetAcrossBreakpoints(),this.currentBreakpoint=e},onQuestionClick:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];e&&e.preventDefault();var n=t||e.delegateTarget.getAttribute("data-faq-question"),i=this.query('[data-faq-answer="'+n+'"]'),r=i.children[0];if(1!==this.questions.length||!c["default"].isLargerThanBreakpoint(c["default"].DESKTOP)){if(this.activeAnswer&&(this.activeAnswer.removeAttribute("style"),this.activeAnswer.parentNode.classList.toggle("faq-list--item-active"),i===this.activeAnswer&&!t))return void(this.activeAnswer=null);i.parentNode.classList.toggle("faq-list--item-active"),c["default"].isSmallerThanBreakpoint(c["default"].DESKTOP)&&(i.style.maxHeight=(0,l.getElHeight)(r)+"px"),this.toggleDesktopAnswer(i,r)}},toggleDesktopAnswer:function(e,t){var n=this;this.answerContainer.classList.add("is-hidden"),setTimeout(function(){n.answerContainer.innerHTML=t.innerHTML,n.updateDesktopAnswerHeight(),setTimeout(function(){n.answerContainer.classList.remove("is-hidden")},200)},200),this.activeAnswer=e},resetAcrossBreakpoints:function(){var e=this.activeAnswer?this.activeAnswer.getAttribute("data-faq-answer"):this.query("[data-faq-question]").getAttribute("data-faq-question");this.onQuestionClick(null,e)},updateDesktopAnswerHeight:function(){var e=(0,l.getElHeight)(this.answerContainer)+parseInt(window.getComputedStyle(this.answerContainerOuter)["padding-top"],10)+parseInt(window.getComputedStyle(this.answerContainerOuter)["padding-bottom"],10);this.answerContainerOuter.style.height=e+"px"}});n["default"]=v},{"common/Channel":335,"common/Constants":336,"common/MediaQueries":340,"lodash.debounce":43,"utils/DOM":355,"views/abstract/AbstractView":362}],372:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("common/InteractiveBrandingHover"),u=i(l),c=a["default"].extend({template:"featured",constructor:function(){Modernizr.touchevents||(this.events=(0,o["default"])(this.events,{mouseenter:u["default"].onMouseEnter,mouseleave:u["default"].onMouseLeave})),c.__super__.constructor.apply(this,arguments)},dispose:function(){Modernizr.touchevents||u["default"].remove(this.el),c.__super__.dispose.apply(this,arguments)}});n["default"]=c},{"common/InteractiveBrandingHover":339,"lodash.assignin":42,"views/abstract/AbstractView":362}],373:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("utils/FormValidator"),a=i(s),l=o["default"].extend({template:"form-elements",events:{'focus textarea, input:not([type="image"]):not([type="file"])':"onFieldFocusIn",'blur textarea, input:not([type="image"]):not([type="file"])':"onFieldFocusOut",'change input[type="file"], input[type="image"]':"onFileChange","change [data-required]":"onValueChange","change textarea":"onResizeTextarea","blur textarea":"onResizeTextarea","keyup textarea":"onResizeTextarea","keydown textarea":"onResizeTextarea"},activeEl:null,prevEl:null,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.__super__.constructor.call(this,e)},onFieldFocusIn:function(e){},onFieldFocusOut:function(e){var t=e.target,n=t.value.trim();""!==n?t.classList.add("form--field-filled"):t.classList.remove("form--field-filled")},onFileChange:function(e){var t=e.target,n=t.files[0],i=t.nextElementSibling,r=i.querySelector("[data-filename]");r.innerText=n.name+" attached",i.classList.add("form--field-filled")},onValueChange:function(e){var t=e.target,n=t.hasAttribute("required")||t.hasAttribute("data-required"),i=["radio","checkbox"].indexOf(t.type)!==-1?t.checked:t.value.trim();if(["radio","checkbox"].indexOf(t.type)!==-1)switch(i){case!0:i=""+i;break;case!1:i=""}a["default"].findValid(t)&&n?a["default"].markValid(t):a["default"].findInvalid(t)&&n&&a["default"].markInvalid(t)},onResizeTextarea:function(e){var t=e.target,n=t.value.trim(),i=t.scrollHeight+2;i>108&&""!==n?t.style.minHeight=Math.ceil(i)+"px":t.removeAttribute("style")}});n["default"]=l},{"utils/FormValidator":356,"views/abstract/AbstractView":362}],374:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]='\n  <div\n    class="form--full-message bg-blue-4"\n    data-form-message\n  >\n    <div class="form--full-message-inner">\n      <svg class="icon icon-<%= type %>">\n        <use xlink:href="#<%= type %>"></use>\n      </svg>\n      <h3 class="h5"><%= title %></h3>\n      <div class="rich-text"><%= body %></div>\n    </div>\n  </div>\n'},{}],375:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.status>=200&&e.status<=300?a["default"].resolve(e):a["default"].reject(new Error(e.statusText))}function o(e){return e.json()}Object.defineProperty(n,"__esModule",{value:!0}),e("whatwg-fetch");var s=e("native-promise-only"),a=i(s),l=e("lodash.template"),u=i(l),c=e("domify"),d=i(c),h=e("views/abstract/AbstractView"),f=i(h),p=e("models/AppModel"),v=i(p),m=e("common/Constants"),g=i(m),b=e("views/components/FormElements"),y=i(b),_=e("utils/FormValidator"),w=i(_),E=e("views/components/FormMessage/index.tmpl.js"),I=i(E),T=f["default"].extend({template:"formbox-form",modules:[y["default"]],events:{"submit form":"onFormSubmit"},validator:null,formWrapper:null,form:null,submitBtn:null,requestActive:!1,API_URL:null,captchaId:null,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),T.__super__.constructor.call(this,e),this.fullMessageTmpl=(0,u["default"])(I["default"]),this.validator=new w["default"]("[data-required]"),this.formWrapper=this.query("[data-form-wrapper]"),this.form=this.query("form"),this.submitBtn=this.query("[data-submit-btn]"),this.csrfToken=this.query('[name*="csrf"]').value,this.captcha=this.query("[data-g-recaptcha-node]"),this.config=JSON.parse(this.el.getAttribute("data-data")),
this.renderCaptcha()},_bindClassMethods:function(){this.onResetState=this.onResetState.bind(this),this.onRequestDone=this.onRequestDone.bind(this),this.onRequestFail=this.onRequestFail.bind(this)},renderCaptcha:function(){window.grecaptcha?this.captchaId=window.grecaptcha.render(this.captcha,{sitekey:this.captcha.getAttribute("data-sitekey")}):this.loadRecaptcha(this.renderCaptcha.bind(this))},resetCaptcha:function(){window.grecaptcha&&window.grecaptcha.reset()},loadRecaptcha:function(e){window.onloadRecaptchaCallback=e;var t="https://www.google.com/recaptcha/api.js?onload=onloadRecaptchaCallback&render=explicit",n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=t;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)},onFormSubmit:function(e){var t=this;return e.preventDefault(),this.removeMessage(),this.validator.validate()?window.grecaptcha.getResponse(this.captchaId)?!this.requestActive&&(this.requestActive=!0,this.API_URL||(this.API_URL=""+v["default"].getInstance().get("baseUrl")+this.form.getAttribute("action")),fetch(this.API_URL,{method:"POST",body:new FormData(this.form),credentials:"same-origin",headers:{"X-CSRFToken":this.csrfToken}}).then(this.onResetState).then(r).then(o).then(function(e){return e.errors?a["default"].reject(e):a["default"].resolve(e)}).then(this.onRequestDone)["catch"](this.onRequestFail),this.formWrapper.classList.add("form--request-active"),this.submitBtn.disabled=!0,void setTimeout(function(e){return t.submitBtn.innerText="Please wait..."},100)):(this.showBasicMessage(g["default"].FORM_CAPCHA_ERROR_MSG),!1):(this.showBasicMessage(g["default"].FORM_INVALID_FIELDS_MSG),!1)},onResetState:function(e){return this.requestActive=!1,this.formWrapper.classList.remove("form--request-active"),this.submitBtn.removeAttribute("disabled"),this.submitBtn.innerText="Submit",e},onRequestDone:function(e){this.showFullMessage("success"),this.hideForm(),this.resetCaptcha()},onRequestFail:function(e){this.showFullMessage("error"),this.resetCaptcha()},hideForm:function(){this.formWrapper.classList.add("form--success")},showBasicMessage:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=document.createElement("p"),i=document.createElement("span");n.classList.add("bg-blue-1","p--meta","white","relative"),n.setAttribute("data-form-message",""),n.innerText=e,t&&i.classList.add("form--mark-success"),n.appendChild(i),this.form.appendChild(n)},removeMessage:function(){var e=this.queryAll("[data-form-message]");e.length&&e.forEach(function(e){return e.remove()})},showFullMessage:function(e){var t={type:e,title:this.config.messages[e].title,body:this.config.messages[e].body},n=(0,d["default"])(this.fullMessageTmpl(t));this.form.appendChild(n),setTimeout(function(){n.classList.add("show")},100)}});n["default"]=T},{"common/Constants":336,domify:30,"lodash.template":54,"models/AppModel":350,"native-promise-only":297,"utils/FormValidator":356,"views/abstract/AbstractView":362,"views/components/FormElements":373,"views/components/FormMessage/index.tmpl.js":374,"whatwg-fetch":328}],376:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=o["default"].extend({template:"gif",events:{"click .icon-fullscreen":"onFullscreenClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s.__super__.constructor.call(this,e)},onFullscreenClick:function(e){e&&e.preventDefault()}});n["default"]=s},{"views/abstract/AbstractView":362}],377:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=o["default"].extend({template:"image",events:{"click .icon-fullscreen":"onFullscreenClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s.__super__.constructor.call(this,e)},onFullscreenClick:function(e){e&&e.preventDefault()}});n["default"]=s},{"views/abstract/AbstractView":362}],378:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("views/components/Slider"),a=i(s),l=e("common/ViewFinder"),u=(i(l),o["default"].extend({template:"image-carousel",modules:[a["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];u.__super__.constructor.call(this,e)}}));n["default"]=u},{"common/ViewFinder":349,"views/abstract/AbstractView":362,"views/components/Slider":403}],379:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]='\n  <section class="section--block block-context--<%= context %> overflow-hidden"\n    data-dm-tmpl="image-carousel"\n    <%= inSlideshow ? \'\' : \'data-scroll-item\' %>>\n    <div class="image-carousel-wrapper slider"\n      data-slider\n      data-slider-conf=\'<%= JSON.stringify(config) %>\'\n      data-dm-tmpl="slider">\n      <div class="slider--frame" data-slider-frame>\n      <% items.forEach(function(item, idx) { %>\n        <div class="slider--slide">\n          <div class="container cf" data-dm-tmpl="image">\n            <div class="g-lg-col-8 g-lg-push-2 g-md-col-6 g-md-col-4">\n              <figure\n                <%= inSlideshow ? \'\' : \'data-slideshow-image="image-\'+item.imageId+\'"\' %>>\n                <div class="image--container">\n                  <div class="image--holder">\n                    <img src="<%= item.imageSrc %>" class="img--object-contain" srcset="<%= item.imageSrcset %>" sizes="<%= item.imageSizes %>">\n                  </div>\n                  <% if (!inSlideshow) { %>\n                    <svg class="icon icon-fullscreen">\n                      <title>fullscreen</title>\n                      <use xlink:href="#fullscreen"></use>\n                    </svg>\n                    <svg class="icon icon-fullscreen-mobile">\n                      <title>fullscreen mobile</title>\n                      <use xlink:href="#fullscreen_mobile"></use>\n                    </svg>\n                  <% } %>\n                </div>\n                <% if (item.caption) { %>\n                  <figcaption class="p--meta grey-mid">\n                    <%= item.caption %>\n                    <span class="link--icon right-0 figcaption--toggle-show" data-toggle-more>\n                      <svg class="icon icon-arrow">\n                        <use xlink:href="#arrow"></use>\n                      </svg>\n                      Show <span data-more>more</span><span data-less>less</span>\n                    </span>\n                  </figcaption>\n                <% } %>\n              </figure>\n            </div>\n          </div>\n        </div>\n      <% }) %>\n    </div>\n    <div class="slider--controls">\n      <div class="slider--ctrl-prev">\n        <svg class="icon icon-next">\n          <title>next</title>\n          <use xlink:href="#next"></use>\n        </svg>\n      </div>\n      <div class="slider--pagination p--meta current-color">\n      </div>\n      <div class="slider--ctrl-next">\n        <svg class="icon icon-next">\n          <title>next</title>\n          <use xlink:href="#next"></use>\n        </svg>\n      </div>\n    </div>\n  </section>\n'},{}],380:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.last"),o=i(r),s=e("lodash.debounce"),a=i(s),l=e("views/AppView"),u=i(l),c=e("views/abstract/AbstractView"),d=i(c),h=e("common/Channel"),f=i(h),p=e("common/Constants"),v=i(p),m=e("common/Scroller"),g=i(m),b=e("utils/DOM"),y=.2,_=d["default"].extend({template:"in-page-navigation",events:{"click [data-display]":"onDisplayButtonClick","click [data-nav-link]":"onNavLinkClick"},dimensions:null,currentActiveBlockId:null,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_.__super__.constructor.call(this,e),this.appView=u["default"].getInstance(),this.nav=this.query("[data-nav]"),this.navLinks=this.queryAll("[data-nav-link]"),this.display=this.query("[data-display]"),this.current=this.query("[data-current]"),this.setupBlocks(),this._bindClassMethods(),this.addEventListeners(),this.cacheDimensions(),this.bindEvents()},addEventListeners:function(){window.addEventListener("click",this.onWindowClick)},removeEventListeners:function(){window.removeEventListener("click",this.onWindowClick)},_bindClassMethods:function(){this.onScroll=this.onScroll.bind(this),this.onWindowClick=this.onWindowClick.bind(this),this.onScrollEnd=this.onScrollEnd.bind(this),this.onAnnouncementClose=this.onAnnouncementClose.bind(this),this.onResize=(0,a["default"])(this.onResize.bind(this),v["default"].RESIZE_DEBOUNCE)},setupBlocks:function(){var e=this.navLinks.map(function(e){return e.href.split("#")[1]});this.currentPageBlocks=f["default"].request(v["default"].REQUEST_INDEXED_BLOCKS).filter(function(t){return e.indexOf(t.id)>-1}).map(function(e){return{el:e}})},cacheDimensions:function(){var e=(0,b.getElHeight)(this.el),t=(0,b.getElOffset)(this.el);this.dimensions={height:e,offset:t},this.currentPageBlocks.forEach(function(e){e.height=(0,b.getElHeight)(e.el),e.offset=(0,b.getElOffset)(e.el)})},bindEvents:function(){this.listenTo(f["default"],v["default"].EVENT_SCROLL,this.onScroll),this.listenTo(f["default"],v["default"].EVENT_SCROLL_END,this.onScrollEnd),this.listenTo(f["default"],v["default"].ANNOUNCEMENT_REMOVED,this.onAnnouncementClose),this.listenTo(f["default"],v["default"].EVENT_RESIZE,this.onResize)},onNavLinkClick:function(e){e&&e.preventDefault()&&e.stopPropagation();var t=e.delegateTarget.getAttribute("href").split("#")[1];e.delegateTarget.textContent;this.scrollToBlock(t),this.nav.classList.remove("dropdown-list--is-active")},setCurrent:function(){var e=this;this.currentActiveBlockId?this.navLinks.forEach(function(t){e.display.classList.add("has-selected");var n=t.href.split("#")[1]===e.currentActiveBlockId?"add":"remove";"add"===n&&(e.current.textContent=t.textContent),t.classList[n]("is-active")}):(this.display.classList.remove("has-selected"),this.current.textContent="",this.navLinks.forEach(function(e){return e.classList.remove("is-active")}))},onScroll:function(e){var t=this,n=e>=this.dimensions.offset+this.dimensions.height?"add":"remove";this.el.classList[n]("is-sticky");var i=(0,o["default"])(this.currentPageBlocks.filter(function(n){return e>=n.offset-t.appView.dimensions.height*y})),r=i?i.el.id:null;r!==this.currentActiveBlockId&&(this.currentActiveBlockId=r,this.setCurrent())},onScrollEnd:function(){this.cacheDimensions()},onAnnouncementClose:function(){this.cacheDimensions()},onResize:function(){this.cacheDimensions()},scrollToBlock:function(e){var t=this.currentPageBlocks.filter(function(t){return t.el.id===e})[0];t&&g["default"].scrollTo({target:t.el,offset:-this.dimensions.height})},onDisplayButtonClick:function(e){e&&e.preventDefault()&&e.stopPropagation(),(0,b.toggleClass)(this.nav,"dropdown-list--is-active")},onWindowClick:function(e){var t=this;(0,b.closest)(e.target,function(e){return e===t.nav})||this.nav.classList.remove("dropdown-list--is-active")},dispose:function(){this.removeEventListeners(),_.__super__.dispose.call(this)}});n["default"]=_},{"common/Channel":335,"common/Constants":336,"common/Scroller":342,"lodash.debounce":43,"lodash.last":47,"utils/DOM":355,"views/AppView":361,"views/abstract/AbstractView":362}],381:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("common/Share"),a=i(s),l=e("common/Analytics"),u=i(l),c=o["default"].extend({template:"inline-share",events:{"click [data-network]":"onSocialNetworkClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.__super__.constructor.call(this,e)},dispose:function(){c.__super__.dispose.apply(this,arguments)},onSocialNetworkClick:function(e){e&&e.preventDefault()&&e.stopPropagation();var t=e.delegateTarget.getAttribute("data-network"),n=this.el.getAttribute("data-url")||window.location.href,i=this.el.getAttribute("data-title"),r=this.el.getAttribute("data-description");switch(t){case"googleplus":a["default"].googleplus({url:n});break;case"twitter":a["default"].twitter({url:n,title:i});break;case"facebook":a["default"].facebook({url:n,title:i});break;case"linkedin":a["default"].linkedin({url:n,title:i,summary:r})}var o="Social share";u["default"].action(o,t,n)}});n["default"]=c},{"common/Analytics":334,"common/Share":343,"views/abstract/AbstractView":362}],382:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("lodash.random"),a=i(s),l=e("views/abstract/AbstractView"),u=i(l),c=e("common/Channel"),d=i(c),h=e("common/Constants"),f=i(h),p=e("common/Device"),v=i(p),m=e("utils/DOM"),g=e("../../../../../interactive-branding/src/Four"),b=i(g),y=e("../../../../../interactive-branding/src/Four/defaults"),_=i(y),w=u["default"].extend({template:"landing-cover",dims:{width:null,height:null},firstResize:!0,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),w.__super__.constructor.call(this,e)},_bindClassMethods:function(){this.onResize=this.onResize.bind(this),this.onScroll=this.onScroll.bind(this)},init:function(){d["default"].trigger(f["default"].HAS_HERO_HEADER,this.el),this.hasIB=Modernizr.dm_interactive_branding,this.theme=this.el.getAttribute("data-theme"),this.IBnode=this.query("[data-ib-target]"),this.hasIB&&this.setupIB(),this.cacheDimensions(),this.bindEvents(),"immediate"===this.el.getAttribute(f["default"].SCROLL_ITEM_EVENT)&&this.showFromScroll()},showFromScroll:function(){this.hasIB&&setTimeout(this.showIB.bind(this),1e3)},cacheDimensions:function(){var e=this.IBnode.clientWidth,t=(0,m.getElHeight)(this.IBnode),n=(0,m.getElOffset)(this.IBnode);this.dims={IBWidth:e,IBHeight:t,IBTop:n}},onResize:function(e,t){t&&(this.cacheDimensions(),!this.firstResize&&this.hasIB&&(this.IB.resize(this.dims.IBWidth,this.dims.IBHeight),this.showIB())),this.firstResize=!1},onScroll:function(e){this.hasIB&&(e>this.dims.IBTop+this.dims.IBHeight?this.IB.isPaused||this.IB.pause():this.IB.isPaused&&this.IB.play())},bindEvents:function(){this.listenTo(d["default"],f["default"].EVENT_RESIZE,this.onResize)},unbindEvents:function(){},dispose:function(){this.unbindEvents(),this.hasIB&&this.IB.destroy(),w.__super__.dispose.apply(this,arguments)},setupIB:function(){var e=void 0,t=void 0;"applied"===this.theme?(e="#00757B",t="#007C87"):"research"===this.theme?(e="#413186",t="#6354B1"):(e="#0074C8",t="#0074C8"),this.IB=new b["default"]((0,o["default"])({},_["default"].deepmind[v["default"].POWER_HIGH],{parentNode:this.IBnode,isInteractive:!1,autoplay:!1,clearOnRender:!0,POINTS_count:12,CONNECTIONS_reach:50,CONNECTIONS_strength:.7,CONNECTIONS_strengthAlpha:1,CONNECTIONS_colourOne:t,CONNECTIONS_colourTwo:"#2D2C5B",CONNECTIONS_colourThree:"#2D2C5B",GUIDES_colour:e,GUIDES_maxWidth:.5,GUIDES_count:1,GUIDES_pointCount:2,GUIDE_INFLUENCE_persist:!0,CONTAINER_colour:"transparent"}))},showIB:function(){var e=this;this.IB.startPoint={x:0,y:.4*this.IB.height},this.IB.finishPoint={x:this.IB.width,y:.8*this.IB.height},this.IB.controlPoints=[{x:(0,a["default"])(.5,.8)*this.IB.width,y:(0,a["default"])(.6,.7)*this.IB.height}],this.IB.play().setupGuides().playGuidesAnimation({onShowComplete:function(){e.IB.pause()}}),this.IBnode.classList.add("show")}});n["default"]=w},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"common/Channel":335,"common/Constants":336,"common/Device":337,"lodash.assignin":42,"lodash.random":50,"utils/DOM":355,"views/abstract/AbstractView":362}],383:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var o=e("lodash.template"),s=i(o),a=e("lodash.isempty"),l=i(a),u=e("lodash.assignin"),c=i(u),d=e("fuse.js"),h=i(d),f=e("views/abstract/AbstractView"),p=i(f),v=e("router/AppRouter"),m=i(v),g=e("common/Channel"),b=i(g),y=e("common/Constants"),_=i(y),w=e("utils/serializeForm"),E=i(w),I=e("utils/DOM"),T=e("./index.tmpl.js"),S=function(e,t){for(var n=e;n.className.split(" ").indexOf(t)===-1;)if(n=n.parentNode,!n)return null;return n},C=function(e){return e.hasAttribute&&(e.hasAttribute("data-display")||e.hasAttribute("data-filter"))},x=p["default"].extend({template:"list-filter",events:{"click [data-display]":"onDisplayClick","click [data-filter]":"onFilterClick","click [data-value]":"onValueClick","change select":"onSelectChange","keyup input":"onInputKeyUp","keyup [data-filter-input]":"onFilterInputKeyUp","focus [data-filter-input]":"onFilterInputFocus","blur [data-filter-input]":"onFilterInputBlur","submit form":"onFormSubmit","reset form":"onFormReset"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),this.listItemsTmpl=(0,s["default"])(T.listItems),x.__super__.constructor.call(this,e),this.bindEvents()},_bindClassMethods:function(){this.changePartialView=this.changePartialView.bind(this),this.onInputKeyUp=this.onInputKeyUp.bind(this),this.onDocumentClick=this.onDocumentClick.bind(this)},bindEvents:function(){document.addEventListener("click",this.onDocumentClick),this.listenTo(b["default"],_["default"].EVENT_CHANGE_PARTIAL_VIEW,this.changePartialView)},init:function(){this.appRouter=m["default"].getInstance(),this.form=this.query("[data-form]"),this.fields=this.queryAll("input:not([data-filter-input]), select"),this.dropdowns=this.queryAll("select").map(function(e){return[e.id,Array.prototype.slice.call(e.children).map(function(e){return{searchValue:e.value,displayValue:e.text,selected:!1}})]}).map(function(e){return r({},e[0],{data:e[1]})}).reduce(function(e,t){return(0,c["default"])(e,t)}),(0,I.toggleClass)(this.el,"initialized"),this.initFuse(),this.updateUIState()},changePartialView:function(){this.updateUIState()},onDocumentClick:function(e){(0,I.closest)(e.target,C)||this.toggleListVisibility()},onInputKeyUp:function(e){this.form.querySelector('button[type="submit"]').disabled=0===e.target.value.length},onFilterInputKeyUp:function(e){var t=e.target.value.trim(),n=this.activeInput.data;t&&(n=this.activeInput.fuse.search(e.target.value)),this.activeInputTarget.innerHTML=this.listItemsTmpl({items:n})},onFilterInputFocus:function(e){var t=e.target.parentNode.getAttribute("data-filter");this.activeInput=this.dropdowns[t.toLowerCase()],this.activeInputTarget=this.query('[data-filter-target="'+t+'"]')},onFilterInputBlur:function(e){this.activeInput=null,this.activeInputTarget=null},onDisplayClick:function(e){e.preventDefault();var t=S(e.delegateTarget,"select-list");this.toggleListVisibility(t)},onFilterClick:function(e){e.preventDefault()&&e.stopPropagation()},onValueClick:function(e){e.preventDefault();var t=S(e.target,"select-list"),n=t.getAttribute("data-name"),i=e.target.getAttribute("data-value");this.setListValue(n,i),this.toggleListVisibility(t)},toggleListVisibility:function(e){var t=this.form.querySelector(".select-list.is-active");t&&t.classList.remove("is-active"),e&&e!==t&&(0,I.toggleClass)(e,"is-active")},setListValue:function(e,t){var n=arguments.length<=2||void 0===arguments[2]||arguments[2],i=this.form.querySelector('[name="'+e+'"]');if(i){if("INPUT"===i.tagName)return i.value=null===t?"":t;var r=n&&i.value===t;i.value=r?"":t,this.selectListItem(e,t,r),this.updateDropdownData(e,t),n&&this.updateRouter()}},selectListItem:function(e,t,n){var i=this.form.querySelector('[data-name="'+e+'"] li.is-selected');i&&i.classList.remove("is-selected");var r=this.form.querySelector('[data-name="'+e+'"] [data-display]'),o=r.getAttribute("data-display");if(t){var s=this.form.querySelector('[data-name="'+e+'"] li[data-value="'+t+'"]');s.classList.add("is-selected"),n?(r.classList.remove("has-selection"),r.querySelector("span").textContent=o):(r.classList.add("has-selection"),r.querySelector("span").textContent=s.textContent)}else r.classList.remove("has-selection"),r.querySelector("span").textContent=o},onSelectChange:function(e){e.preventDefault(),this.updateRouter()},onFormSubmit:function(e){e.preventDefault(),this.updateRouter()},onFormReset:function(e){this.updateRouter(!0)},updateRouter:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];if(!Modernizr.dm_page_transitions)return e?window.location.href=this.appRouter.current.route:this.form.submit();var t="";e||(t=(0,E["default"])(this.form),t=""===t?t:"?"+t),this.appRouter.navigateTo(this.appRouter.current.route+t)},updateUIState:function(){var e=this,t=(0,c["default"])({},this.appRouter.current.query)||{};delete t.page,(0,l["default"])(t)?this.form.querySelector('button[type="reset"]').disabled=!0:this.form.querySelector('button[type="reset"]').removeAttribute("disabled"),this.fields.forEach(function(n){var i=t[n.name]?t[n.name]:null;e.setListValue(n.name,i,!1)})},updateDropdownData:function(e,t){t=t||"";var n=this.dropdowns[e].data.find(function(e){return e.selected===!0&&e.searchValue!==t}),i=this.dropdowns[e].data.find(function(e){return e.searchValue===t&&e.selected===!1}),r=this.dropdowns[e].data.indexOf(i);if(n||i){if(i.selected=!0,n){var o=this.dropdowns[e].data.indexOf(n);n.selected=!1,this.dropdowns[e].data[o]=n}this.dropdowns[e].data[r]=i,this.dropdowns[e].fuse.set(this.dropdowns[e].data)}},initFuse:function(){var e=this;Object.keys(this.dropdowns).forEach(function(t){e.dropdowns[t].fuse=new h["default"](e.dropdowns[t].data,{keys:["displayValue"],threshold:.4})})},dispose:function(){x.__super__.dispose.call(this),document.removeEventListener("click",this.onDocumentClick)}});n["default"]=x},{"./index.tmpl.js":384,"common/Channel":335,"common/Constants":336,"fuse.js":33,"lodash.assignin":42,"lodash.isempty":46,"lodash.template":54,"router/AppRouter":354,"utils/DOM":355,"utils/serializeForm":359,"views/abstract/AbstractView":362}],384:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="\n<% items.forEach(function (option, i) { %>\n  <li class=\"p--standard p--module <%= option.selected ? 'is-selected' : '' %>\" data-value=\"<%= option.searchValue %>\">\n    <%= option.displayValue %>\n  </li>\n<% }) %>\n";n["default"]='\n  <div\n    class="list-filter bg-blue-4"\n    data-dm-tmpl="list-filter">\n    <div class="container cf">\n      <div class="g-lg-col-12 g-md-col-6 g-sm-col-4">\n        <form action="" method="GET" data-form>\n          <div class="selects">\n          <% selects.forEach((select, i) => { %>\n          <div\n            class="select-list"\n            data-dm-tmpl="select-list"\n            data-name="<%= select.value %>"\n            id="<%= select.value %>">\n\n            <div class="select--no-js">\n              <label for="<%= select.value %>"><%= select.label %></label>\n              <select name="<%= select.value %>" id="<%= select.value %>" value="">\n                <option value=""></option>\n                <% select.options.forEach((option, j) => { %>\n                  <option value="<%= option.value %>"><%= option.label %></option>\n                <% }) %>\n              </select>\n            </div>\n\n            <div class="select--js">\n              <div class="select-list--display p--standard p--module" data-display="<%= select.label %>">\n                <span><%= select.label %></span>\n                <svg class="icon icon-arrow">\n                  <title>arrow</title>\n                  <use xlink:href="#arrow"></use>\n                </svg>\n              </div>\n              <ul class="unstyled bg-grey-light">\n              <% select.options.forEach((option, j) => { %>\n                <li class="p--standard p--module" data-value="<%= option.value %>"><%= option.label %></li>\n              <% }) %>\n              </ul>\n            </div>\n\n          </div>\n          <% }) %>\n          </div>\n\n          <div class="controls right">\n            <% if (version < 2) { %>\n            <div class="input--container">\n              <input class="p--standard p--module list-filter--search-input" type="text" name="keywords" placeholder="Search by title">\n              <button type="submit">\n                <svg class="icon icon-search">\n                  <title>search</title>\n                  <use xlink:href="#search"></use>\n                </svg>\n              </button>\n            </div>\n            <% } %>\n            <button type="reset" class="p--standard p--module" disabled="disabled">\n              <span>Clear</span>\n              <svg class="icon icon-close icon-black">\n                <title>close</title>\n                <use xlink:href="#close"></use>\n              </svg>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n',n.listItems=i},{}],385:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=o["default"].extend({template:"list-pagination",modules:[],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s.__super__.constructor.call(this,e)}});n["default"]=s},{"views/abstract/AbstractView":362}],386:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("common/InteractiveBrandingHover"),u=i(l),c=a["default"].extend({template:"blog-list-item",constructor:function(){Modernizr.touchevents||(this.events=(0,o["default"])(this.events,{mouseenter:u["default"].onMouseEnter,mouseleave:u["default"].onMouseLeave})),c.__super__.constructor.apply(this,arguments)},dispose:function(){Modernizr.touchevents||u["default"].remove(this.el),c.__super__.dispose.apply(this,arguments)}});n["default"]=c},{"common/InteractiveBrandingHover":339,"lodash.assignin":42,"views/abstract/AbstractView":362}],387:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=(i(r),e("views/abstract/AbstractView")),s=i(o),a=e("common/Channel"),l=i(a),u=e("common/Constants"),c=i(u),d=e("utils/DOM"),h=s["default"].extend({template:"research-list-item",events:{"click [data-toggle]":"toggleExpand"},info:null,toggleBtn:null,expanded:!1,transitionTime:400,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];h.__super__.constructor.call(this,e),this.info=this.query("[data-info]"),this.toggleBtn=this.query("[data-toggle]")},toggleExpand:function(e){e&&e.preventDefault(),this.expanded=!this.expanded,this.expanded?this.info.style.maxHeight=(0,d.getElHeight)(this.info.children[0])+"px":this.info.removeAttribute("style"),this.toggleBtn.setAttribute("data-toggle",this.expanded?"less":"more"),setTimeout(function(){l["default"].trigger(c["default"].EVENT_UPDATE_SCROLL_ITEMS)},this.transitionTime)}});n["default"]=h},{"common/Channel":335,"common/Constants":336,"lodash.assign":41,"utils/DOM":355,"views/abstract/AbstractView":362}],388:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("router/AppRouter"),u=i(l),c=e("models/AppModel"),d=i(c),h=e("views/components/ListFilter"),f=i(h),p=e("views/components/ListPagination"),v=i(p),m=e("./components/ResearchListItem"),g=i(m),b=e("./components/BlogListItem"),y=i(b),_=e("common/Channel"),w=i(_),E=e("common/Constants"),I=i(E),T=e("common/ViewFinder"),S=i(T),C=e("common/ViewAutoBinder"),x=i(C),A=e("common/Scroller"),O=i(A),N=e("utils/serializeToQueryString"),M=i(N),P=e("utils/DOM"),k=a["default"].extend({template:"listing",modules:[f["default"],v["default"],g["default"],y["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),k.__super__.constructor.call(this,e),this.bindEvents()},_bindClassMethods:function(){this.changePartialView=this.changePartialView.bind(this),this.handleWindowClick=this.handleWindowClick.bind(this),this.onDropdownMenuButtonClick=this.onDropdownMenuButtonClick.bind(this)},bindEvents:function(){window.addEventListener("click",this.handleWindowClick);var e=document.querySelector(".dropdown-menu--button");e&&e.addEventListener("click",this.onDropdownMenuButtonClick),this.listenTo(w["default"],I["default"].EVENT_CHANGE_PARTIAL_VIEW,this.changePartialView)},init:function(){this.appRouter=u["default"].getInstance(),this.appModel=d["default"].getInstance(),this.TEMP_updatePaginationLinks()},onDropdownMenuButtonClick:function(e){var t=this.query(".dropdown-menu");t&&(0,P.toggleClass)(t,"is-active")},handleWindowClick:function(e){var t=this.query(".dropdown-menu");e.target!==this.query(".dropdown-menu--button")&&t&&t.classList.remove("is-active")},TEMP_updatePaginationLinks:function(){var e=this;if(this.query("[data-pagination-pages]")){var t=document.querySelector(".dropdown-menu--button");t&&t.addEventListener("click",this.onDropdownMenuButtonClick);var n=this.query(".listing--pagination-prev"),i=this.query(".listing--pagination-next"),r=this.queryAll(".listing--pagination-number"),s=this.query("[data-current-page]"),a=this.appRouter.current.query,l=a?parseInt(a.page,10)||1:1,u=parseInt(this.query("[data-total-pages]").getAttribute("data-total-pages"),10);if(s.textContent=l,n){var c=(0,o["default"])({},a,{page:l-1});1===c.page&&delete c.page,c=(0,M["default"])(c);var d=c?this.appRouter.current.route+"?"+c:this.appRouter.current.route;n.href=this.appModel.get("baseUrl")+"/"+d}if(i){var h=(0,M["default"])((0,o["default"])({},a,{page:l+1})),f=this.appRouter.current.route+"?"+h;i.href=this.appModel.get("baseUrl")+"/"+f}r.length&&r.forEach(function(t){var n=(0,o["default"])({},a,{page:t.getAttribute("data-page")});1===parseInt(n.page,10)&&delete n.page,n=(0,M["default"])(n);var i=n?e.appRouter.current.route+"?"+n:e.appRouter.current.route;l===parseInt(t.getAttribute("data-page"),0)&&t.parentNode.classList.add("is-active"),t.href=e.appModel.get("baseUrl")+"/"+i}),1===l&&n?n.remove():l===u&&i&&i.remove()}},changePartialView:function(){var e=this,t=w["default"].request(I["default"].REQUEST_PAGE_MODEL),n=t.get("pagePartials").listing,i=S["default"].findChildren(this,[g["default"],y["default"],v["default"]]);i.forEach(function(t){return e.remove(t,!1)});var r=S["default"].findChildren(this,f["default"]),o=r.length?r[0].el:0;O["default"].scrollTo({target:o,offset:-115,maxTime:300},function(){var t=e.query('[data-dm-page-partial="listing"]'),i=t.parentNode;t.remove(),i.appendChild(n[0]),x["default"].bindView(e),w["default"].trigger(I["default"].EVENT_UPDATE_SCROLL_ITEMS),e.TEMP_updatePaginationLinks()})}});n["default"]=k},{"./components/BlogListItem":386,"./components/ResearchListItem":387,"common/Channel":335,"common/Constants":336,"common/Scroller":342,"common/ViewAutoBinder":348,"common/ViewFinder":349,"lodash.assignin":42,"models/AppModel":350,"router/AppRouter":354,"utils/DOM":355,"utils/serializeToQueryString":360,"views/abstract/AbstractView":362,"views/components/ListFilter":383,"views/components/ListPagination":385}],389:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("lodash.random"),a=i(s),l=e("views/abstract/AbstractView"),u=i(l),c=e("common/Channel"),d=i(c),h=e("common/Constants"),f=i(h),p=e("common/Device"),v=i(p),m=e("views/components/Slider"),g=i(m),b=e("common/ViewFinder"),y=i(b),_=e("utils/DOM"),w=e("../../../../../interactive-branding/src/Four"),E=i(w),I=e("../../../../../interactive-branding/src/Four/defaults"),T=i(I),S=u["default"].extend({
template:"team",modules:[g["default"]],dims:{width:null,height:null},firstResize:!0,events:{"click .slider--slide--next":"onNextSlideClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),S.__super__.constructor.call(this,e),window.MTT=this;var t=y["default"].findChildren(this,g["default"]);this.sliderView=t[0]},_bindClassMethods:function(){this.onResize=this.onResize.bind(this)},init:function(){var e=!!this.query(".is-stacked");this.hasIB=Modernizr.dm_interactive_branding&&e,this.slideCount=this.queryAll(".slider--slide").length,this.IBnode=this.query("[data-ib-target]"),this.hasIB&&this.setupIB(),this.cacheDimensions(),this.bindEvents(),"immediate"===this.el.getAttribute(f["default"].SCROLL_ITEM_EVENT)&&this.showFromScroll()},onNextSlideClick:function(){this.showNextItem()},showNextItem:function(){this.sliderView.slider.slideNext()},showFromScroll:function(){this.hasIB&&setTimeout(this.showIB.bind(this),1e3)},cacheDimensions:function(){var e=this.el.clientWidth,t=this.el.clientHeight,n=(0,_.getElHeight)(this.query(".slider--slide")),i=t-n*this.slideCount;this.dims={width:e,height:t,top:top,slideHeight:n,paddingTop:i}},onResize:function(e,t){t&&(this.cacheDimensions(),!this.firstResize&&this.hasIB&&(this.IB.resize(this.dims.IBWidth,this.dims.IBHeight),this.showIB())),this.firstResize=!1},bindEvents:function(){d["default"].on(f["default"].EVENT_RESIZE,this.onResize)},unbindEvents:function(){d["default"].off(f["default"].EVENT_RESIZE,this.onResize)},dispose:function(){this.unbindEvents(),this.hasIB&&this.IB.destroy(),S.__super__.dispose.apply(this,arguments)},setupIB:function(){this.IB=new E["default"]((0,o["default"])({},T["default"].deepmind[v["default"].POWER_HIGH],{parentNode:this.IBnode,isInteractive:!1,autoplay:!1,clearOnRender:!0,POINTS_count:15,CONNECTIONS_reach:50,CONNECTIONS_strength:.5,CONNECTIONS_strengthAlpha:1,CONNECTIONS_colourOne:"#0074C8",CONNECTIONS_colourTwo:"#104870",CONNECTIONS_colourThree:"#104870",GUIDES_colour:"#76BEF2",GUIDES_maxWidth:.5,GUIDES_count:6,GUIDES_pointCount:2,GUIDE_INFLUENCE_persist:!0,CONTAINER_colour:"transparent"}))},showIB:function(){var e=this;this.IB.startPoint=this._getIBStart(),this.IB.finishPoint=this._getIBFinish(),this.IB.controlPoints=[{x:(0,a["default"])(.4,.6)*this.IB.width,y:(0,a["default"])(.4,.6)*this.IB.height}],this.IB.play().setupGuides().playGuidesAnimation({onShowComplete:function(){e.IB.pause()}})},_getIBStart:function(){var e=this.IB.height/this.slideCount,t=.8*this.IB.width,n=e/2;return{x:t,y:n}},_getIBFinish:function(){var e=this.IB.height/this.slideCount,t=.2*this.IB.width,n=e*(this.slideCount-1)+e/2;return{x:t,y:n}}});n["default"]=S},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"common/Channel":335,"common/Constants":336,"common/Device":337,"common/ViewFinder":349,"lodash.assignin":42,"lodash.random":50,"utils/DOM":355,"views/abstract/AbstractView":362,"views/components/Slider":403}],390:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("common/Channel"),u=i(l),c=e("common/Constants"),d=i(c),h=e("common/Device"),f=i(h),p=e("views/components/Slider"),v=i(p),m=e("../../../../../interactive-branding/src/Four"),g=i(m),b=e("../../../../../interactive-branding/src/Four/defaults"),y=i(b),_=e("common/ViewFinder"),w=i(_),E={deepmind:{GUIDES_colour:"#37A0EC",CONTAINER_colour:"#104870"},applied:{GUIDES_colour:"#2BCAD1",CONTAINER_colour:"#0B626F"},research:{GUIDES_colour:"#B0AAD2",CONTAINER_colour:"#362C6F"},"ethics-society":{GUIDES_colour:"#37A0EC",CONTAINER_colour:"#104870"}},I=a["default"].extend({template:"milestones",modules:[v["default"]],firstResize:!0,mousePosition:{x:null,y:null},mouseOver:!1,autoscrollSpeed:0,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),I.__super__.constructor.call(this,e),this.hasIB=Modernizr.dm_interactive_branding,this.theme=this.el.getAttribute("data-theme")||"deepmind";var t=w["default"].findChildren(this,v["default"]);this.sliderView=t[0],this.hasIB&&this.setupSlideIBs(),this.cacheDimensions(),Modernizr.touchevents||Modernizr.firefox||this.update(),this.bindEvents()},_bindClassMethods:function(){this.onSliderMove=this.onSliderMove.bind(this),this.onResize=this.onResize.bind(this),this.update=this.update.bind(this)},dispose:function(){Modernizr.touchevents||Modernizr.firefox||window.cancelAnimationFrame(this.update),this.hasIB&&this.slideIBs.forEach(function(e){return e.IB.destroy()}),I.__super__.dispose.call(this)},bindEvents:function(){this.listenTo(this.sliderView,p.events.MOVE,this.onSliderMove),this.listenTo(u["default"],d["default"].EVENT_RESIZE,this.onResize)},setupSlideIBs:function(){var e=this;this.slideIBs=this.queryAll("[data-ib-target]").map(function(t){var n=t,i=!1,r=new g["default"]((0,o["default"])({},y["default"][e.theme][f["default"].POWER_HIGH],E[e.theme],{parentNode:n,isInteractive:!1,autoplay:!1,POINTS_count:14,CONNECTIONS_render:!1,GUIDES_count:3,GUIDES_pointCount:1,GUIDES_tweenTime:500,startPoint:{x:1,y:1}}));return{node:n,rendered:i,IB:r}})},cacheDimensions:function(){var e=this.el.clientWidth,t=this.el.clientHeight;this.dims={width:e,height:t}},onSliderMove:function(e){this.hasIB&&this.checkForVisibleSlideIB()},onResize:function(){this.cacheDimensions(),!this.firstResize&&this.hasIB&&(this.slideIBs.forEach(function(e){e.IB.resize(),e.rendered=!1}),this.checkForVisibleSlideIB()),this.firstResize=!1},onMouseEnter:function(){this.mouseOver=!0},onMouseLeave:function(){this.mouseOver=!1},onMouseMove:function(e){this.mouseOver=!0;var t=e.pageX,n=e.pageY;this.mousePosition={x:t,y:n}},update:function(){if(this.sliderView.slider){this.mouseOver&&(this.mousePosition.x/this.dims.width>.8?this.moveRight(this.mousePosition.x):this.mousePosition.x/this.dims.width<.2&&this.moveLeft(this.mousePosition.x));var e=this.sliderView.slider.translate+this.autoscrollSpeed;e>0?e=0:e<-(this.sliderView.slider.virtualSize-this.sliderView.slider.size)&&(e=-(this.sliderView.slider.virtualSize-this.sliderView.slider.size)),this.sliderView.slider.setWrapperTranslate(e),this.autoscrollSpeed*=.95,Math.abs(this.autoscrollSpeed)<.1&&(this.autoscrollSpeed=0),window.requestAnimationFrame(this.update)}},moveRight:function(e){var t=(e-.8*this.dims.width)/(.2*this.dims.width)*1;this.autoscrollSpeed-=t},moveLeft:function(e){var t=(.2-e/this.dims.width)/.2*1;this.autoscrollSpeed+=t},checkForVisibleSlideIB:function(){var e=Math.floor((this.dims.width-this.sliderView.slider.translate)/this.sliderView.slider.slidesSizesGrid[0]),t=this.slideIBs.filter(function(t,n){return n<=e-1}).filter(function(e){return!e.rendered});t[0]&&!this.animating&&this.showNextIB(t[0])},showNextIB:function(e){var t=this;this.animating=!0;var n=e.IB;n.startPoint={x:0,y:.5*n.height},n.finishPoint={x:n.width,y:.5*n.height},n.controlPoints=[{x:.5*n.width,y:.5*n.height}],n.play().setupGuides().playGuidesAnimation({onShowComplete:function(){n.pause(),t.animating=!1,t.checkForVisibleSlideIB()}}),e.rendered=!0}});n["default"]=I},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"common/Channel":335,"common/Constants":336,"common/Device":337,"common/ViewFinder":349,"lodash.assignin":42,"views/abstract/AbstractView":362,"views/components/Slider":403}],391:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.srcset=e.srcset.map(function(e){return e.replace(/\s/g,"+")}),e}Object.defineProperty(n,"__esModule",{value:!0});var o=e("lodash.assignin"),s=i(o),a=e("lodash.random"),l=i(a),u=e("lodash.uniqueid"),c=i(u),d=e("lodash.template"),h=i(d),f=e("lodash.find"),p=i(f),v=e("lodash.shuffle"),m=i(v),g=e("domify"),b=i(g),y=e("tween.js"),_=i(y),w=e("perfect-scrollbar"),E=i(w),I=e("views/abstract/AbstractView"),T=i(I),S=e("views/AppView"),C=i(S),x=e("common/Channel"),A=i(x),O=e("common/Constants"),N=i(O),M=e("common/Device"),P=i(M),k=e("common/MediaQueries"),R=i(k),L=e("utils/DOM"),D=e("../../../../../interactive-branding/src/Four"),j=i(D),B=e("../../../../../interactive-branding/src/Four/defaults"),V=i(B),H=e("./ui.tmpl"),F=185,U=200,G={LARGE_SCREEN:-.2,SMALL_SCREEN:-.28},z=200,q=200,W=T["default"].extend({template:"milestones-interactive",dims:{viewportWidth:null,width:null,height:null},milestones:[],ui:{years:null,items:null,content:null},activeYear:null,activeItem:null,isAnimating:!1,containerScroll:0,events:{mousemove:"onMouseMove","click [data-year-id]":"onYearClick","mouseenter [data-year-id]":"onYearEnter","click [data-item-id]":"onItemClick","click [data-scroll-control]":"onScrollControlClick","click [data-close-item-btn]":"onCloseItemClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),W.__super__.constructor.call(this,e)},_bindClassMethods:function(){this.onResize=this.onResize.bind(this),this.onContainerScroll=this.onContainerScroll.bind(this),this.onYearEnter=this.onYearEnter.bind(this),this.onYearLeave=this.onYearLeave.bind(this),this.onItemEnter=this.onItemEnter.bind(this),this.onItemLeave=this.onItemLeave.bind(this)},init:function(){return Modernizr.dm_interactive_branding?(this.resolution=window.devicePixelRatio&&window.devicePixelRatio>1?1.5:1,this.milestones=this.getMilestonesData(),this.IBnode=this.query("[data-ib-target]"),this.interactiveUi=this.query("[data-interactive-ui]"),this.interactiveContainer=this.query("[data-interactive-container]"),this.contentContainer=this.query("[data-content-container]"),this.scrollControls={left:this.query('[data-scroll-control="left"]'),right:this.query('[data-scroll-control="right"]')},this.yearTmpl=(0,h["default"])(H.year),this.itemTmpl=(0,h["default"])(H.item),this.contentTmpl=(0,h["default"])(H.content),this.setupDimensions(),this.setupUI(),this.setupIB(),this.scrollbar=E["default"].initialize(this.interactiveContainer),this.onContainerScroll(),this.bindEvents(),void("immediate"===this.el.getAttribute(N["default"].SCROLL_ITEM_EVENT)&&this.showFromScroll())):void this.el.classList.add("show-fallback")},getMilestonesData:function(){var e=JSON.parse(this.el.getAttribute("data-milestones-data"));return e.forEach(function(e){e.m_id="milestone-"+(0,c["default"])(),e.items.forEach(function(e){e.m_id="milestone-item-"+(0,c["default"])()})}),e},showFromScroll:function(){Modernizr.dm_interactive_branding&&setTimeout(this.animateIn.bind(this),1e3)},setupUI:function(){var e=this;this.ui.years={},this.milestones.forEach(function(t){var n=t.year,i=t.m_id,r=(0,b["default"])(e.yearTmpl({year:n,m_id:i}));e.ui.years[i]={el:r},e.interactiveUi.appendChild(r)})},setupIB:function(){var e=this.milestones.map(function(e){return{m_id:e.m_id,position:e.position,items:e.items.map(function(e){return e.m_id})}}),t={milestones:e};this.IB=new j["default"]((0,s["default"])({},V["default"].deepmind[P["default"].POWER_HIGH],{parentNode:this.IBnode,initialWidth:this.dims.width,initialHeight:this.dims.height,autoplay:!0,POINTS_count:8,POINTS_maxVelocity:1,CONNECTIONS_reach:80,CONNECTIONS_maxPerPoint:18,CONNECTIONS_strength:.3,CONNECTIONS_strengthAlpha:.75,CONTAINER_colour:"#184062",GUIDES_fixedRoam:.02,GUIDES_maxWidth:1.5,GUIDE_INFLUENCE_reach:.3,GUIDE_INFLUENCE_strengthBoost:.5,isInteractive:!1,isInteractiveMilestones:!0,interactiveMilestonesPointCallback:this.onPointsUpdate.bind(this),interactiveMilestonesConfig:t}))},animateIn:function(){var e=this;this.IB.showInteractiveMilestones(function(){var t=0,n=0,i=150;for(var r in e.ui.years)!function(t,r){setTimeout(function(){e.ui.years[t].el.classList.add("show-dot"),setTimeout(function(){e.ui.years[t].el.classList.add("show-title")},50)},n+r*i)}(r,t),t++})},setupDimensions:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!t){var i=C["default"].getInstance();t=i.dimensions}if(n)return this.dims.offset=(0,L.getElOffset)(this.el),void(this.dims.viewportWidth=t.width);var r=t.width,o=(0,L.getElHeight)(this.el),s=void 0;this.milestones.forEach(function(t,n){var i=void 0;i=0===n?F:s+U*(0,l["default"])(.85,1.15),s=i;var r=o*(0,l["default"])(.46,.54);t.position={x:i*e.resolution,y:r*e.resolution}});var a=Math.floor(s+F);a<r?!function(){var t=(r-a)/2;e.milestones.forEach(function(n){return n.position.x+=t*e.resolution})}():r=a,this.dims={offset:(0,L.getElOffset)(this.el),viewportWidth:t.width,width:r,height:o},this.IBnode.style.width=this.dims.width+"px"},onResize:function(e,t){t?(this.setupDimensions(e),this.IB.resize(this.dims.width,this.dims.height),this.IB.updateInteractiveMilestones(this.milestones)):this.setupDimensions(e,!0),this.onContainerScroll()},onMouseMove:function(e){if(Modernizr.dm_interactive_branding){var t=e.pageX+this.containerScroll,n=e.pageY-this.dims.offset;this.IB.setPointer(t,n)}},onYearClick:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];if(Modernizr.dm_interactive_branding&&!this.isAnimating){var n=(0,L.closest)(e.target,function(e){return!!e.getAttribute("data-year-id")}),i=n.getAttribute("data-year-id");this.hideItemContent(),this.activeYear?this.activeYear===i?t&&this.hideYear(i):this.hideYear(this.activeYear,!1,this.showYear.bind(this,i,!1)):this.showYear(i)}},onYearEnter:function(e){this.yearEnterTimer=setTimeout(this.onYearClick.bind(this,e,!1),200)},onYearLeave:function(){clearTimeout(this.yearEnterTimer)},onItemClick:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],n=(0,L.closest)(e.target,function(e){return!!e.getAttribute("data-item-id")}),i=n.getAttribute("data-item-id");this.ui.content?this.ui.content.m_id===i?t&&this.hideItemContent():this.hideItemContent(!1,this.showItemContent.bind(this,i)):this.showItemContent(i)},onItemEnter:function(e){this.itemEnterTimer=setTimeout(this.onItemClick.bind(this,e,!1),200)},onItemLeave:function(){clearTimeout(this.itemEnterTimer)},onScrollControlClick:function(e){var t=(0,L.closest)(e.target,function(e){return!!e.getAttribute("data-scroll-control")}),n=t.getAttribute("data-scroll-control"),i="left"===n?-z:z;this.scrollContainer(this.containerScroll+i)},onCloseItemClick:function(){this.hideItemContent()},onPointsUpdate:function(e){var t=this;e.years.forEach(function(e){var n=t.ui.years[e.m_id];if(n){var i=e.x/t.resolution,r=e.y/t.resolution;(0,L.setTransform)(n.el,"translate("+i+"px, "+r+"px)"),n.x=i,n.y=r}}),e.items.forEach(function(e){var n=t.ui.items[e.m_id];if(n){var i=e.x/t.resolution,r=e.y/t.resolution;(0,L.setTransform)(n.el,"translate("+i+"px, "+r+"px)"),n.x=i,n.y=r}})},onContainerScroll:function(){this.containerScroll=this.interactiveContainer.scrollLeft;var e=this.containerScroll>0?"add":"remove",t=this.dims.width>this.dims.viewportWidth&&this.containerScroll<this.dims.width-this.dims.viewportWidth?"add":"remove";this.scrollControls.left.classList[e]("show"),this.scrollControls.right.classList[t]("show"),this.ui.content&&Math.abs(this.containerScroll-this.ui.content.scrollWhenShown)>=q&&this.hideItemContent()},showYear:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]||arguments[1];this.isAnimating=!0;var i=R["default"].getDeviceState()===R["default"].DEFAULT?"SMALL_SCREEN":"LARGE_SCREEN";this.activeYear=t,this.highlightActiveYear(t),this.scrollToYear(t),this.addItemsForYear(t,function(){n?e.IB.animateInteractiveMilestonesToOffset(G[i],t,function(){e.IB.showInteractiveMilestoneYear(t,function(){e.showItemsForYear(t),e.isAnimating=!1})}):e.IB.showInteractiveMilestoneYear(t,function(){e.showItemsForYear(t),e.isAnimating=!1})})},hideYear:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],i=arguments[2];this.isAnimating=!0,this.unhighlightActiveYear(e),this.hideItemsForYear(e,function(){t.removeItemsForYear(e)}),setTimeout(function(){t.IB.hideInteractiveMilestoneYear(e,function(){n?t.IB.animateInteractiveMilestonesToOffset(0,e,function(){t.activeYear=null,i&&"function"==typeof i&&i(),t.isAnimating=!1}):(t.activeYear=null,i&&"function"==typeof i&&i(),t.isAnimating=!1)})},200)},highlightActiveYear:function(e){this.ui.years[e].el.classList.add("is-active")},unhighlightActiveYear:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(e)this.ui.years[e].el.classList.remove("is-active");else for(var t in this.ui.years)this.ui.years[t].el.classList.remove("is-active")},scrollToYear:function(e,t){if(!e)return void(t&&"function"==typeof t&&t());var n=C["default"].getInstance(),i=this.ui.years[e],r=i.x-n.dimensions.width/2;this.scrollContainer(r,t)},addItemsForYear:function(e,t){var n=this;this.ui.items=this.ui.items||{};var i=(0,p["default"])(this.milestones,function(t){return t.m_id===e});i.items.forEach(function(t){var i=t.m_id,r=t.icon,o=t.context,s=e,a=(0,b["default"])(n.itemTmpl({m_id:i,icon:r,context:o}));n.ui.items[i]={el:a,parent:s},n.interactiveUi.appendChild(a)}),this.bindItemEvents(),t&&"function"==typeof t&&window.requestAnimationFrame(t)},removeItemsForYear:function(e){var t=this;this.unbindItemEvents();var n=this._getAddedItemsByYear(e);n.forEach(function(e){e.itemObj.el.parentNode.removeChild(e.itemObj.el),delete t.ui.items[e.m_id]})},showItemsForYear:function(e,t){var n=(0,m["default"])(this._getAddedItemsByYear(e)),i=50,r=400;n.forEach(function(e,o){!function(e,o){setTimeout(function(){e.itemObj.el.classList.add("show"),o===n.length-1&&t&&"function"==typeof t&&setTimeout(t,r)},i*o)}(e,o)})},hideItemsForYear:function(e,t){var n=(0,m["default"])(this._getAddedItemsByYear(e)),i=50,r=400;n.forEach(function(e,o){!function(e,o){setTimeout(function(){e.itemObj.el.classList.remove("show"),o===n.length-1&&t&&"function"==typeof t&&setTimeout(t,r)},i*o)}(e,o)})},_getAddedItemsByYear:function(e){var t=[];for(var n in this.ui.items)this.ui.items[n].parent===e&&t.push({itemObj:this.ui.items[n],m_id:n});return t},showItemContent:function(e){var t=[];this.milestones.forEach(function(e){return t=t.concat(e.items)});var n=(0,p["default"])(t,function(t){return t.m_id===e});n.thumbnail&&(n.thumbnail=r(n.thumbnail));var i=(0,b["default"])(this.contentTmpl({item:n})),o=this.containerScroll;this.ui.content={m_id:e,el:i,scrollWhenShown:o},this.contentContainer.appendChild(i);for(var s in this.ui.items){var a=s===e?"is-active":"is-inactive",l=s!==e?"is-active":"is-inactive";this.ui.items[s].el.classList.add(a),this.ui.items[s].el.classList.remove(l)}setTimeout(function(){i.classList.add("show")},20)},hideItemContent:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0],n=arguments[1];if(this.ui.content){var i=200;if(this.ui.content.el.classList.remove("show"),setTimeout(function(){e.ui.content&&(e.ui.content.el.parentNode.removeChild(e.ui.content.el),e.ui.content=null),n&&"function"==typeof n&&n()},i),t)for(var r in this.ui.items)this.ui.items[r].el.classList.remove("is-active","is-inactive")}},scrollContainer:function Y(e,t){var n=C["default"].getInstance(),i=this.dims.width-n.dimensions.width,Y=this.interactiveContainer;e=Math.max(0,e),e=Math.min(i,e);var r={scrollPosition:this.containerScroll},o=new _["default"].Tween(r).to({scrollPosition:e},700).onUpdate(function(){Y.scrollLeft=this.scrollPosition}).easing(_["default"].Easing.Quintic.Out);t&&"function"==typeof t&&o.onComplete(t),o.start()},bindEvents:function(){if(A["default"].on(N["default"].EVENT_RESIZE,this.onResize),this.interactiveContainer.addEventListener("scroll",this.onContainerScroll,!1),!Modernizr.touchevents)for(var e in this.ui.years)this.ui.years[e].el.addEventListener("mouseenter",this.onYearEnter,!1),this.ui.years[e].el.addEventListener("mouseleave",this.onYearLeave,!1)},unbindEvents:function(){if(A["default"].off(N["default"].EVENT_RESIZE,this.onResize),this.interactiveContainer.removeEventListener("scroll",this.onContainerScroll,!1),!Modernizr.touchevents)for(var e in this.ui.years)this.ui.years[e].el.removeEventListener("mouseenter",this.onYearEnter,!1),this.ui.years[e].el.removeEventListener("mouseleave",this.onYearLeave,!1)},bindItemEvents:function(){if(!Modernizr.touchevents)for(var e in this.ui.items)this.ui.items[e].el.addEventListener("mouseenter",this.onItemEnter,!1),this.ui.items[e].el.addEventListener("mouseleave",this.onItemLeave,!1)},unbindItemEvents:function(){if(!Modernizr.touchevents)for(var e in this.ui.items)this.ui.items[e].el.removeEventListener("mouseenter",this.onItemEnter,!1),this.ui.items[e].el.removeEventListener("mouseleave",this.onItemLeave,!1)},dispose:function(){this.unbindEvents(),this.IB.destroy(),E["default"].destroy(this.interactiveContainer),W.__super__.dispose.apply(this,arguments)}});n["default"]=W},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"./ui.tmpl":392,"common/Channel":335,"common/Constants":336,"common/Device":337,"common/MediaQueries":340,domify:30,"lodash.assignin":42,"lodash.find":44,"lodash.random":50,"lodash.shuffle":52,"lodash.template":54,"lodash.uniqueid":57,"perfect-scrollbar":299,"tween.js":327,"utils/DOM":355,"views/AppView":361,"views/abstract/AbstractView":362}],392:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.year='\n  <div\n    class="milestones-interactive--year"\n    data-year-id="<%= m_id %>">\n    <h6 class="h6 blue-3 noselect">\n      <%= year %>\n    </h6>\n  </div>\n',n.item='\n  <div\n    class="milestones-interactive--item block-context--<%= context %>"\n    data-item-id="<%= m_id %>">\n    <div\n    class="milestones-interactive--item-inner">\n      <svg class="icon icon-<%= icon %>">\n        <use xlink:href="#<%= icon %>"></use>\n      </svg>\n    </div>\n  </div>\n',n.content='\n  <article\n    class="milestones-interactive--content g-md-col-3 <%= item.thumbnail ? \'g-lg-col-7 g-lg-push-3 has-image\' : \'g-lg-col-4 g-lg-push-4\' %>">\n    <div class="milestones-interactive--content-inner">\n      <% if (item.thumbnail) { %>\n        <% if (item.pageUrl) { %>\n          <a href="<%= item.pageUrl %>">\n        <% } %>\n          <figure class="m0 left milestones-interactive--content-thumbnail">\n            <div class="img-holder img-holder--16-9 img-holder--<%= item.context %>">\n              <div class="grad-map--absolute grad-map--<%= item.context %>">\n                <img\n                  class="img--object-fit"\n                  src="<%= item.thumbnail.original %>"\n                  srcset="<%= item.thumbnail.srcset[0] %> 200w, <%= item.thumbnail.srcset[3] %> 300w" sizes="100vw">\n              </div>\n            </div>\n          </figure>\n        <% if (item.pageUrl) { %>\n          </a>\n        <% } %>\n      <% } %>\n      <div class="milestones-interactive--content-text">\n        <% if (item.pageUrl) { %>\n          <a href="<%= item.pageUrl %>" class="milestones-interactive--content-heading no-underline">\n        <% } else { %>\n          <span class="milestones-interactive--content-heading">\n        <% } %>\n            <h1 class="heading heading--<%= item.context %> h6 "><%= item.title %></h1>\n        <% if (item.pageUrl) { %>\n          </a>\n        <% } else { %>\n          </span>\n        <% } %>\n        <div class="milestones-interactive--content-links">\n          <% if (item.pageUrl || item.links && item.links.length) { %>\n            <a href="<%= item.pageUrl %>" class="p--meta link--icon underline underline--white">\n              <svg class="icon icon-arrow">\n                <use xlink:href="#arrow"></use>\n              </svg>\n              Find out more</a>\n            <br>\n            <% item.links && item.links.forEach(function(link, i) { %>\n              <a href="<%= link.url %>" class="p--meta link--icon underline underline--white">\n                <svg class="icon icon-arrow">\n                  <use xlink:href="#arrow"></use>\n                </svg>\n                <%= link.title %></a>\n              <br>\n            <% }) %>\n          <% } %>\n          <span class="p--meta link--icon underline underline--white close-link" data-close-item-btn>\n            <svg class="icon icon-close">\n              <use xlink:href="#close"></use>\n            </svg>\n            Close\n          </span>\n        </div>\n      </div>\n    </div>\n    <svg class="icon icon-close close-btn" data-close-item-btn>\n      <title>close</title>\n      <use xlink:href="#close"></use>\n    </svg>\n  </article>\n'},{}],393:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=(i(r),e("views/abstract/AbstractView")),s=i(o),a=e("utils/DOM"),l=s["default"].extend({template:"milestones-listing",events:{"click [data-toggle]":"toggleExpand"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.__super__.constructor.call(this,e)},dispose:function(){l.__super__.dispose.call(this)},toggleExpand:function(e){e&&e.preventDefault();var t=(0,a.closest)(e.target,function(e){return(0,a.hasClass)(e,"milestones-listing--item")}),n=!JSON.parse(t.getAttribute("data-expanded")),i=t.querySelector("[data-info]"),r=t.querySelector("[data-toggle]");n?i.style.maxHeight=(0,a.getElHeight)(i.children[0])+"px":i.removeAttribute("style"),(0,a.toggleClass)(t,"is-expanded"),t.setAttribute("data-expanded",n),r.setAttribute("data-toggle",n?"less":"more")}});n["default"]=l},{"lodash.assignin":42,"utils/DOM":355,"views/abstract/AbstractView":362}],394:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("views/abstract/AbstractView"),a=i(s),l=e("utils/DOM.js"),u=function(){function e(t,n,i,o){r(this,e),this.el=t,this.childSelector=n,this.maxChildren=i,this.buttonTmpl=o,this.wrapper=void 0,this.inner=void 0,this.button=void 0,this.children=this.el.querySelectorAll(this.childSelector),this.fullHeight=void 0,this.truncated=!1,this._init()}return o(e,[{key:"_init",value:function(){this._shouldCollapse()&&(this._bindClassMethods(),this._setup(),this._collapse())}},{key:"_shouldCollapse",value:function(){return this.children.length>this.maxChildren}},{key:"_bindClassMethods",value:function(){this._handleClickButton=this._handleClickButton.bind(this),this._handleResize=this._handleResize.bind(this)}},{key:"_setup",value:function(){this._createMarkup(),this._createButton(),this.fullHeight=(0,l.getElHeight)(this.inner),this.maxHeight=this.children[0].clientHeight,this.el.appendChild(this.button),window.addEventListener("resize",this._handleResize)}},{key:"_createMarkup",value:function(){for(this.wrapper=document.createElement("div"),this.wrapper.className="truncator__wrapper",this.wrapper.style.overflow="hidden",this.inner=document.createElement("div"),this.inner.className="truncator__inner",this.inner.style.overflow="auto";this.el.childNodes.length>0;)this.inner.appendChild(this.el.childNodes[0]);this.wrapper.appendChild(this.inner),this.el.appendChild(this.wrapper)}},{key:"_createButton",value:function(){var e=document.createElement("div");e.innerHTML=this.buttonTmpl,this.button=e.firstChild,this.button.addEventListener("click",this._handleClickButton)}},{key:"_setSizes",value:function(){this.fullHeight=(0,l.getElHeight)(this.inner),this.maxHeight=this.children[0].clientHeight}},{key:"_collapse",value:function(){this.el.classList.add("is-truncated"),this.wrapper.style.maxHeight=this.maxHeight+"px",this.truncated=!0}},{key:"_handleClickButton",value:function(e){e.preventDefault(),this.truncated===!0?this._expand():this._collapse()}},{key:"_handleResize",value:function(e){this._setSizes(),this.truncated&&this._collapse()}},{key:"_expand",value:function(){this.wrapper.style.maxHeight=this.fullHeight+"px",this.el.classList.remove("is-truncated"),this.truncated=!1}},{key:"destroy",value:function(){this._destroy()}},{key:"_destroy",value:function(){this.button&&this.button.removeEventListener("click",this._handleClickButton),window.removeEventListener("resize",this._handleResize)}}]),e}(),c=a["default"].extend({template:"partner-profile",MAX_PARAGRAPHS:1,BUTTON_TMPL:'<div class="partner-profile--read-more"><a href="#" class="p--meta underline underline--blue-3 blue-3"><svg class="icon icon-arrow"><use xlink:href="#arrow"></use></svg> <span data-more>Read More</span><span data-less>Read Less</span></a></div>',truncators:[],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.__super__.constructor.call(this,e)},init:function(){var e=this;this.profileTexts=this.queryAll(".partner-profile--item-text-wrapper-inner"),this.profileTexts.forEach(function(t){e.truncators.push(new u(t,"p",e.MAX_PARAGRAPHS,e.BUTTON_TMPL))})},dispose:function(){this.truncators.length&&this.truncators.forEach(function(e){return e.destroy()}),c.__super__.dispose.call(this)}});n["default"]=c},{"utils/DOM.js":355,"views/abstract/AbstractView":362}],395:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("lodash.random"),a=i(s),l=e("views/abstract/AbstractView"),u=i(l),c=e("common/Channel"),d=i(c),h=e("common/Constants"),f=i(h),p=e("common/Device"),v=i(p),m=e("common/MediaQueries"),g=i(m),b=e("utils/DOM"),y=e("../../../../../interactive-branding/src/Four"),_=i(y),w=e("../../../../../interactive-branding/src/Four/defaults"),E=i(w),I=u["default"].extend({template:"recruitment",dims:{width:null,height:null},firstResize:!0,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),I.__super__.constructor.call(this,e)},_bindClassMethods:function(){this.onResize=this.onResize.bind(this),this.onScroll=this.onScroll.bind(this)},init:function(){this.hasIB=Modernizr.dm_interactive_branding&&!g["default"].isSmallerThanBreakpoint(g["default"].TABLETPORTRAIT),this.IBnode=this.query("[data-ib-target]"),this.hasIB&&this.setupIB(),this.cacheDimensions(),this.bindEvents(),"immediate"===this.el.getAttribute(f["default"].SCROLL_ITEM_EVENT)&&this.showFromScroll()},showFromScroll:function(){this.hasIB&&setTimeout(this.showIB.bind(this),1500)},cacheDimensions:function(){var e=this.IBnode.clientWidth,t=(0,b.getElHeight)(this.IBnode),n=(0,b.getElOffset)(this.IBnode);this.dims={IBWidth:e,IBHeight:t,IBTop:n}},onResize:function(e,t){t&&(this.cacheDimensions(),!this.firstResize&&this.hasIB&&(this.IB.resize(this.dims.IBWidth,this.dims.IBHeight),this.showIB())),this.firstResize=!1},onScroll:function(e){this.hasIB&&(e>this.dims.IBTop+this.dims.IBHeight?this.IB.isPaused||this.IB.pause():this.IB.isPaused&&this.IB.play())},bindEvents:function(){this.listenTo(d["default"],f["default"].EVENT_RESIZE,this.onResize)},unbindEvents:function(){},dispose:function(){this.unbindEvents(),this.hasIB&&this.IB.destroy(),I.__super__.dispose.apply(this,arguments)},setupIB:function(){this.IB=new _["default"]((0,o["default"])({},E["default"].deepmind[v["default"].POWER_HIGH],{parentNode:this.IBnode,isInteractive:!1,autoplay:!1,clearOnRender:!0,POINTS_count:12,CONNECTIONS_reach:50,CONNECTIONS_strength:.7,CONNECTIONS_strengthAlpha:1,CONNECTIONS_colourOne:"#0074C8",CONNECTIONS_colourTwo:"#FBFDFF",CONNECTIONS_colourThree:"#FBFDFF",GUIDES_colour:"#0074C8",GUIDES_maxWidth:.5,
GUIDES_count:1,GUIDES_pointCount:2,GUIDE_INFLUENCE_persist:!0,CONTAINER_colour:"transparent"}))},showIB:function(){var e=this;this.IB.startPoint={x:0,y:(0,a["default"])(.5,.7)*this.IB.height},this.IB.finishPoint={x:this.IB.width,y:(0,a["default"])(.3,.5)*this.IB.height},this.IB.controlPoints=[{x:(0,a["default"])(.4,.6)*this.IB.width,y:(0,a["default"])(.4,.6)*this.IB.height}],this.IB.play().setupGuides().playGuidesAnimation({onShowComplete:function(){e.IB.pause()}}),this.IBnode.classList.add("show")}});n["default"]=I},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"common/Channel":335,"common/Constants":336,"common/Device":337,"common/MediaQueries":340,"lodash.assignin":42,"lodash.random":50,"utils/DOM":355,"views/abstract/AbstractView":362}],396:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=(e("utils/DOM.js"),e("views/abstract/AbstractView")),o=i(r),s=o["default"].extend({template:"rich-text",MAX_PARAGRAPHS:3,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),s.__super__.constructor.call(this,e)},_bindClassMethods:function(){this._handleReadMoreClick=this._handleReadMoreClick.bind(this)},init:function(){if(this.shouldRun="yes"===this.el.getAttribute("data-collapse"),this.shouldRun&&(this.el.classList.add("cf"),this.el.classList.add("container")),this.fullHeight=this.el.clientHeight,this.richText=this.query(".rich-text"),this.paragraphs=this.queryAll("p"),this.button=void 0,this.shouldRun&&this.paragraphs.length>this.MAX_PARAGRAPHS){this._collapse(),this.el.classList.remove("cf"),this.el.classList.remove("container");var e=document.createElement("div");e.classList.add("cf");var t=this.el.parentElement.querySelector(".social-api");t?this.el.parentNode.insertBefore(e,t.nextSibling):this.el.nextSibling&&this.el.parentNode.insertBefore(e,this.el.nextSibling)}},_collapse:function(){var e=this.paragraphs[this.MAX_PARAGRAPHS-1],t=e.offsetTop+e.clientHeight;this.button=document.createElement("button"),this.button.className="rich-text--read-more p--meta underline underline--blue-3",this.button.innerHTML='<svg class="icon link--icon--down icon-arrow"><use xlink:href="#arrow"></use></svg> Read More',this.richText.parentNode.appendChild(this.button),this.el.classList.add("is-truncated"),this.richText.style.maxHeight=t+"px",this.button.addEventListener("click",this._handleReadMoreClick)},_handleReadMoreClick:function(e){this.richText.style.maxHeight=this.fullHeight+"px",this.el.classList.remove("is-truncated")},dispose:function(){this.button&&this.button.removeEventListener("click",this._handleReadMoreClick),s.__super__.dispose.call(this)}});n["default"]=s},{"utils/DOM.js":355,"views/abstract/AbstractView":362}],397:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]='\n<section class="cf search--results" data-results>\n  <header class="search--results-header">\n    <h1 class="p--meta uppercase <%= color %>"><%= type %></h1>\n  </header>\n  <% items.splice(0,3).forEach(function (item) { %>\n  <article class="g-sm-col-4 g-md-col-2 g-lg-col-4 result-item faux-link-block"\n    data-dm-tmpl="result-item"\n    data-item-id="<%= item.id %>"\n    data-scroll-item>\n    <figure class="m0 left result-item--thumbnail">\n      <div class="img-holder img-holder--16-9 img-holder--<%= item.context %>">\n        <% if (item.thumbnail) { %>\n        <img class="img--object-fit" src="<%= item.thumbnail.original %>"\n          srcset="<%= item.thumbnail.srcset[0] %> 200w, <%= item.thumbnail.srcset[3] %> 300w" sizes="100vw">\n        <% } %>\n      </div>\n    </figure>\n    <header class="left result-item--header">\n      <% if ([\'blogarticle\',\'genericpage\'].indexOf(item.type) !== -1) { %>\n      <h4 class="m0 p--meta block-context--<%= item.context %>">\n        <%= item.subtitle || item.context[0].toUpperCase() + item.context.substr(1, item.context.length-1) %>\n      </h4>\n      <% } %>\n      <h1 class="m0 p--standard"><%= item.title %></h1>\n      <% if ([\'blogarticle\',\'researchpublication\'].indexOf(item.type) !== -1) { %>\n      <time class="grey-mid p--meta" datetime="<%= new Date(item.datePublished).toISOString() %>"><%= item.dateFormatted %></time>\n      <% } %>\n    </header>\n    <a class="faux-link-block--link" href="<%= item.pageUrl %>"><%= item.title %></a>\n  </article>\n  <% }) %>\n</section>\n'},{}],398:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){switch(e){case"blogarticle":return"blue-3";case"promotedresearch":return"purple-3";case"researchpublication":return"purple-1";case"other":default:return"grey-mid"}}function o(e){switch(e){case"blogarticle":return"News / Blog";case"promotedresearch":return"Highlighted research";case"researchpublication":return"Publications";case"other":default:return"Everything else"}}Object.defineProperty(n,"__esModule",{value:!0});var s=e("lodash.assign"),a=i(s),l=e("lodash.merge"),u=i(l),c=e("lodash.debounce"),d=i(c),h=e("lodash.template"),f=i(h);e("whatwg-fetch");var p=e("views/abstract/AbstractView"),v=i(p),m=e("router/AppRouter"),g=i(m),b=e("common/Channel"),y=i(b),_=e("common/Constants"),w=i(_),E=e("common/Singleton"),I=i(E),T=e("models/AppModel"),S=i(T),C=e("utils/DOM"),x=e("common/MediaQueries"),A=i(x),O=e("collections/SearchResults"),N=i(O),M=e("./components/ResultItem/index.tmpl"),P=i(M),k=v["default"].extend({template:"search",endpoint:"search",events:{"click [data-close-btn]":"onCloseClick","keyup [data-search-input]":"onSearchKeyUp"},isOpen:!1,requestActive:!1,resultsPage:null,searchInput:null,searchInputWrap:null,resultsWrapEl:null,totalResultsEl:null,resultsPageBtn:null,results:null,resultItemTmpl:null,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),k.__super__.constructor.apply(this,e),this.clearFix=document.createElement("div"),this.clearFix.classList.add("cf","hide-sm"),this.noResultsMsgEl=document.createElement("p"),this.noResultsMsgEl.innerText=w["default"].SEARCH_NO_RESULTS_MSG,this.noResultsMsgEl.setAttribute("data-scroll-item",""),this.noResultsMsgEl.classList.add("h1","blue-3"),this.searchInput=this.query("[data-search-input]"),this.altSearchInput=this.query(".search--input-wrapper--sticky [data-search-input]"),this.searchInputWrap=this.query(".search--input-wrapper"),this.stickySearchInputWrap=this.query(".search--input-wrapper--sticky"),this.resultsWrapEl=this.query("[data-results-wrap]"),this.totalResultsEl=this.query("[data-total-results]"),this.resultsPageBtn=this.query("[data-results-page-btn]"),this.results={blogarticle:new N["default"],promotedresearch:new N["default"],researchpublication:new N["default"],other:new N["default"]},this.resultItemTmpl=(0,f["default"])(P["default"]),this.appRouter=g["default"].getInstance(),this.getDimensions(),this.bindEvents()},_bindClassMethods:function(){this.onKeyUp=this.onKeyUp.bind(this),this.onSearchKeyUp=(0,d["default"])(this.onSearchKeyUp.bind(this),400),this.onCloseClick=this.onCloseClick.bind(this),this.onScroll=(0,d["default"])(this.onScroll.bind(this),w["default"].SCROLL_THROTTLE),this.toggle=this.toggle.bind(this),this.onRequestDone=this.onRequestDone.bind(this),this.onRequestFail=this.onRequestFail.bind(this)},bindEvents:function(){var e=this;window.addEventListener("keyup",this.onKeyUp),this.el.addEventListener("scroll",this.onScroll),this.listenTo(y["default"],w["default"].SEARCH_TOGGLE,this.toggle),this.listenTo(y["default"],w["default"].EVENT_HASH_CHANGED,function(){e.isOpen&&(e.toggle(),e.clearResults())}),this.listenTo(y["default"],w["default"].EVENT_HIDE_SEARCH,function(){e.isOpen&&(e.toggle(),e.clearResults())})},getDimensions:function(){this.searchInputWrap&&"function"==typeof this.searchInputWrap.getBoundingClientRect&&(this.dims=(0,u["default"])({},this.searchInputWrap.getBoundingClientRect()),this.scrollThreshold=Math.ceil(this.dims.bottom))},onCloseClick:function(){this.toggle(),this.clearResults()},onScroll:function(e){if(!A["default"].isLargerThanBreakpoint(A["default"].TABLETPORTRAIT)){var t=e.target.scrollTop;t>this.scrollThreshold?this.stickySearchInputWrap.classList.add("is-sticky"):this.stickySearchInputWrap.classList.remove("is-sticky")}},onKeyUp:function(e){if(27===e.keyCode&&this.isOpen)return this.toggle(),this.clearResults(),!1},onSearchKeyUp:function(e){if(!(""===this.searchInput.value||""===this.searchInput.value.trim()||w["default"].SKIP_KEYS.indexOf(e.keyCode)!==-1||this.searchInput.value.length>60)){if(13===e.keyCode){var t=S["default"].getInstance().get("baseUrl")+"/search/?query="+encodeURIComponent(this.searchInput.value.trim());return Modernizr.dm_page_transitions?this.appRouter.navigateTo(t):void(window.location.href=t)}e.target===this.altSearchInput&&this.altSearchInput.value!==this.searchInput.value?this.searchInput.value=this.altSearchInput.value:this.altSearchInput.value=this.searchInput.value,this.searchInput.value.trim()!==this.currentQuery&&this.doSearch(this.searchInput.value.trim())}},onRequestDone:function(e){var t=this;this.requestActive=!1;var n=function a(){t.el.classList.remove("search--request-active"),t.el.removeEventListener("animationiteration",a),t.totalResults>0?t.renderResults():t.renderNoResults()},i=e.totalResults,r=e.results,o=e.resultsPage,s=e.query;this.el.addEventListener("animationiteration",n),Object.keys(r).forEach(function(e){t.results[e].set(r[e])}),this.currentQuery=s,this.resultsPage=o,this.totalResults=i},onRequestFail:function(e){var t=this;this.requestActive=!1;var n=function i(){t.el.classList.remove("search--request-active"),t.el.removeEventListener("animationiteration",i)};this.el.addEventListener("animationiteration",n)},doSearch:function(e){var t=this;if(!this.requestActive){this.requestActive=!0,Object.keys(this.results).forEach(function(e){return t.results[e].reset()}),this.API_URL||(this.API_URL=S["default"].getInstance().get("apiBaseUrl")+"/search");var n=this.API_URL+"/"+e+"/";fetch(n,{credentials:"same-origin"}).then(function(e){return e.status>=200&&e.status<=300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}).then(function(e){return e.json()}).then(this.onRequestDone)["catch"](this.onRequestFail),this.el.classList.add("search--request-active")}},toggle:function(){var e=this;this.el.classList.toggle("search--is-open"),this.isOpen=!this.isOpen,this.isOpen?(setTimeout(function(){e.getDimensions()},500),setTimeout(function(){e.searchInput.focus()},200)):y["default"].trigger(w["default"].EVENT_HIDE_SEARCH)},renderResults:function(){var e=this;this.el.classList.add("search--has-results"),this.el.classList.remove("search--no-results"),this.resultsWrapEl.innerHTML="";var t=Object.keys(this.results).map(function(t){if(0===e.results[t].length)return null;var n=e.results[t].toJSON().map(function(e){return e.dateFormatted=new Date(e.datePublished).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),e}),i=o(t),s=r(t),a=document.createElement("div");return a.innerHTML=e.resultItemTmpl({type:i,color:s,items:n}),a.querySelector("[data-results]")}).filter(function(e){return null!==e});t.forEach(function(t){var n=(0,C.queryAll)(".result-item",t);e.resultsWrapEl.appendChild(t),n.forEach(function(e,t){setTimeout(function(){e.classList.add("show")},100*t)})}),this.totalResultsEl.innerHTML=this.totalResults+" result"+(this.totalResults>1?"s":""),this.totalResultsEl.classList.add("show"),this.resultsPageBtn.href=this.resultsPage},renderNoResults:function(){var e=this,t=this.queryAll("[data-results] > .result-item");t.reverse().forEach(function(e,t){setTimeout(function(){e.classList.remove("show")},50*t)}),this.totalResultsEl.classList.remove("show"),this.el.classList.remove("search--has-results"),this.el.classList.add("search--no-results"),setTimeout(function(){e.resultsWrapEl.innerHTML="",e.resultsWrapEl.appendChild(e.noResultsMsgEl),setTimeout(function(){e.noResultsMsgEl.classList.add("show")},50)},100*t.length)},clearResults:function(){var e=this;setTimeout(function(){e.searchInput.value=e.altSearchInput.value=e.currentQuery=e.resultsPage=null,e.totalResults=0,Object.keys(e.results).forEach(function(t){return e.results[t].reset()}),e.resultsWrapEl.innerHTML="",e.totalResultsEl.innerHTML="",e.el.classList.remove("search--has-results"),e.el.classList.remove("search--no-results")},1e3)}});n["default"]=(0,a["default"])(k,I["default"])},{"./components/ResultItem/index.tmpl":397,"collections/SearchResults":333,"common/Channel":335,"common/Constants":336,"common/MediaQueries":340,"common/Singleton":344,"lodash.assign":41,"lodash.debounce":43,"lodash.merge":48,"lodash.template":54,"models/AppModel":350,"router/AppRouter":354,"utils/DOM":355,"views/abstract/AbstractView":362,"whatwg-fetch":328}],399:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("utils/DOM"),a=o["default"].extend({template:"self-hosted-video",events:{"click .self-hosted-video--info":"onPlayClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a.__super__.constructor.call(this,e),this.autoplay=JSON.parse(this.el.getAttribute("data-autoplay").toLowerCase()),this.video=this.el.querySelector("video")},showFromScroll:function(){this.autoplay&&this.onPlayClick()},dispose:function(){this.video.pause(),a.__super__.dispose.apply(this,arguments)},onPlayClick:function(){this.video.setAttribute("autoplay",!0),this.video.play(),this.hideImage()},hideImage:function(){(0,s.toggleClass)(this.el,"loaded")}});n["default"]=a},{"utils/DOM":355,"views/abstract/AbstractView":362}],400:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.uniqueid"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("common/Share"),u=i(l),c=e("common/Analytics"),d=i(c),h=e("utils/DOM"),f=a["default"].extend({template:"share",events:{"click [data-network]":"onSocialNetworkClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),f.__super__.constructor.call(this,e),this.checkbox=this.query("#share-toggle"),this.setupUniqueId(),this.bindEvents()},_bindClassMethods:function(){this.onCheckboxChange=this.onCheckboxChange.bind(this),this.onWindowClick=this.onWindowClick.bind(this)},dispose:function(){this.unbindEvents(),f.__super__.dispose.apply(this,arguments)},bindEvents:function(){this.checkbox.addEventListener("change",this.onCheckboxChange,!1)},unbindEvents:function(){this.checkbox.removeEventListener("change",this.onCheckboxChange,!1),window.removeEventListener("click",this.onWindowClick,!1)},setupUniqueId:function(){var e="share-toggle-"+(0,o["default"])();this.checkbox.setAttribute("id",e),this.query('[for="share-toggle"]').setAttribute("for",e)},onCheckboxChange:function(){var e=this.checkbox.checked?"addEventListener":"removeEventListener";window[e]("click",this.onWindowClick,!1)},onSocialNetworkClick:function(e){e&&e.preventDefault()&&e.stopPropagation();var t=e.delegateTarget.getAttribute("data-network"),n=this.el.getAttribute("data-url")||window.location.href,i=this.el.getAttribute("data-title"),r=this.el.getAttribute("data-description");switch(t){case"googleplus":u["default"].googleplus({url:n});break;case"twitter":u["default"].twitter({url:n,title:i});break;case"facebook":u["default"].facebook({url:n,title:i});break;case"email":u["default"].email({url:n,title:i,description:r});break;case"whatsapp":u["default"].whatsapp({url:n,title:i});break;case"reddit":u["default"].reddit({url:n,title:i});break;case"linkedin":u["default"].linkedin({url:n,title:i,summary:r})}d["default"].action("Social share",t,n)},onWindowClick:function(e){var t=this,n=(0,h.closest)(e.target,function(e){return e===t.el});n||(this.checkbox.checked=!1,this.onCheckboxChange())}});n["default"]=f},{"common/Analytics":334,"common/Share":343,"lodash.uniqueid":57,"utils/DOM":355,"views/abstract/AbstractView":362}],401:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]='\n  <section class="share"\n    data-dm-tmpl="share"\n    data-title="<%= item.title %>"\n    data-description="<%= item.description %>"\n    data-url="<%= item.url %>"\n    <%= inSlideshow ? \'\' : \'data-scroll-item\' %>>\n    <div class="container cf">\n      <div class="g-lg-push-2 g-lg-col-9 g-md-col-6 g-sm-col-4">\n      <span class="left grey-mid p--meta">Share <%= item.type %></span>\n      <ul class="left unstyled share-list">\n        <li>\n          <a\n            href="http://twitter.com/intent/tweet/?text=<%= encodeURIComponent(item.description) %>&url=<%= encodeURIComponent(item.url) %>"\n            target="_blank"\n            data-network="twitter"\n            data-ignore-link-click>\n            <svg class="icon icon-twitter icon-grey-mid">\n              <title>twitter</title>\n              <use xlink:href="#twitter"></use>\n            </svg>\n          </a>\n        </li>\n        <li>\n          <a\n            href="http://www.facebook.com/share.php?u=<%= encodeURIComponent(item.url) %>&t=<%= encodeURIComponent(item.description) %>"\n            target="_blank"\n            data-network="facebook"\n            data-ignore-link-click>\n            <svg class="icon icon-facebook icon-grey-mid">\n              <title>facebook</title>\n              <use xlink:href="#facebook"></use>\n            </svg>\n          </a>\n        </li>\n        <li>\n          <a\n            href="https://plus.google.com/share?url=<%= encodeURIComponent(item.url) %>"\n            target="_blank"\n            data-network="googleplus"\n            data-ignore-link-click>\n            <svg class="icon icon-googleplus icon-grey-mid">\n              <title>google plus</title>\n              <use xlink:href="#googleplus"></use>\n            </svg>\n          </a>\n        </li>\n        <li>\n          <a\n            href="mailto:?subject=<%= item.title %>&body=<%= encodeURIComponent(item.description) %>%0D%0A%0D%0A<%= encodeURIComponent(item.url) %>"\n            target="_blank"\n            data-network="email"\n            data-ignore-link-click>\n            <svg class="icon icon-email icon-grey-mid">\n              <title>email</title>\n              <use xlink:href="#email"></use>\n            </svg>\n          </a>\n        </li>\n\n        <li class="has-dropdown">\n          <input type="checkbox" id="share-toggle" class="toggle-input">\n          <label for="share-toggle" class="toggle-label">\n            <svg class="icon icon-more">\n              <title>more</title>\n              <use xlink:href="#more"></use>\n            </svg>\n          </label>\n\n          <div class="toggle-content hover-dropdown absolute bg-blue-3">\n            <ul class="unstyled">\n              <li class="p--module">\n                <a\n                  class="no-underline white"\n                  href="https://www.linkedin.com/shareArticle?mini=true&url=<%= encodeURIComponent(item.url) %>&title=<%= encodeURIComponent(item.title) %>&summary=<%= encodeURIComponent(item.description) %>&source=<%= encodeURIComponent(\'Google DeepMind\') %>"\n                  target="_blank"\n                  data-network="linkedin"\n                  data-ignore-link-click>LinkedIn</a>\n              </li>\n              <li class="p--module mobile-only">\n                <a\n                  class="no-underline white"\n                  target="_blank"\n                  data-network="whatsapp"\n                  data-ignore-link-click>WhatsApp</a>\n              </li>\n              <li class="p--module mobile-only">\n                <a\n                  class="no-underline white"\n                  target="_blank"\n                  data-network="sms"\n                  data-ignore-link-click>SMS</a>\n              </li>\n              <li class="p--module">\n                <a\n                  class="no-underline white"\n                  href="http://www.reddit.com/submit?url=<%= encodeURIComponent(item.url) %>&title=<%= encodeURIComponent(item.title) %>"\n                  target="_blank"\n                  data-network="reddit"\n                  data-ignore-link-click>Reddit</a>\n              </li>\n            </ul>\n          </div>\n        </li>\n      </ul>\n    </div>\n    </div>\n  </section>\n'},{}],402:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("common/Share"),a=i(s),l=o["default"].extend({template:"share-line",events:{"click .share--cta":"onShareClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.__super__.constructor.call(this,e),this.text=this.query("[data-text]").innerText||this.query("[data-text]").textContent},onShareClick:function(e){e&&e.preventDefault(),a["default"].twitter({url:window.location.href,title:this.text})},hideImage:function(){this.el.classList.add("loaded")}});n["default"]=l},{"common/Share":343,"views/abstract/AbstractView":362}],403:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.events=void 0;var r=e("swiper"),o=i(r),s=e("lodash.merge"),a=i(s),l=e("lodash.assign"),u=i(l),c=e("ampersand-events"),d=i(c),h=e("views/abstract/AbstractView"),f=i(h),p=e("common/Channel"),v=(i(p),e("common/Constants")),m=i(v),g=n.events={INIT:"INIT",MOVE:"MOVE",CHANGE_END:"CHANGE_END"},b=f["default"].extend({template:"slider",slider:null,frame:null,slides:null,config:{initialSlide:0,slidesPerView:1,spaceBetween:0,loop:!0,direction:"horizontal",setWrapperSize:!0,speed:m["default"].SLIDER_SLIDE_SPEED,effect:"slide",roundLengths:!0,grabCursor:!0,pagination:"[data-slider-pagination]",paginationBulletRender:function(e,t){return'<div class="'+t+'"></div>'},paginationFractionRender:function(e,t,n){return'<span class="'+t+'"></span> of <span class="'+n+'"></span>'},paginationClickable:!0,slideClass:"slider--slide",slideActiveClass:"slider--slide--active",slideVisibleClass:"slider--slide--visible",slideNextClass:"slider--slide--next",slidePrevClass:"slider--slide--prev",slideDuplicateClass:"slider--slide--duplicate",wrapperClass:"slider--frame",bulletClass:"slider--pagination--bullet",bulletActiveClass:"slider--pagination--active",paginationHiddenClass:"slider--pagination--hidden",paginationCurrentClass:"slider--pagination--current",paginationTotalClass:"slider--pagination--total",paginationProgressBarClass:"slider--pagination--progress",buttonDisabledClass:"btn--disabled",prevButton:".slider--ctrl-prev",nextButton:".slider--ctrl-next",hashNav:!1,enableEventOnMove:!1,enableEventChangeEnd:!1,initialiseWithSingleSlide:!1},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),b.__super__.constructor.call(this,e),this.frame=this.query("[data-slider-frame]"),this.slides=this.queryAll("[data-slider-frame] .slider--slide");var t=(0,a["default"])({},this.config);if(t.onInit=this.onSliderInit,this.el.hasAttribute("data-slider-conf")&&0!==Object.keys(JSON.parse(this.el.getAttribute("data-slider-conf"))).length){var n=JSON.parse(this.el.getAttribute("data-slider-conf"));t=(0,a["default"])(t,n)}t.pagination&&(this.pagination=t.pagination=this.query(t.pagination)),t.scrollbar&&(this.scrollbar=t.scrollbar=this.query(t.scrollbar)),t.prevButton&&(this.prevButton=t.prevButton=this.query(t.prevButton)),t.nextButton&&(this.nextButton=t.nextButton=this.query(t.nextButton)),t.enableEventOnMove&&(t.onProgress=t.onMove=this.onSliderMove),t.enableEventChangeEnd&&(t.onSlideChangeEnd=this.onSlideChangeEnd),(!this.el.classList.contains("is-stacked")&&1!==this.slides.length||t.initialiseWithSingleSlide)&&(this.slider=new o["default"](this.el,t))},_bindClassMethods:function(){this.onSliderInit=this.onSliderInit.bind(this),this.onSliderMove=this.onSliderMove.bind(this),this.onSlideChangeEnd=this.onSlideChangeEnd.bind(this)},onSliderInit:function(e){this.slider=e,this.el.classList.add("slider--initialized"),this.el.getBoundingClientRect(),this.trigger(g.INIT,e)},onSliderMove:function(e){this.trigger(g.MOVE,e)},onSlideChangeEnd:function(e){this.trigger(g.CHANGE_END,e)},dispose:function(){this.slider&&this.slider.destroy(!0,!0),b.__super__.dispose.call(this),this.slider=null}});n["default"]=(0,u["default"])(b,d["default"])},{"ampersand-events":14,"common/Channel":335,"common/Constants":336,"lodash.assign":41,"lodash.merge":48,swiper:324,"views/abstract/AbstractView":362}],404:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=(i(r),e("lodash.template")),s=i(o),a=e("lodash.findindex"),l=i(a),u=e("views/abstract/AbstractView"),c=i(u),d=e("views/components/Slider"),h=i(d),f=e("views/components/Share"),p=i(f),v=e("./index.tmpl"),m=i(v),g=e("views/components/ImageCarousel/index.tmpl.js"),b=i(g),y=e("views/components/Share/index.tmpl"),_=i(y),w=e("views/AppView"),E=i(w),I=e("models/AppModel"),T=i(I),S=e("router/AppRouter"),C=i(S),x=e("common/Channel"),A=i(x),O=e("common/Constants"),N=i(O),M=e("common/ViewFinder"),P=i(M),k=e("common/UrlHelper"),R=i(k),L={loop:!1,centeredSlides:!0,pagination:".slider--pagination",paginationType:"fraction",freeMode:!1,enableEventOnMove:!0,autoplay:!1,autoHeight:!1,enableEventChangeEnd:!0,initialiseWithSingleSlide:!0},D=c["default"].extend({template:"slideshow",modules:[h["default"],p["default"]],events:{"click [data-close-btn]":"onCloseClick","click [data-toggle-more]":"onCaptionMoreClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{el:null,page:null,imageTarget:null,context:"deepmind"}:arguments[0];this._bindClassMethods(),this.config=e,this.images=this.getImages(e.page);var t=this.getMarkup();e.el.innerHTML=t,this.removeClasses(),D.__super__.constructor.call(this,e),this.setupSlider(e.imageTarget),this.show(),this.bindEvents()},_bindClassMethods:function(){this.onAnchorChange=this.onAnchorChange.bind(this),this.onHashChange=this.onHashChange.bind(this),this.onSlideChangeEnd=this.onSlideChangeEnd.bind(this),this.onKeyUp=this.onKeyUp.bind(this)},dispose:function(){D.__super__.dispose.apply(this,arguments),this.unbindEvents()},bindEvents:function(){this.listenTo(A["default"],N["default"].EVENT_ANCHOR_CHANGED,this.onAnchorChange),this.listenTo(A["default"],N["default"].EVENT_HASH_CHANGED,this.onHashChange),this.listenTo(this.sliderView,d.events.CHANGE_END,this.onSlideChangeEnd),window.addEventListener("keyup",this.onKeyUp,!1)},unbindEvents:function(){window.removeEventListener("keyup",this.onKeyUp,!1)},show:function(){this.config.el.classList.add("slideshow--visible")},getImages:function(e){var t=Array.prototype.slice.call(e.querySelectorAll("[data-slideshow-image]"));return t=t.map(function(e){return{caption:!!e.querySelector("figcaption")&&e.querySelector("figcaption").textContent,imageSrc:e.querySelector("img").src,imageSrcset:e.querySelector("img").getAttribute("srcset"),imageSizes:e.querySelector("img").getAttribute("sizes"),imageId:e.getAttribute("data-slideshow-image")}})},getMarkup:function(){var e=this._getImageCarouselHtml(),t=this._getShareHtml(),n=(0,s["default"])(m["default"]);return n({carousel:e,share:t})},removeClasses:function(){Array.prototype.slice.call(this.config.el.querySelectorAll(".section--block")).forEach(function(e){return e.classList.remove("section--block")}),Array.prototype.slice.call(this.config.el.querySelectorAll(".container")).forEach(function(e){return e.classList.remove("container")})},_getImageCarouselHtml:function(e){var t=this.config.context,n=(0,s["default"])(b["default"]),i=n({inSlideshow:!0,config:L,items:this.images,context:t});return i},_getShareHtml:function(){var e=T["default"].getInstance(),t=A["default"].request(N["default"].REQUEST_PAGE_MODEL),n=e.get("baseUrl")+"/"+R["default"].getRelativeHref(t.get("pageUrl")),i={title:t.get("title"),description:t.get("description"),url:n},r=(0,s["default"])(_["default"]),o=r({inSlideshow:!0,item:i});return o},setupSlider:function(e){var t=(0,l["default"])(this.images,function(t){return t.imageId===e.getAttribute("data-slideshow-image")}),n=P["default"].findChildren(this,h["default"]);this.sliderView=n[0],this.sliderView.slider.slideTo(t,0),this.updateShareUrl(e.getAttribute("data-slideshow-image"))},onAnchorChange:function(e){var t=(0,l["default"])(this.images,function(t){return t.imageId===e});t>-1?this.sliderView.slider.slideTo(t,0):this.hide()},onHashChange:function(){this.hide()},onSlideChangeEnd:function(){var e=C["default"].getInstance(),t=this.images[this.sliderView.slider.activeIndex].imageId;this.updateShareUrl(t),e.changeAnchor(t)},onCloseClick:function(){this.triggerHide()},onCaptionMoreClick:function(e){var t=e.target.parentNode;t.classList.toggle("is-shown")},onKeyUp:function(e){27===e.keyCode&&this.triggerHide()},updateShareUrl:function(e){var t=P["default"].findChildren(this,p["default"]);t[0].el.setAttribute("data-url",t[0].el.getAttribute("data-url").split("#")[0]+("#"+e))},triggerHide:function(){var e=C["default"].getInstance();e.changeAnchor(null)},hide:function(){var e=E["default"].getInstance();this.config.el.classList.remove("slideshow--visible"),setTimeout(function(){e.closeSlideshow()},500)}});n["default"]=D},{"./index.tmpl":405,"common/Channel":335,"common/Constants":336,"common/UrlHelper":346,"common/ViewFinder":349,"lodash.assign":41,"lodash.findindex":45,"lodash.template":54,"models/AppModel":350,"router/AppRouter":354,"views/AppView":361,"views/abstract/AbstractView":362,"views/components/ImageCarousel/index.tmpl.js":379,"views/components/Share":400,"views/components/Share/index.tmpl":401,"views/components/Slider":403}],405:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]='\n  <div class="slideshow--inner skip-grid">\n    <span class="slideshow--close-btn" data-close-btn>\n      <svg class="icon icon-close">\n        <title>close</title>\n        <use xlink:href="#close"></use>\n      </svg>\n    </span>\n    <%= carousel %>\n    <%= share %>\n  </div>\n'},{}],406:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("lodash.random"),a=i(s),l=e("views/abstract/AbstractView"),u=i(l),c=e("common/Channel"),d=i(c),h=e("common/Constants"),f=i(h),p=e("common/Device"),v=i(p),m=e("utils/DOM"),g=e("../../../../../interactive-branding/src/Four"),b=i(g),y=e("../../../../../interactive-branding/src/Four/defaults"),_=i(y),w=u["default"].extend({template:"social-api",dims:{width:null,height:null},firstResize:!0,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),w.__super__.constructor.call(this,e)},_bindClassMethods:function(){this.onResize=this.onResize.bind(this),this.onScroll=this.onScroll.bind(this)},init:function(){this.hasIB=Modernizr.dm_interactive_branding,this.IBnode=this.query("[data-ib-target]"),this.hasIB&&this.setupIB(),this.cacheDimensions(),this.bindEvents(),"immediate"===this.el.getAttribute(f["default"].SCROLL_ITEM_EVENT)&&this.showFromScroll()},showFromScroll:function(){this.hasIB&&setTimeout(this.showIB.bind(this),1e3)},cacheDimensions:function(){var e=this.el.clientWidth,t=this.el.clientHeight,n=(0,m.getElOffset)(this.el);this.dims={width:e,height:t,top:n}},onResize:function(e,t){t&&(this.cacheDimensions(),!this.firstResize&&this.hasIB&&(this.IB.resize(this.dims.IBWidth,this.dims.IBHeight),this.showIB())),this.firstResize=!1},onScroll:function(e){this.hasIB&&(e>this.dims.top+this.dims.height?this.IB.isPaused||this.IB.pause():this.IB.isPaused&&this.IB.play());
},bindEvents:function(){this.listenTo(d["default"],f["default"].EVENT_RESIZE,this.onResize)},unbindEvents:function(){},dispose:function(){this.unbindEvents(),this.hasIB&&this.IB.destroy(),w.__super__.dispose.apply(this,arguments)},setupIB:function(){this.IB=new b["default"]((0,o["default"])({},_["default"].deepmind[v["default"].POWER_HIGH],{parentNode:this.IBnode,isInteractive:!1,autoplay:!1,clearOnRender:!0,POINTS_count:12,CONNECTIONS_reach:50,CONNECTIONS_strength:.5,CONNECTIONS_strengthAlpha:1,CONNECTIONS_colourOne:"#0074C8",CONNECTIONS_colourTwo:"#FBFDFF",CONNECTIONS_colourThree:"#FBFDFF",GUIDES_colour:"#76BEF2",GUIDES_maxWidth:.5,GUIDES_count:1,GUIDES_pointCount:2,GUIDE_INFLUENCE_persist:!0,CONTAINER_colour:"transparent"}))},showIB:function(){var e=this;this.IB.startPoint={x:0,y:.4*this.IB.height},this.IB.finishPoint={x:this.IB.width,y:.6*this.IB.height},this.IB.controlPoints=[{x:(0,a["default"])(.4,.6)*this.IB.width,y:(0,a["default"])(.4,.6)*this.IB.height}],this.IB.play().setupGuides().playGuidesAnimation({onShowComplete:function(){e.IB.pause()}}),this.IBnode.classList.add("show")}});n["default"]=w},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"common/Channel":335,"common/Constants":336,"common/Device":337,"lodash.assignin":42,"lodash.random":50,"utils/DOM":355,"views/abstract/AbstractView":362}],407:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("common/MediaQueries"),a=i(s),l=e("utils/DOM"),u=o["default"].extend({template:"staged-video",events:{"click .staged-video--container":"onPlayClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];u.__super__.constructor.call(this,e),this.video=this.el.querySelector("video")},showFromScroll:function(){a["default"].isLargerThanBreakpoint(a["default"].TABLETPORTRAIT)&&this.video.play()},onPlayClick:function(e){a["default"].isSmallerThanBreakpoint(a["default"].TABLETPORTRAIT)&&(this.video.play(),this.hideUI())},hideUI:function(){(0,l.toggleClass)(this.el,"is-playing")}});n["default"]=u},{"common/MediaQueries":340,"utils/DOM":355,"views/abstract/AbstractView":362}],408:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=void 0,i=void 0;return"touchmove"===t?(n=e.touches[0].pageX,i=e.touches[0].pageY):(n=e.pageX,i=e.pageY),{x:n,y:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("lodash.assignin"),s=i(o),a=e("views/abstract/AbstractView"),l=i(a),u=e("common/Channel"),c=i(u),d=e("common/Constants"),h=i(d),f=e("common/Device"),p=i(f),v=e("common/MediaQueries"),m=i(v),g=e("utils/DOM"),b=e("../../../../../interactive-branding/src/Four"),y=i(b),_=e("../../../../../interactive-branding/src/Four/defaults"),w=i(_),E=l["default"].extend({template:"story-hero",dims:{width:null,height:null,top:null},activeIndex:0,TRANSITION_TIME:700,SHOW_NEXT_TIMER_DELAY:4e3,firstResize:!0,transitioningSlides:!1,pointerPosition:null,previousPointerPosition:null,downPointerPosition:null,events:{'click [data-story-item-state="next"]':"onNextItemClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),E.__super__.constructor.call(this,e)},_bindClassMethods:function(){this.onResize=this.onResize.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onScroll=this.onScroll.bind(this),this.onAnnouncementClose=this.onAnnouncementClose.bind(this)},init:function(){c["default"].trigger(h["default"].HAS_HERO_HEADER,this.el),this.hasIB=Modernizr.dm_interactive_branding,this.moveInteraction="ontouchstart"in window?"touchmove":"mousemove",this.downInteraction="ontouchstart"in window?"touchstart":"mousedown",this.upInteraction="ontouchstart"in window?"touchend":"mouseup",this.items=this.queryAll("[data-story-item]"),this.IBs=this.queryAll("[data-ib-target]"),this.theme=this.el.getAttribute("data-theme"),this.setupItems(),this.cacheDimensions(),this.bindEvents(),this.start()},cacheDimensions:function(){var e=this.el.clientWidth,t=this.el.clientHeight,n=this.el.offsetTop;this.dims={width:e,height:t,top:n}},onResize:function(e,t){var n=this;t&&(this.cacheDimensions(),!this.firstResize&&this.hasIB&&(this.items.forEach(function(e){return e.IB.resize(n.dims.width,n.dims.height)}),this.items[this.activeIndex].IB.playGuidesAnimation())),this.firstResize=!1,this.items.length>1&&this.positionNextItem()},onScroll:function(e){var t=this.items[this.activeIndex];this.hasIB&&(e>this.dims.top+this.dims.height?t.IB.isPaused||(t.IB.pause(),this.items.length>1&&this.stopAutoplayTimer()):t.IB.isPaused&&(t.IB.play(),this.items.length>1&&this.startAutoplayTimer()))},onAnnouncementClose:function(){this.cacheDimensions()},onPointerMove:function(e){var t=r(e,this.moveInteraction),n=t.x,i=t.y;this.coordIsInBounds(i)&&(this.pointerPosition&&(this.previousPointerPosition={x:this.pointerPosition.x,y:this.pointerPosition.y}),this.pointerPosition={x:n,y:i},this.updateSlidePositions(),this.passPointerPosition(n,i-this.dims.top))},onPointerDown:function(e){var t=r(e,this.moveInteraction),n=t.x,i=t.y;this.coordIsInBounds(i)&&(this.stopAutoplayTimer(),this.pointerDown=!0,this.downPointerPosition={x:n,y:i})},onPointerUp:function(e){var t=this,n=this._getPositionedItems(),i=n.currentItem,r=n.nextItem,o=c["default"].request(h["default"].REQUEST_VIEW_DIMENSIONS).width,s=this.pointerPosition&&this.downPointerPosition?Math.min(this.pointerPosition.x-this.downPointerPosition.x,0):0,a=s?(this.pointerPosition.x-this.downPointerPosition.x)/-100:0,l="next"===e.target.getAttribute("data-story-item-state")||!!(0,g.closest)(e.target,function(e){return e.getAttribute&&"next"===e.getAttribute("data-story-item-state")});this.transitioningSlides=!0,this.enableItemTransitions(i,r),s*a<=o*-.5||l?(this.setSlidePositions(-o,0),this.stopAutoplayTimer(),this.showNextItem()):(this.setSlidePositions(0,o),this.startAutoplayTimer()),setTimeout(function(){t.transitioningSlides=!1,t.removeItemStyles(i,r)},1.2*this.TRANSITION_TIME),this.pointerDown=!1},onNextItemClick:function(e){this.stopAutoplayTimer(),this.showNextItem()},bindEvents:function(){window.addEventListener(this.moveInteraction,this.onPointerMove,!1),this.items.length>1&&(this.el.addEventListener(this.downInteraction,this.onPointerDown,!1),window.addEventListener(this.upInteraction,this.onPointerUp,!1)),this.listenTo(c["default"],h["default"].EVENT_RESIZE,this.onResize),this.listenTo(c["default"],h["default"].EVENT_SCROLL,this.onScroll),this.listenTo(c["default"],h["default"].ANNOUNCEMENT_REMOVED,this.onAnnouncementClose)},unbindEvents:function(){window.removeEventListener(this.moveInteraction,this.onPointerMove,!1),this.items.length>1&&(this.el.removeEventListener(this.downInteraction,this.onPointerDown,!1),window.removeEventListener(this.upInteraction,this.onPointerUp,!1))},dispose:function(){this.clearShowNextTimers(),this.stopAutoplayTimer(),this.unbindEvents(),this.hasIB&&this.items.forEach(function(e){return e.IB.destroy()}),E.__super__.dispose.apply(this,arguments)},setupItems:function(){var e=this;this.items=this.items.map(function(t,n){var i=t,r=i.querySelector("[data-message-item]"),o=e.IBs[n],a=e.hasIB?new y["default"]((0,s["default"])({parentNode:o,isInteractive:!1,autoplay:!1},w["default"][e.theme][p["default"].power])):null;return{node:i,messageNode:r,IBnode:o,IB:a}})},start:function(){var e=this;this.hasIB&&(this.items[0].IB.play(),setTimeout(function(){e.items[0].IB.playGuidesAnimation()},1200)),this.activeIndex=0,this.items.length>1?(this.startAutoplayTimer(),this.positionNextItem()):this.el.classList.add("has-single-item-only")},_getPositionedItems:function(){var e=this.activeIndex===this.items.length-1?0:this.activeIndex+1,t=e===this.items.length-1?0:e+1,n=this.items[this.activeIndex],i=this.items[e],r=this.items[t];return{currentItem:n,nextIndex:e,nextItem:i,nextNextItem:r}},showNextItem:function(){var e=this;this.stopAutoplayTimer(),this.clearShowNextTimers();var t=this._getPositionedItems(),n=t.currentItem,i=t.nextIndex,r=t.nextItem,o=t.nextNextItem;n.node.setAttribute("data-story-item-state","previous"),n.IBnode.setAttribute("data-story-item-state","previous"),r.node.setAttribute("data-story-item-state","active"),r.messageNode.removeAttribute("style"),r.IBnode.setAttribute("data-story-item-state","active"),this.hasIB&&(r.IB.play(),r.IB.startPoint={x:10,y:n.IB.finishPoint.y}),this.transitioningSlides=!0,this.showNextItemTimerOne=setTimeout(function(){e.hasIB&&r.IB.playGuidesAnimation()},this.TRANSITION_TIME/1.5),this.showNextItemTimerTwo=setTimeout(function(){e.hasIB&&(n.IB.stopGuidesAnimation(),n.IB.pause()),n.node.setAttribute("data-story-item-state","hidden"),n.IBnode.setAttribute("data-story-item-state","hidden"),e.activeIndex=i,e.transitioningSlides=!1},this.TRANSITION_TIME),this.showNextItemTimerThree=setTimeout(function(){o.node.setAttribute("data-story-item-state","next"),o.IBnode.setAttribute("data-story-item-state","next"),e.positionNextItem(o),e.startAutoplayTimer()},1.1*this.TRANSITION_TIME)},clearShowNextTimers:function(){var e=this;["showNextItemTimerOne","showNextItemTimerTwo","showNextItemTimerThree"].forEach(function(t){clearTimeout(e[t])})},updateSlidePositions:function(){if(this.pointerDown&&this.downPointerPosition&&!this.transitioningSlides){var e=this._getPositionedItems(),t=e.currentItem,n=e.nextItem,i=c["default"].request(h["default"].REQUEST_VIEW_DIMENSIONS).width,r=Math.min(this.pointerPosition.x-this.downPointerPosition.x,0);this.disableItemTransitions(t,n),this.setSlidePositions(r,i+r)}},setSlidePositions:function(e,t){var n=this._getPositionedItems(),i=n.currentItem,r=n.nextItem;i.node.style.transform=i.IBnode.style.transform="translate3d("+e+"px, 0, 0)",r.node.style.transform=r.IBnode.style.transform="translate3d("+t+"px, 0, 0)"},positionNextItem:function(e){if(!e){var t=this._getPositionedItems(),n=t.nextItem;e=n}var i=m["default"].isSmallerThanBreakpoint(m["default"].DESKTOP)?.15:.2,r=c["default"].request(h["default"].REQUEST_VIEW_DIMENSIONS).width,o=r*-.5-r*i;e.messageNode.style.transform="translate3d("+o+"px, 0, 0)"},passPointerPosition:function(e,t){this.hasIB&&this.items[this.activeIndex].IB.setPointer(e,t)},coordIsInBounds:function(e){return e>=this.dims.top&&e<this.dims.height+this.dims.top},disableItemTransitions:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){e.node.classList.add("disable-transition"),e.IBnode.classList.add("disable-transition")})},enableItemTransitions:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){e.node.classList.remove("disable-transition"),e.IBnode.classList.remove("disable-transition")})},removeItemStyles:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){e.node.removeAttribute("style"),e.IBnode.removeAttribute("style")})},startAutoplayTimer:function(){this.autoplayTimer||(this.autoplayTimer=setTimeout(this.showNextItem.bind(this),this.SHOW_NEXT_TIMER_DELAY))},stopAutoplayTimer:function(){clearTimeout(this.autoplayTimer),this.autoplayTimer=null}});n["default"]=E},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"common/Channel":335,"common/Constants":336,"common/Device":337,"common/MediaQueries":340,"lodash.assignin":42,"utils/DOM":355,"views/abstract/AbstractView":362}],409:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("perfect-scrollbar"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=a["default"].extend({template:"sub-navigation",constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.__super__.constructor.call(this,e)},init:function(){this.scrollbar=o["default"].initialize(this.el)},dispose:function(){o["default"].destroy(this.el),l.__super__.dispose.apply(this,arguments)}});n["default"]=l},{"perfect-scrollbar":299,"views/abstract/AbstractView":362}],410:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assignin"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("common/InteractiveBrandingHover"),u=i(l),c=a["default"].extend({template:"three-up-item",constructor:function(){Modernizr.touchevents||(this.events=(0,o["default"])(this.events,{mouseenter:u["default"].onMouseEnter,mouseleave:u["default"].onMouseLeave})),c.__super__.constructor.apply(this,arguments)},dispose:function(){Modernizr.touchevents||u["default"].remove(this.el),c.__super__.dispose.apply(this,arguments)}});n["default"]=c},{"common/InteractiveBrandingHover":339,"lodash.assignin":42,"views/abstract/AbstractView":362}],411:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("common/Channel"),a=(i(s),e("common/Constants")),l=(i(a),e("router/AppRouter")),u=i(l),c=e("utils/replaceScriptTags"),d=i(c),h=o["default"].extend({template:"twitter-embed",constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];h.__super__.constructor.call(this,e)},init:function(){var e=u["default"].getInstance();e.routeCount>1&&(0,d["default"])(this.el)},dispose:function(){h.__super__.dispose.apply(this,arguments)}});n["default"]=h},{"common/Channel":335,"common/Constants":336,"router/AppRouter":354,"utils/replaceScriptTags":358,"views/abstract/AbstractView":362}],412:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("common/Channel"),a=(i(s),e("common/Constants")),l=(i(a),e("common/VideoPlayer")),u=i(l),c=e("utils/DOM"),d=o["default"].extend({template:"video",events:{"click .video--container":"onPlayClick"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];d.__super__.constructor.call(this,e),this.youtubeId=this.query("[data-youtube-id]").getAttribute("data-youtube-id"),this.videoPlaceholder=this.query("[data-video-placeholder] span")},dispose:function(){this.player&&u["default"].pause(this.player),d.__super__.dispose.apply(this,arguments)},onPlayClick:function(e){this.player=u["default"].create({video_id:this.youtubeId},this.videoPlaceholder),this.player.then(function(e){return u["default"].play(e)}),this.hideImage()},hideImage:function(){(0,c.toggleClass)(this.el,"loaded")}});n["default"]=d},{"common/Channel":335,"common/Constants":336,"common/VideoPlayer":347,"utils/DOM":355,"views/abstract/AbstractView":362}],413:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=i(r),s=e("lodash.assignin"),a=i(s),l=e("lodash.merge"),u=i(l),c=e("lodash.throttle"),d=(i(c),e("lodash.debounce")),h=i(d),f=e("router/AppRouter"),p=i(f),v=e("models/AppModel"),m=i(v),g=e("common/Channel"),b=i(g),y=e("common/Constants"),_=i(y),w=e("common/Singleton"),E=i(w),I=e("common/ViewFinder"),T=i(I),S=e("common/Device"),C=i(S),x=e("views/abstract/AbstractView"),A=i(x),O=e("views/core/Menu"),N=i(O),M=e("views/core/PageLoadProgress"),P=i(M),k=e("../../../../../interactive-branding/src/Four"),R=i(k),L=e("../../../../../interactive-branding/src/Four/defaults"),D=i(L),j=A["default"].extend({template:"header",burgerBtn:null,mobSearchBtn:null,burgerBtnHeight:62,announcement:null,hero:null,nav:null,menu:null,hasAnnouncement:!1,hasHero:!1,SHOW_DROPDOWN_DELAY:50,HIDE_DROPDOWN_DELAY:50,navItemTimer:null,navItemLeaveTimer:null,activeNavItem:null,modules:[N["default"],P["default"]],events:{"click [data-burger-wrap]":"onBurgerClick","click [data-search-btn]":"onSearchClick","touchend [data-has-subitems]":"onNavItemEnter"},constructor:function(){var e=this;this._bindClassMethods(),j.__super__.constructor.call(this);var t=T["default"].findChildren(this,N["default"]);this.menu=t[0];var n=T["default"].findChildren(this,P["default"]);this.pageLoadProgress=n[0],this.nav=this.query("[data-site-nav]"),this.burgerBtn=this.query("[data-burger]"),this.burgerWrap=this.query("[data-burger-wrap]"),this.mobSearchBtn=this.query("[data-search-btn].search-btn--mobile"),this.subNavLinks=this.queryAll("[data-has-subitems]"),this.subNavLists=this.queryAll("[data-subitem-list]"),this.setupPrimaryNavItems(),this.setupLoader(),this.subNavLinks.forEach(function(t){t.addEventListener("mouseenter",e.onNavItemEnter.bind(e)),t.addEventListener("mouseleave",e.onNavItemLeave.bind(e))}),this.subNavLists.forEach(function(t){t.addEventListener("mouseenter",e.onNavItemEnter.bind(e)),t.addEventListener("mouseleave",e.onNavItemLeave.bind(e))})},_bindClassMethods:function(){this.onScroll=this.onScroll.bind(this),this.onResize=(0,h["default"])(this.onResize.bind(this),_["default"].RESIZE_DEBOUNCE),this.onHashChanged=this.onHashChanged.bind(this),this.onChangeViewStart=this.onChangeViewStart.bind(this),this.onChangeViewEnd=this.onChangeViewEnd.bind(this),this.onGlobalLoadingShow=this.onGlobalLoadingShow.bind(this),this.onGlobalLoadingHide=this.onGlobalLoadingHide.bind(this)},init:function(){var e=this;this.listenTo(b["default"],_["default"].EVENT_SCROLL,this.onScroll),this.listenTo(b["default"],_["default"].EVENT_RESIZE,this.onResize),this.listenTo(b["default"],_["default"].HAS_ANNOUNCEMENT,function(t){e.announcement=t,e.hasAnnouncement=!0,e.getDimensions()}),this.listenTo(b["default"],_["default"].ANNOUNCEMENT_REMOVED,function(){e.announcement=null,e.hasAnnouncement=!1,e.burgerWrap.removeAttribute("style"),e.mobSearchBtn.removeAttribute("style"),e.pageLoadProgress.el.removeAttribute("style"),e.getDimensions()}),this.listenTo(b["default"],_["default"].HAS_HERO_HEADER,function(t){e.hero=t,e.hasHero=!0,e.heroWhiteBlock=t.querySelector(".white-block"),e.el.classList.add("has-hero"),e.getDimensions()}),this.listenTo(b["default"],_["default"].NAV_MASK_CLICK,function(){e.activeNavItem.classList.remove("hover-active"),b["default"].trigger(_["default"].NAV_ITEM_LEAVE,e.activeNavItem),e.activeNavItem=null}),this.listenTo(b["default"],_["default"].EVENT_HASH_CHANGED,this.onHashChanged),this.listenTo(b["default"],_["default"].EVENT_CHANGE_VIEW_START,this.onChangeViewStart),this.listenTo(b["default"],_["default"].EVENT_CHANGE_VIEW_COMPLETE,this.onChangeViewEnd),this.listenTo(b["default"],_["default"].EVENT_SHOW_GLOBAL_LOADING,this.onGlobalLoadingShow),this.listenTo(b["default"],_["default"].EVENT_HIDE_GLOBAL_LOADING,this.onGlobalLoadingHide),this.listenTo(b["default"],_["default"].MENU_OPEN,function(t){e.burgerWrap.classList.toggle("is-open"),t&&e.hasAnnouncement?(e.burgerWrap.style.position="fixed",e.burgerWrap.style.top=0):!t&&e.hasAnnouncement&&(e.burgerWrap.removeAttribute("style"),e.burgerWrap.style.position="absolute")}),this.getDimensions()},dispose:function(){this.loaderIB.destroy(),j.__super__.dispose.apply(this,arguments)},getDimensions:function(){this.dims=(0,u["default"])({},this.el.getBoundingClientRect()),this.dims.top+=document.body.scrollTop,this.dims.bottom+=document.body.scrollTop,this.hasHero&&(this.boundingDims=(0,u["default"])({},this.hero.getBoundingClientRect()),this.heroWhiteBlock&&(this.boundingDims.bottom-=this.heroWhiteBlock.offsetHeight),this.boundingDims.top+=document.body.scrollTop,this.boundingDims.bottom+=document.body.scrollTop),this.hasAnnouncement&&(this.announcementDims=(0,u["default"])({},this.announcement.getBoundingClientRect()),this.announcementDims.top+=document.body.scrollTop,this.announcementDims.bottom+=document.body.scrollTop)},setupPrimaryNavItems:function(){this.primaryNavItems=this.queryAll("[data-primary-nav-item]").map(function(e){var t=e.querySelector("a"),n=new RegExp("^"+t.href,"i");return{el:e,re:n}})},setupLoader:function(){var e=this.query("[data-ib-target]");this.loaderIB=new R["default"]((0,a["default"])({},D["default"].deepmind[C["default"].POWER_HIGH],{parentNode:e,isInteractive:!1,autoplay:!1,disableGuides:!0,POINTS_count:3,POINTS_maxVelocity:2,CONNECTIONS_reach:100,CONNECTIONS_maxPerPoint:50,CONNECTIONS_colourOne:"#ffffff",CONNECTIONS_colourTwo:"#ffffff",CONNECTIONS_colourThree:"#ffffff",CONNECTIONS_strength:1,CONNECTIONS_strengthAlpha:0,CONNECTIONS_maxWidth:1.5,CONTAINER_colour:"#0074C8",CONTAINER_oversize:0}))},positionBurger:function(e){var t=this.announcementDims.height-e;t>=0?this.burgerWrap.style.position=this.pageLoadProgress.el.style.position=this.mobSearchBtn.style.position="absolute":(this.burgerWrap.style.position=this.pageLoadProgress.el.style.position=this.mobSearchBtn.style.position="fixed",this.burgerWrap.style.top=this.pageLoadProgress.el.style.top=this.mobSearchBtn.style.top=0)},onScroll:function(e){this.hasHero&&e>this.boundingDims.top+this.boundingDims.bottom-(this.dims.bottom+this.burgerBtnHeight)||!this.hasHero&&e>this.dims.top+this.dims.bottom?this.el.classList.add("is-beyond"):this.el.classList.remove("is-beyond"),e>this.dims.top+this.dims.bottom?this.el.classList.add("hide-nav"):this.el.classList.remove("hide-nav"),this.hasAnnouncement&&this.positionBurger(e)},onResize:function(){this.getDimensions(),this.loaderIB.resize()},onBurgerClick:function(e){this.toggleMenu()},onSearchClick:function(e){b["default"].trigger(_["default"].SEARCH_TOGGLE)},onNavItemEnter:function(e){var t=this;clearTimeout(this.navItemLeaveTimer);var n=e.target.parentNode;this.activeNavItem&&this.activeNavItem!==n&&(this.activeNavItem.classList.remove("hover-active"),b["default"].trigger(_["default"].NAV_ITEM_LEAVE,this.activeNavItem)),"touchend"===e.type&&n!==this.activeNavItem&&e&&e.preventDefault(),this.navItemTimer=setTimeout(function(){n.classList.add("hover-active"),t.activeNavItem=n,b["default"].trigger(_["default"].NAV_ITEM_ENTER,n)},this.SHOW_DROPDOWN_DELAY)},onNavItemLeave:function(e){var t=this;clearTimeout(this.navItemTimer);var n=e.target.parentNode;this.navItemLeaveTimer=setTimeout(function(){n.classList.remove("hover-active"),t.activeNavItem=null,b["default"].trigger(_["default"].NAV_ITEM_LEAVE,n)},this.HIDE_DROPDOWN_DELAY)},onSubItemEnter:function(e){this.navItemLeaveTimer&&clearTimeout(this.navItemLeaveTimer)},onSubItemLeave:function(e){},onHashChanged:function(e,t,n){n.FIRST_ROUTE&&this.updateActivePrimaryNavItem(),this.menu.isOpen&&this.toggleMenu(),this.activeNavItem&&this.closeNavItem()},onChangeViewStart:function(){window.scrollTo(0,0),this.hero=null,this.hasHero=!1,this.el.classList.remove("has-hero"),this.getDimensions()},onChangeViewEnd:function(){this.updateActivePrimaryNavItem()},onGlobalLoadingShow:function(){this.showLoadingState()},onGlobalLoadingHide:function(){this.hideLoadingState()},updateActivePrimaryNavItem:function(){var e=p["default"].getInstance(),t=m["default"].getInstance(),n=this.primaryNavItems.filter(function(n){return n.re.exec(t.get("baseUrl")+"/"+e.current.route)});this.primaryNavItems.forEach(function(e){return e.el.classList.remove("is-active")}),n.length&&n[0].el.classList.add("is-active")},showLoadingState:function(){clearTimeout(this.loaderHideTimer),this.burgerWrap.classList.add("is-loading"),this.loaderIB.play()},hideLoadingState:function(){var e=this;clearTimeout(this.loaderHideTimer),this.burgerWrap.classList.remove("is-loading"),this.loaderHideTimer=setTimeout(function(){e.loaderIB.pause(),e.loaderIB.setupPoints()},300)},toggleMenu:function(){this.menu.toggle()},closeNavItem:function(){var e=this.activeNavItem;e.classList.remove("hover-active"),this.activeNavItem=null,b["default"].trigger(_["default"].NAV_ITEM_LEAVE,e)}});n["default"]=(0,o["default"])(j,E["default"])},{"../../../../../interactive-branding/src/Four":4,"../../../../../interactive-branding/src/Four/defaults":3,"common/Channel":335,"common/Constants":336,"common/Device":337,"common/Singleton":344,"common/ViewFinder":349,"lodash.assign":41,"lodash.assignin":42,"lodash.debounce":43,"lodash.merge":48,"lodash.throttle":56,"models/AppModel":350,"router/AppRouter":354,"views/abstract/AbstractView":362,"views/core/Menu":414,"views/core/PageLoadProgress":415}],414:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractView"),o=i(r),s=e("common/Channel"),a=i(s),l=e("common/Constants"),u=i(l),c=o["default"].extend({template:"menu",isOpen:!1,TRANSITION_OUT_TIME:1e3,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.__super__.constructor.call(this,e),window.addEventListener("keyup",this.onKeyUp.bind(this))},onKeyUp:function(e){27===e.keyCode&&this.isOpen&&this.toggle()},toggle:function(){var e=this;clearTimeout(this.resetScrollTimer),this.isOpen=!this.isOpen,this.el.classList.toggle("menu--is-open"),a["default"].trigger(u["default"].MENU_OPEN,this.isOpen),this.isOpen||(this.resetScrollTimer=setTimeout(function(){e.el.scrollTop=0},this.TRANSITION_OUT_TIME))}});n["default"]=c},{"common/Channel":335,"common/Constants":336,"views/abstract/AbstractView":362}],415:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.random"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("common/Channel"),u=i(l),c=e("common/Constants"),d=i(c),h=e("utils/DOM"),f=15,p=a["default"].extend({template:"page-load-progress",currentLoaderProgress:0,fakeLoaderTimer:null,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),p.__super__.constructor.call(this,e),this.bindEvents()},_bindClassMethods:function(){this.onPageLoadStart=this.onPageLoadStart.bind(this),this.onPageLoadProgress=this.onPageLoadProgress.bind(this),this.onPageLoadEnd=this.onPageLoadEnd.bind(this),this.onPageLoadAbort=this.onPageLoadAbortOrError.bind(this)},bindEvents:function(){this.listenTo(u["default"],d["default"].EVENT_PAGE_LOAD_START,this.onPageLoadStart),this.listenTo(u["default"],d["default"].EVENT_PAGE_LOAD_PROGRESS,this.onPageLoadProgress),this.listenTo(u["default"],d["default"].EVENT_PAGE_LOAD_END,this.onPageLoadEnd),this.listenTo(u["default"],d["default"].EVENT_PAGE_LOAD_ABORT,this.onPageLoadAbortOrError),this.listenTo(u["default"],d["default"].EVENT_PAGE_LOAD_ERROR,this.onPageLoadAbortOrError)},onPageLoadStart:function(){this.el.classList.add("is-visible"),this.onPageLoadProgress(f)},onPageLoadProgress:function(e){if(clearTimeout(this.fakeLoaderTimer),e>this.currentLoaderProgress){var t=Math.min(e/100,1);this.currentLoaderProgress=e,(0,h.setTransform)(this.el,"scaleX("+t+")")}this._startFakeProgressTimer()},onPageLoadEnd:function(){var e=this;clearTimeout(this.fakeLoaderTimer),(0,h.setTransform)(this.el,"scaleX(1)"),setTimeout(function(){e.resetPageLoader(!1)},200)},onPageLoadAbortOrError:function(){this.resetPageLoader()},resetPageLoader:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];this.el.classList.remove("is-visible"),this.currentLoaderProgress=0,t?(this.ui.$pageLoader.css({transform:"scaleX(0)"}),(0,h.setTransform)(this.el,"scaleX(0)")):setTimeout(function(){return(0,h.setTransform)(e.el,"scaleX(0)")},100)},_startFakeProgressTimer:function(){this.fakeLoaderTimer=setTimeout(this.onPageLoadProgress.bind(this,(0,o["default"])(this.currentLoaderProgress,this.currentLoaderProgress+(0,o["default"])(0,10))),(0,o["default"])(100,600))}});n["default"]=p},{"common/Channel":335,"common/Constants":336,"lodash.random":50,"utils/DOM":355,"views/abstract/AbstractView":362}],416:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.assign"),o=i(r),s=e("views/abstract/AbstractView"),a=i(s),l=e("router/AppRouter"),u=i(l),c=e("models/PageModel"),d=i(c),h=e("common/Singleton"),f=i(h),p=e("common/Channel"),v=i(p),m=e("common/Constants"),g=i(m),b=e("common/UrlHelper"),y=i(b),_=e("common/Analytics"),w=i(_),E=e("views/pages/Home"),I=i(E),T=e("views/pages/Product"),S=i(T),C=e("views/pages/ResearchLanding"),x=i(C),A=e("views/pages/ResearchListing"),O=i(A),N=e("views/pages/AppliedLanding"),M=i(N),P=e("views/pages/BlogArticle"),k=i(P),R=e("views/pages/BlogListing"),L=i(R),D=e("views/pages/GenericPage"),j=i(D),B=e("views/pages/SectorLanding"),V=i(B),H=e("views/pages/PromotedResearch"),F=i(H),U=e("views/pages/CareerSection"),G=i(U),z=e("views/pages/Application"),q=i(z),W=e("views/pages/SearchResults"),Y=i(W),X=e("views/pages/Components"),K=i(X),$=e("views/pages/HighlightedResearchListing"),Q=i($),J=e("views/pages/ResearchPublicationDetail"),Z=i(J),ee=a["default"].extend({template:"wrapper",pages:[I["default"],x["default"],S["default"],O["default"],M["default"],k["default"],L["default"],j["default"],V["default"],F["default"],G["default"],q["default"],Y["default"],K["default"],Q["default"],Z["default"]],activePageRequest:null,activePageModel:null,previousView:null,currentView:null,constructor:function(){this._bindClassMethods(),ee.__super__.constructor.call(this)},_bindClassMethods:function(){this.onHashChanged=this.onHashChanged.bind(this),this.onChangeViewStart=this.onChangeViewStart.bind(this),this.onHasHeroHeader=this.onHasHeroHeader.bind(this),this.onNewPageRequestDone=this.onNewPageRequestDone.bind(this),this.onPageModelRequest=this.onPageModelRequest.bind(this),this.onIndexedBlocksRequest=this.onIndexedBlocksRequest.bind(this)},init:function(){this.bindEvents(),this.bindChannelReplies()},dispose:function(){v["default"].stopReplying(g["default"].REQUEST_PAGE_MODEL),v["default"].stopReplying(g["default"].REQUEST_INDEXED_BLOCKS),ee.__super__.dispose.apply(this,arguments)},bindEvents:function(){this.listenTo(v["default"],g["default"].EVENT_HASH_CHANGED,this.onHashChanged),this.listenTo(v["default"],g["default"].EVENT_CHANGE_VIEW_START,this.onChangeViewStart),this.listenTo(v["default"],g["default"].HAS_HERO_HEADER,this.onHasHeroHeader)},bindChannelReplies:function(){v["default"].reply(g["default"].REQUEST_PAGE_MODEL,this.onPageModelRequest),v["default"].reply(g["default"].REQUEST_INDEXED_BLOCKS,this.onIndexedBlocksRequest)},onHashChanged:function(e,t,n){return n.FIRST_ROUTE?this._firstChangeView(e):(v["default"].trigger(g["default"].EVENT_SHOW_GLOBAL_LOADING),void this._initiateNewPageRequest(e))},onChangeViewStart:function(){this.el.classList.remove("has-hero")},onHasHeroHeader:function(){this.el.classList.add("has-hero")},onPageModelRequest:function(){return this.activePageModel},onIndexedBlocksRequest:function(){return this.currentView.queryAll("[id^=block-]")},getViewByPageType:function(e){var t=this.pages.filter(function(t){return t.prototype.page===e}),n=!!t.length&&t[0];if(!n)throw new Error("No view... wut?");return n},_firstChangeView:function(e){var t=window.document,n=this.query("[data-dm-page]"),i=(0,c.getPagePartials)(n),r=n.getAttribute("data-dm-page"),o=y["default"].getFullPathFromRouteObject(e),s=t.title,a=t.querySelector('meta[name="description"]')?t.querySelector('meta[name="description"]').getAttribute("content"):null,l=new d["default"]({document:t,page:n,pagePartials:i,pageType:r,pageUrl:o,title:s,description:a});this.activePageModel=l,this.changeView(l)},_postFirstChangeView:function(e){this.activePageModel=e,document.title=e.get("title"),w["default"].page(y["default"].getRelativeHref(this.activePageModel.get("pageUrl")));var t=u["default"].getInstance();if(t.previous.route===t.current.route)return void v["default"].trigger(g["default"].EVENT_CHANGE_PARTIAL_VIEW);var n=e.get("page");this.el.appendChild(n),Modernizr.safari&&this._applySafariSrcsetFix(n),this.changeView(e)},changeView:function(e){this.previousView=this.currentView;var t=this.getViewByPageType(e.get("pageType")),n=e.get("page"),i=e.get("pageUrl"),r=e.get("title");
this.currentView=new t({el:n,pageUrl:i,title:r}),this.addChild(this.currentView),this.transitionViews(this.previousView,this.currentView)},_initiateNewPageRequest:function(e){this.activePageRequest&&this.activePageRequest.abort();var t=y["default"].getFullUrlFromRouteObject(e),n=new d["default"]({pageUrl:t}),i=n.fetch(),r=i.promise,o=i.xhr;this.activePageRequest=o,r.then(this.onNewPageRequestDone)["catch"](this.onNewPageRequestFail)},onNewPageRequestDone:function(e){v["default"].trigger(g["default"].EVENT_HIDE_GLOBAL_LOADING),v["default"].trigger(g["default"].EVENT_HIDE_SEARCH),this._postFirstChangeView(e),this.activePageRequest=null},onNewPageRequestFail:function(e){v["default"].trigger(g["default"].EVENT_HIDE_GLOBAL_LOADING),v["default"].trigger(g["default"].EVENT_HIDE_SEARCH),window.location.reload()},transitionViews:function(e,t){e!==t&&(!e&&t?t.show():e&&t&&this._switchPages(e,t))},_switchPages:function(e,t){var n=this;e.hide(function(){n.remove(e),v["default"].trigger(g["default"].EVENT_CHANGE_VIEW_START),t.show(),window.requestAnimationFrame(function(){v["default"].trigger(g["default"].EVENT_CHANGE_VIEW_COMPLETE)})})},_applySafariSrcsetFix:function(e){Array.prototype.slice.call(e.querySelectorAll("img")).forEach(function(e){return e.src=e.src+"?safari_srcset_fix"})}});n["default"]=(0,o["default"])(ee,f["default"])},{"common/Analytics":334,"common/Channel":335,"common/Constants":336,"common/Singleton":344,"common/UrlHelper":346,"lodash.assign":41,"models/PageModel":352,"router/AppRouter":354,"views/abstract/AbstractView":362,"views/pages/Application":417,"views/pages/AppliedLanding":418,"views/pages/BlogArticle":419,"views/pages/BlogListing":420,"views/pages/CareerSection":421,"views/pages/Components":422,"views/pages/GenericPage":423,"views/pages/HighlightedResearchListing":424,"views/pages/Home":425,"views/pages/Product":426,"views/pages/PromotedResearch":427,"views/pages/ResearchLanding":428,"views/pages/ResearchListing":429,"views/pages/ResearchPublicationDetail":430,"views/pages/SearchResults":431,"views/pages/SectorLanding":432}],417:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.status>=200&&e.status<=300?a["default"].resolve(e):a["default"].reject(new Error(e.statusText))}function o(e){return e.json()}Object.defineProperty(n,"__esModule",{value:!0}),e("whatwg-fetch");var s=e("native-promise-only"),a=i(s),l=e("views/abstract/AbstractViewPage"),u=i(l),c=e("models/AppModel"),d=i(c),h=e("common/Constants"),f=i(h),p=e("views/components/ArticleCover"),v=i(p),m=e("views/components/FormElements"),g=i(m),b=e("views/components/EdiFieldset"),y=i(b),_=e("views/components/InlineShare"),w=i(_),E=e("utils/FormValidator"),I=i(E),T=u["default"].extend({page:"application",modules:[v["default"],g["default"],y["default"],w["default"]],events:{"submit form":"onFormSubmit"},validator:null,formWrapper:null,form:null,submitBtn:null,requestActive:!1,API_URL:null,captchaId:null,constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),T.__super__.constructor.call(this,e),this.validator=new I["default"]("[data-required]"),this.formWrapper=this.query(".form--wrapper"),this.form=this.query("[data-application-form]"),this.submitBtn=this.query("[data-submit-btn]"),this.csrfToken=this.query('[name*="csrf"]').value,this.captcha=this.query("[data-g-recaptcha-node]"),this.successMessage=this.query("[data-success-message]"),this.renderCaptcha()},_bindClassMethods:function(){this.onResetState=this.onResetState.bind(this),this.onRequestDone=this.onRequestDone.bind(this),this.onRequestFail=this.onRequestFail.bind(this)},renderCaptcha:function(){window.grecaptcha?this.captchaId=window.grecaptcha.render(this.captcha,{sitekey:this.captcha.getAttribute("data-sitekey")}):this.loadRecaptcha(this.renderCaptcha.bind(this))},resetCaptcha:function(){window.grecaptcha&&window.grecaptcha.reset()},loadRecaptcha:function(e){window.onloadRecaptchaCallback=e;var t="https://www.google.com/recaptcha/api.js?onload=onloadRecaptchaCallback&render=explicit",n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=t;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)},onFormSubmit:function(e){var t=this;return e.preventDefault(),this.removeMessage(),this.validator.validate()?window.grecaptcha.getResponse(this.captchaId)?!this.requestActive&&(this.requestActive=!0,this.API_URL||(this.API_URL=d["default"].getInstance().get("apiBaseUrl")+"/job-application/"),fetch(this.API_URL,{method:"POST",body:new FormData(this.form),credentials:"same-origin",headers:{"X-CSRFToken":this.csrfToken}}).then(this.onResetState).then(r).then(o).then(this.onRequestDone)["catch"](this.onRequestFail),this.formWrapper.classList.add("form--request-active"),this.submitBtn.disabled=!0,void setTimeout(function(e){return t.submitBtn.innerText="Please wait..."},100)):(this.showBasicMessage(f["default"].FORM_CAPCHA_ERROR_MSG),!1):(this.showBasicMessage(f["default"].FORM_INVALID_FIELDS_MSG),!1)},onResetState:function(e){return this.requestActive=!1,this.formWrapper.classList.remove("form--request-active"),this.submitBtn.removeAttribute("disabled"),this.submitBtn.innerText="Apply for the position",e},onRequestDone:function(e){this.showSuccessMessage(),this.hideForm(),this.resetCaptcha()},onRequestFail:function(e){this.showBasicMessage(f["default"].FORM_REQUEST_ERROR_MSG),this.resetCaptcha()},hideForm:function(){this.formWrapper.classList.add("form--success")},showBasicMessage:function(e){var t=document.createElement("p"),n=document.createElement("span");t.classList.add("bg-blue-1","p--meta","white","relative"),t.setAttribute("data-form-message",""),t.innerText=e,t.appendChild(n),this.form.appendChild(t)},removeMessage:function(){var e=this.queryAll("[data-form-message]");e.length&&e.forEach(function(e){return e.remove()})},showSuccessMessage:function(){this.successMessage.classList.add("show")}});n["default"]=T},{"common/Constants":336,"models/AppModel":350,"native-promise-only":297,"utils/FormValidator":356,"views/abstract/AbstractViewPage":363,"views/components/ArticleCover":365,"views/components/EdiFieldset":369,"views/components/FormElements":373,"views/components/InlineShare":381,"whatwg-fetch":328}],418:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/LandingCover"),a=i(s),l=e("views/components/ThreeUp/components/Item"),u=i(l),c=e("views/components/Breaker"),d=i(c),h=e("views/components/MeetTheTeam"),f=i(h),p=e("views/components/Culture"),v=i(p),m=e("views/components/SocialApi"),g=i(m),b=e("views/components/Recruitment"),y=i(b),_=o["default"].extend({page:"applied-landing",modules:[a["default"],u["default"],d["default"],f["default"],v["default"],g["default"],y["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_.__super__.constructor.call(this,e)}});n["default"]=_},{"views/abstract/AbstractViewPage":363,"views/components/Breaker":366,"views/components/Culture":368,"views/components/LandingCover":382,"views/components/MeetTheTeam":389,"views/components/Recruitment":395,"views/components/SocialApi":406,"views/components/ThreeUp/components/Item":410}],419:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/ArticleCover"),a=i(s),l=e("views/components/RichText"),u=i(l),c=e("views/components/InPageNavigation"),d=i(c),h=e("views/components/Breaker"),f=i(h),p=e("views/components/FAQ"),v=i(p),m=e("views/components/ThreeUp/components/Item"),g=i(m),b=e("views/components/ShareLine"),y=i(b),_=e("views/components/Embed"),w=i(_),E=e("views/components/Video"),I=i(E),T=e("views/components/Image"),S=i(T),C=e("views/components/ImageCarousel"),x=i(C),A=e("views/components/Share"),O=i(A),N=e("views/components/StagedVideo"),M=i(N),P=e("views/components/SelfHostedVideo"),k=i(P),R=e("views/components/Gif"),L=i(R),D=e("views/components/SocialApi"),j=i(D),B=o["default"].extend({page:"blog-article",modules:[a["default"],u["default"],d["default"],f["default"],v["default"],g["default"],y["default"],w["default"],O["default"],I["default"],M["default"],k["default"],S["default"],x["default"],L["default"],j["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];B.__super__.constructor.call(this,e)}});n["default"]=B},{"views/abstract/AbstractViewPage":363,"views/components/ArticleCover":365,"views/components/Breaker":366,"views/components/Embed":370,"views/components/FAQ":371,"views/components/Gif":376,"views/components/Image":377,"views/components/ImageCarousel":378,"views/components/InPageNavigation":380,"views/components/RichText":396,"views/components/SelfHostedVideo":399,"views/components/Share":400,"views/components/ShareLine":402,"views/components/SocialApi":406,"views/components/StagedVideo":407,"views/components/ThreeUp/components/Item":410,"views/components/Video":412}],420:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash.isempty"),o=i(r),s=e("views/abstract/AbstractViewPage"),a=i(s),l=e("views/components/Listing"),u=i(l),c=e("views/components/TwitterEmbed"),d=i(c),h=e("views/components/Featured"),f=i(h),p=e("router/AppRouter"),v=i(p),m=e("common/Channel"),g=i(m),b=e("common/Constants"),y=i(b),_=a["default"].extend({page:"blog-listing",modules:[f["default"],u["default"],d["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),_.__super__.constructor.call(this,e),this.bindEvents()},_bindClassMethods:function(){this.changePartialView=this.changePartialView.bind(this)},init:function(){this.appRouter=v["default"].getInstance(),this.updateUIState()},bindEvents:function(){this.listenTo(g["default"],y["default"].EVENT_CHANGE_PARTIAL_VIEW,this.changePartialView)},changePartialView:function(){this.updateUIState()},updateUIState:function(){var e=this.appRouter.current.query||{},t=!(0,o["default"])(e),n=t?"add":"remove";this.el.classList[n]("has-any-query")}});n["default"]=_},{"common/Channel":335,"common/Constants":336,"lodash.isempty":46,"router/AppRouter":354,"views/abstract/AbstractViewPage":363,"views/components/Featured":372,"views/components/Listing":388,"views/components/TwitterEmbed":411}],421:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/RichText"),a=i(s),l=e("views/components/Milestones"),u=i(l),c=e("views/components/ThreeUp/components/Item"),d=i(c),h=e("views/components/Culture"),f=i(h),p=e("views/components/Breaker"),v=i(p),m=e("views/components/FAQ"),g=i(m),b=e("views/components/SelfHostedVideo"),y=i(b),_=e("views/components/Embed"),w=i(_),E=e("views/components/Video"),I=i(E),T=e("views/components/Image"),S=i(T),C=e("views/components/MeetTheTeam"),x=i(C),A=e("views/components/Gif"),O=i(A),N=e("views/components/Recruitment"),M=i(N),P=e("views/components/SocialApi"),k=i(P),R=e("views/components/SubNavigation"),L=i(R),D=o["default"].extend({page:"career-section",modules:[a["default"],u["default"],d["default"],f["default"],v["default"],g["default"],y["default"],w["default"],I["default"],S["default"],x["default"],O["default"],k["default"],M["default"],L["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];D.__super__.constructor.call(this,e)}});n["default"]=D},{"views/abstract/AbstractViewPage":363,"views/components/Breaker":366,"views/components/Culture":368,"views/components/Embed":370,"views/components/FAQ":371,"views/components/Gif":376,"views/components/Image":377,"views/components/MeetTheTeam":389,"views/components/Milestones":390,"views/components/Recruitment":395,"views/components/RichText":396,"views/components/SelfHostedVideo":399,"views/components/SocialApi":406,"views/components/SubNavigation":409,"views/components/ThreeUp/components/Item":410,"views/components/Video":412}],422:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/Milestones"),a=i(s),l=e("views/components/MilestonesInteractive"),u=i(l),c=e("views/components/Featured"),d=i(c),h=e("views/components/ThreeUp/components/Item"),f=i(h),p=e("views/components/MeetTheTeam"),v=i(p),m=e("views/components/Breaker"),g=i(m),b=e("views/components/Listing"),y=i(b),_=e("views/components/FAQ"),w=i(_),E=e("views/components/Image"),I=i(E),T=e("views/components/Video"),S=i(T),C=e("views/components/Announcement"),x=i(C),A=e("views/components/SelfHostedVideo"),O=i(A),N=e("views/components/CookieBanner"),M=i(N),P=e("views/components/PartnerProfile"),k=i(P),R=e("views/components/ShareLine"),L=i(R),D=e("views/components/ImageCarousel"),j=i(D),B=e("views/components/Share"),V=i(B),H=e("views/components/StoryHero"),F=i(H),U=e("views/components/Culture"),G=i(U),z=e("views/components/Embed"),q=i(z),W=e("views/components/StagedVideo"),Y=i(W),X=e("views/components/FormElements"),K=i(X),$=e("views/components/InlineShare"),Q=i($),J=e("views/components/SocialApi"),Z=i(J),ee=e("views/components/Recruitment"),te=i(ee),ne=o["default"].extend({page:"components",modules:[a["default"],u["default"],x["default"],d["default"],f["default"],v["default"],g["default"],y["default"],Y["default"],O["default"],L["default"],Q["default"],V["default"],w["default"],j["default"],I["default"],k["default"],S["default"],M["default"],F["default"],G["default"],q["default"],K["default"],Z["default"],te["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];ne.__super__.constructor.call(this,e)}});n["default"]=ne},{"views/abstract/AbstractViewPage":363,"views/components/Announcement":364,"views/components/Breaker":366,"views/components/CookieBanner":367,"views/components/Culture":368,"views/components/Embed":370,"views/components/FAQ":371,"views/components/Featured":372,"views/components/FormElements":373,"views/components/Image":377,"views/components/ImageCarousel":378,"views/components/InlineShare":381,"views/components/Listing":388,"views/components/MeetTheTeam":389,"views/components/Milestones":390,"views/components/MilestonesInteractive":391,"views/components/PartnerProfile":394,"views/components/Recruitment":395,"views/components/SelfHostedVideo":399,"views/components/Share":400,"views/components/ShareLine":402,"views/components/SocialApi":406,"views/components/StagedVideo":407,"views/components/StoryHero":408,"views/components/ThreeUp/components/Item":410,"views/components/Video":412}],423:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/ArticleCover"),a=i(s),l=e("views/components/RichText"),u=i(l),c=e("views/components/InPageNavigation"),d=i(c),h=e("views/components/Milestones"),f=i(h),p=e("views/components/MilestonesListing"),v=i(p),m=e("views/components/MilestonesInteractive"),g=i(m),b=e("views/components/ThreeUp/components/Item"),y=i(b),_=e("views/components/Culture"),w=i(_),E=e("views/components/Breaker"),I=i(E),T=e("views/components/FAQ"),S=i(T),C=e("views/components/SelfHostedVideo"),x=i(C),A=e("views/components/StagedVideo"),O=i(A),N=e("views/components/ShareLine"),M=i(N),P=e("views/components/Embed"),k=i(P),R=e("views/components/Video"),L=i(R),D=e("views/components/PartnerProfile"),j=i(D),B=e("views/components/Image"),V=i(B),H=e("views/components/ImageCarousel"),F=i(H),U=e("views/components/MeetTheTeam"),G=i(U),z=e("views/components/Gif"),q=i(z),W=e("views/components/FormElements"),Y=i(W),X=e("views/components/SocialApi"),K=i(X),$=e("views/components/Recruitment"),Q=i($),J=e("views/components/FormboxForm"),Z=i(J),ee=e("views/components/SubNavigation"),te=i(ee),ne=o["default"].extend({page:"generic",modules:[a["default"],u["default"],d["default"],f["default"],v["default"],g["default"],y["default"],w["default"],I["default"],S["default"],j["default"],M["default"],x["default"],O["default"],k["default"],L["default"],V["default"],F["default"],G["default"],q["default"],Y["default"],K["default"],Q["default"],Z["default"],te["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];ne.__super__.constructor.call(this,e)}});n["default"]=ne},{"views/abstract/AbstractViewPage":363,"views/components/ArticleCover":365,"views/components/Breaker":366,"views/components/Culture":368,"views/components/Embed":370,"views/components/FAQ":371,"views/components/FormElements":373,"views/components/FormboxForm":375,"views/components/Gif":376,"views/components/Image":377,"views/components/ImageCarousel":378,"views/components/InPageNavigation":380,"views/components/MeetTheTeam":389,"views/components/Milestones":390,"views/components/MilestonesInteractive":391,"views/components/MilestonesListing":393,"views/components/PartnerProfile":394,"views/components/Recruitment":395,"views/components/RichText":396,"views/components/SelfHostedVideo":399,"views/components/ShareLine":402,"views/components/SocialApi":406,"views/components/StagedVideo":407,"views/components/SubNavigation":409,"views/components/ThreeUp/components/Item":410,"views/components/Video":412}],424:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/ArticleCover"),a=i(s),l=e("views/components/Breaker"),u=i(l),c=e("views/components/ThreeUp/components/Item"),d=i(c),h=e("views/components/SocialApi"),f=i(h),p=o["default"].extend({page:"highlighted-research-listing",modules:[a["default"],u["default"],d["default"],f["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];p.__super__.constructor.call(this,e)}});n["default"]=p},{"views/abstract/AbstractViewPage":363,"views/components/ArticleCover":365,"views/components/Breaker":366,"views/components/SocialApi":406,"views/components/ThreeUp/components/Item":410}],425:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/StoryHero"),a=i(s),l=e("views/components/Milestones"),u=i(l),c=e("views/components/Featured"),d=i(c),h=e("views/components/ThreeUp/components/Item"),f=i(h),p=e("views/components/MeetTheTeam"),v=i(p),m=e("views/components/FAQ"),g=i(m),b=e("views/components/Culture"),y=i(b),_=o["default"].extend({page:"home",modules:[a["default"],u["default"],d["default"],f["default"],v["default"],g["default"],y["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_.__super__.constructor.call(this,e)}});n["default"]=_},{"views/abstract/AbstractViewPage":363,"views/components/Culture":368,"views/components/FAQ":371,"views/components/Featured":372,"views/components/MeetTheTeam":389,"views/components/Milestones":390,"views/components/StoryHero":408,"views/components/ThreeUp/components/Item":410}],426:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/ArticleCover"),a=i(s),l=e("views/components/RichText"),u=i(l),c=e("views/components/InPageNavigation"),d=i(c),h=e("views/components/Milestones"),f=i(h),p=e("views/components/ThreeUp/components/Item"),v=i(p),m=e("views/components/Culture"),g=i(m),b=e("views/components/Breaker"),y=i(b),_=e("views/components/FAQ"),w=i(_),E=e("views/components/ShareLine"),I=i(E),T=e("views/components/Embed"),S=i(T),C=e("views/components/Video"),x=i(C),A=e("views/components/Image"),O=i(A),N=e("views/components/ImageCarousel"),M=i(N),P=e("views/components/MeetTheTeam"),k=i(P),R=e("views/components/StagedVideo"),L=i(R),D=e("views/components/SelfHostedVideo"),j=i(D),B=e("views/components/Recruitment"),V=i(B),H=e("views/components/Gif"),F=i(H),U=e("views/components/SocialApi"),G=i(U),z=e("views/components/SubNavigation"),q=i(z),W=o["default"].extend({page:"product",modules:[a["default"],u["default"],d["default"],f["default"],v["default"],g["default"],y["default"],L["default"],j["default"],w["default"],I["default"],S["default"],x["default"],O["default"],M["default"],k["default"],F["default"],G["default"],V["default"],q["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];W.__super__.constructor.call(this,e)}});n["default"]=W},{"views/abstract/AbstractViewPage":363,"views/components/ArticleCover":365,"views/components/Breaker":366,"views/components/Culture":368,"views/components/Embed":370,"views/components/FAQ":371,"views/components/Gif":376,"views/components/Image":377,"views/components/ImageCarousel":378,"views/components/InPageNavigation":380,"views/components/MeetTheTeam":389,"views/components/Milestones":390,"views/components/Recruitment":395,"views/components/RichText":396,"views/components/SelfHostedVideo":399,"views/components/ShareLine":402,"views/components/SocialApi":406,"views/components/StagedVideo":407,"views/components/SubNavigation":409,"views/components/ThreeUp/components/Item":410,"views/components/Video":412}],427:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/ArticleCover"),a=i(s),l=e("views/components/RichText"),u=i(l),c=e("views/components/InPageNavigation"),d=i(c),h=e("views/components/Milestones"),f=i(h),p=e("views/components/ThreeUp/components/Item"),v=i(p),m=e("views/components/Culture"),g=i(m),b=e("views/components/Breaker"),y=i(b),_=e("views/components/FAQ"),w=i(_),E=e("views/components/ShareLine"),I=i(E),T=e("views/components/Embed"),S=i(T),C=e("views/components/Video"),x=i(C),A=e("views/components/Image"),O=i(A),N=e("views/components/ImageCarousel"),M=i(N),P=e("views/components/MeetTheTeam"),k=i(P),R=e("views/components/StagedVideo"),L=i(R),D=e("views/components/SelfHostedVideo"),j=i(D),B=e("views/components/Recruitment"),V=i(B),H=e("views/components/Gif"),F=i(H),U=e("views/components/SocialApi"),G=i(U),z=e("views/components/SubNavigation"),q=i(z),W=o["default"].extend({page:"promoted-research",modules:[a["default"],u["default"],d["default"],f["default"],v["default"],g["default"],y["default"],w["default"],I["default"],L["default"],j["default"],S["default"],x["default"],O["default"],M["default"],k["default"],F["default"],G["default"],V["default"],q["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];W.__super__.constructor.call(this,e)}});n["default"]=W},{"views/abstract/AbstractViewPage":363,"views/components/ArticleCover":365,"views/components/Breaker":366,"views/components/Culture":368,"views/components/Embed":370,"views/components/FAQ":371,"views/components/Gif":376,"views/components/Image":377,"views/components/ImageCarousel":378,"views/components/InPageNavigation":380,"views/components/MeetTheTeam":389,"views/components/Milestones":390,"views/components/Recruitment":395,"views/components/RichText":396,"views/components/SelfHostedVideo":399,"views/components/ShareLine":402,"views/components/SocialApi":406,"views/components/StagedVideo":407,"views/components/SubNavigation":409,"views/components/ThreeUp/components/Item":410,"views/components/Video":412}],428:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/LandingCover"),a=i(s),l=e("views/components/Listing"),u=i(l),c=e("views/components/Breaker"),d=i(c),h=e("views/components/ThreeUp/components/Item"),f=i(h),p=e("views/components/MeetTheTeam"),v=i(p),m=e("views/components/Recruitment"),g=i(m),b=e("views/components/Culture"),y=i(b),_=e("views/components/SocialApi"),w=i(_),E=o["default"].extend({page:"research-landing",modules:[a["default"],u["default"],d["default"],f["default"],v["default"],y["default"],w["default"],g["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];E.__super__.constructor.call(this,e)}});n["default"]=E},{"views/abstract/AbstractViewPage":363,"views/components/Breaker":366,"views/components/Culture":368,"views/components/LandingCover":382,"views/components/Listing":388,"views/components/MeetTheTeam":389,"views/components/Recruitment":395,"views/components/SocialApi":406,"views/components/ThreeUp/components/Item":410}],429:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/ArticleCover"),a=i(s),l=e("views/components/Listing"),u=i(l),c=e("views/components/ListFilter"),d=i(c),h=o["default"].extend({page:"research-listing",modules:[a["default"],u["default"],d["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];h.__super__.constructor.call(this,e)}});n["default"]=h},{"views/abstract/AbstractViewPage":363,"views/components/ArticleCover":365,"views/components/ListFilter":383,"views/components/Listing":388}],430:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/ArticleCover"),a=i(s),l=e("views/components/RichText"),u=i(l),c=e("views/components/Share"),d=i(c),h=o["default"].extend({page:"research-publication-detail",modules:[a["default"],u["default"],d["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];h.__super__.constructor.call(this,e)}});n["default"]=h},{"views/abstract/AbstractViewPage":363,"views/components/ArticleCover":365,"views/components/RichText":396,"views/components/Share":400}],431:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/Listing"),a=i(s),l=e("router/AppRouter"),u=i(l),c=e("utils/serializeForm"),d=i(c),h=o["default"].extend({page:"search-results",modules:[a["default"]],events:{"keyup [data-search-input]":"onKeyUp","submit [data-search-form]":"onFormSubmit"},constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._bindClassMethods(),h.__super__.constructor.call(this,e),this.searchInput=this.query("[data-search-input]"),this.form=this.query("[data-search-form]"),this.bindEvents()},_bindClassMethods:function(){this.changePartialView=this.changePartialView.bind(this)},init:function(){this.appRouter=u["default"].getInstance()},bindEvents:function(){this.listenTo(Channel,Constants.EVENT_CHANGE_PARTIAL_VIEW,this.changePartialView)},changePartialView:function(e){},onKeyUp:function(e){""!==this.searchInput.value&&""!==this.searchInput.value.trim()&&13===e.keyCode&&this.onFormSubmit()},onFormSubmit:function(e){e&&e.preventDefault(),this.updateRouter()},updateRouter:function(){if(!Modernizr.dm_page_transitions)return this.form.submit();var e=(0,d["default"])(this.form);e=""===e?e:"?"+e,this.appRouter.navigateTo(this.appRouter.current.route+e)}});n["default"]=h},{"router/AppRouter":354,"utils/serializeForm":359,"views/abstract/AbstractViewPage":363,"views/components/Listing":388}],432:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("views/abstract/AbstractViewPage"),o=i(r),s=e("views/components/RichText"),a=i(s),l=e("views/components/InPageNavigation"),u=i(l),c=e("views/components/Milestones"),d=i(c),h=e("views/components/ThreeUp/components/Item"),f=i(h),p=e("views/components/Culture"),v=i(p),m=e("views/components/Breaker"),g=i(m),b=e("views/components/FAQ"),y=i(b),_=e("views/components/Embed"),w=i(_),E=e("views/components/Video"),I=i(E),T=e("views/components/MeetTheTeam"),S=i(T),C=e("views/components/StagedVideo"),x=i(C),A=e("views/components/SelfHostedVideo"),O=i(A),N=e("views/components/Recruitment"),M=i(N),P=e("views/components/StoryHero"),k=i(P),R=e("views/components/SocialApi"),L=i(R),D=e("views/components/SubNavigation"),j=i(D),B=o["default"].extend({page:"sector-landing",modules:[a["default"],u["default"],d["default"],f["default"],v["default"],g["default"],y["default"],w["default"],I["default"],x["default"],O["default"],S["default"],k["default"],L["default"],M["default"],j["default"]],constructor:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];B.__super__.constructor.call(this,e)}});n["default"]=B},{"views/abstract/AbstractViewPage":363,"views/components/Breaker":366,"views/components/Culture":368,"views/components/Embed":370,"views/components/FAQ":371,"views/components/InPageNavigation":380,"views/components/MeetTheTeam":389,"views/components/Milestones":390,"views/components/Recruitment":395,"views/components/RichText":396,"views/components/SelfHostedVideo":399,"views/components/SocialApi":406,"views/components/StagedVideo":407,"views/components/StoryHero":408,"views/components/SubNavigation":409,"views/components/ThreeUp/components/Item":410,"views/components/Video":412}]},{},[332]);